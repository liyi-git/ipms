define("echarts",["echarts/echarts"],function(a){return a});define("echarts/echarts",["require","./config","zrender/tool/util","zrender/tool/event","zrender/tool/env","zrender","zrender/config","./chart/island","./component/toolbox","./component","./component/title","./component/tooltip","./component/legend","./util/ecData","./chart","zrender/tool/color","./component/timeline","zrender/shape/Image","zrender/loadingEffect/Bar","zrender/loadingEffect/Bubble","zrender/loadingEffect/DynamicLine","zrender/loadingEffect/Ring","zrender/loadingEffect/Spin","zrender/loadingEffect/Whirling","./theme/macarons","./theme/infographic"],function(c){var k=c("./config");var e=c("zrender/tool/util");var l=c("zrender/tool/event");var m={};var b=c("zrender/tool/env").canvasSupported;var g=new Date()-0;var n={};var i="_echarts_instance_";m.version="2.2.5";m.dependencies={zrender:"2.1.0"};m.init=function(r,q){var p=c("zrender");if(p.version.replace(".","")-0<m.dependencies.zrender.replace(".","")-0){console.error("ZRender "+p.version+" is too old for ECharts "+m.version+". Current version need ZRender "+m.dependencies.zrender+"+")}r=r instanceof Array?r[0]:r;var o=r.getAttribute(i);if(!o){o=g++;r.setAttribute(i,o)}if(n[o]){n[o].dispose()}n[o]=new j(r);n[o].id=o;n[o].canvasSupported=b;n[o].setTheme(q);return n[o]};m.getInstanceById=function(o){return n[o]};function a(){l.Dispatcher.call(this)}e.merge(a.prototype,l.Dispatcher.prototype,true);function j(o){o.innerHTML="";this._themeConfig={};this.dom=o;this._connected=false;this._status={dragIn:false,dragOut:false,needRefresh:false};this._curEventType=false;this._chartList=[];this._messageCenter=new a();this._messageCenterOutSide=new a();this.resize=this.resize();this._init()}var d=c("zrender/config").EVENT;var h=["CLICK","DBLCLICK","MOUSEOVER","MOUSEOUT","DRAGSTART","DRAGEND","DRAGENTER","DRAGOVER","DRAGLEAVE","DROP"];function f(t,q,s,r,p){var v=t._chartList;var o=v.length;while(o--){var u=v[o];if(typeof u[q]==="function"){u[q](s,r,p)}}}j.prototype={_init:function(){var y=this;var o=c("zrender").init(this.dom);this._zr=o;this._messageCenter.dispatch=function(A,C,z,B){z=z||{};z.type=A;z.event=C;y._messageCenter.dispatchWithContext(A,z,B);y._messageCenterOutSide.dispatchWithContext(A,z,B)};this._onevent=function(z){return y.__onevent(z)};for(var u in k.EVENT){if(u!="CLICK"&&u!="DBLCLICK"&&u!="HOVER"&&u!="MOUSEOUT"&&u!="MAP_ROAM"){this._messageCenter.bind(k.EVENT[u],this._onevent,this)}}var x={};this._onzrevent=function(z){return y[x[z.type]](z)};for(var r=0,t=h.length;r<t;r++){var s=h[r];var p=d[s];x[p]="_on"+s.toLowerCase();o.on(p,this._onzrevent)}this.chart={};this.component={};var w=c("./chart/island");this._island=new w(this._themeConfig,this._messageCenter,o,{},this);this.chart.island=this._island;var q=c("./component/toolbox");this._toolbox=new q(this._themeConfig,this._messageCenter,o,{},this);this.component.toolbox=this._toolbox;var v=c("./component");v.define("title",c("./component/title"));v.define("tooltip",c("./component/tooltip"));v.define("legend",c("./component/legend"));if(o.getWidth()===0||o.getHeight()===0){console.error("Dom’s width & height should be ready before init.")}},__onevent:function(r){r.__echartsId=r.__echartsId||this.id;var t=r.__echartsId===this.id;if(!this._curEventType){this._curEventType=r.type}switch(r.type){case k.EVENT.LEGEND_SELECTED:this._onlegendSelected(r);break;case k.EVENT.DATA_ZOOM:if(!t){var o=this.component.dataZoom;if(o){o.silence(true);o.absoluteZoom(r.zoom);o.silence(false)}}this._ondataZoom(r);break;case k.EVENT.DATA_RANGE:t&&this._ondataRange(r);break;case k.EVENT.MAGIC_TYPE_CHANGED:if(!t){var p=this.component.toolbox;if(p){p.silence(true);p.setMagicType(r.magicType);p.silence(false)}}this._onmagicTypeChanged(r);break;case k.EVENT.DATA_VIEW_CHANGED:t&&this._ondataViewChanged(r);break;case k.EVENT.TOOLTIP_HOVER:t&&this._tooltipHover(r);break;case k.EVENT.RESTORE:this._onrestore();break;case k.EVENT.REFRESH:t&&this._onrefresh(r);break;case k.EVENT.TOOLTIP_IN_GRID:case k.EVENT.TOOLTIP_OUT_GRID:if(!t){var q=this.component.grid;if(q){this._zr.trigger("mousemove",{connectTrigger:true,zrenderX:q.getX()+r.x*q.getWidth(),zrenderY:q.getY()+r.y*q.getHeight()})}}else{if(this._connected){var q=this.component.grid;if(q){r.x=(r.event.zrenderX-q.getX())/q.getWidth();r.y=(r.event.zrenderY-q.getY())/q.getHeight()}}}break}if(this._connected&&t&&this._curEventType===r.type){for(var s in this._connected){this._connected[s].connectedEventHandler(r)}this._curEventType=null}if(!t||!this._connected&&t){this._curEventType=null}},_onclick:function(p){f(this,"onclick",p);if(p.target){var o=this._eventPackage(p.target);if(o&&o.seriesIndex!=null){this._messageCenter.dispatch(k.EVENT.CLICK,p.event,o,this)}}},_ondblclick:function(p){f(this,"ondblclick",p);if(p.target){var o=this._eventPackage(p.target);if(o&&o.seriesIndex!=null){this._messageCenter.dispatch(k.EVENT.DBLCLICK,p.event,o,this)}}},_onmouseover:function(p){if(p.target){var o=this._eventPackage(p.target);if(o&&o.seriesIndex!=null){this._messageCenter.dispatch(k.EVENT.HOVER,p.event,o,this)}}},_onmouseout:function(p){if(p.target){var o=this._eventPackage(p.target);if(o&&o.seriesIndex!=null){this._messageCenter.dispatch(k.EVENT.MOUSEOUT,p.event,o,this)}}},_ondragstart:function(o){this._status={dragIn:false,dragOut:false,needRefresh:false};f(this,"ondragstart",o)},_ondragenter:function(o){f(this,"ondragenter",o)},_ondragover:function(o){f(this,"ondragover",o)},_ondragleave:function(o){f(this,"ondragleave",o)},_ondrop:function(o){f(this,"ondrop",o,this._status);this._island.ondrop(o,this._status)},_ondragend:function(p){f(this,"ondragend",p,this._status);this._timeline&&this._timeline.ondragend(p,this._status);this._island.ondragend(p,this._status);if(this._status.needRefresh){this._syncBackupData(this._option);var o=this._messageCenter;o.dispatch(k.EVENT.DATA_CHANGED,p.event,this._eventPackage(p.target),this);o.dispatch(k.EVENT.REFRESH,null,null,this)}},_onlegendSelected:function(o){this._status.needRefresh=false;f(this,"onlegendSelected",o,this._status);if(this._status.needRefresh){this._messageCenter.dispatch(k.EVENT.REFRESH,null,null,this)}},_ondataZoom:function(o){this._status.needRefresh=false;f(this,"ondataZoom",o,this._status);if(this._status.needRefresh){this._messageCenter.dispatch(k.EVENT.REFRESH,null,null,this)}},_ondataRange:function(o){this._clearEffect();this._status.needRefresh=false;f(this,"ondataRange",o,this._status);if(this._status.needRefresh){this._zr.refreshNextFrame()}},_onmagicTypeChanged:function(){this._clearEffect();this._render(this._toolbox.getMagicOption())},_ondataViewChanged:function(o){this._syncBackupData(o.option);this._messageCenter.dispatch(k.EVENT.DATA_CHANGED,null,o,this);this._messageCenter.dispatch(k.EVENT.REFRESH,null,null,this)},_tooltipHover:function(p){var o=[];f(this,"ontooltipHover",p,o)},_onrestore:function(){this.restore()},_onrefresh:function(o){this._refreshInside=true;this.refresh(o);this._refreshInside=false},_syncBackupData:function(o){this.component.dataZoom&&this.component.dataZoom.syncBackupData(o)},_eventPackage:function(r){if(r){var q=c("./util/ecData");var o=q.get(r,"seriesIndex");var p=q.get(r,"dataIndex");p=o!=-1&&this.component.dataZoom?this.component.dataZoom.getRealDataIndex(o,p):p;return{seriesIndex:o,seriesName:(q.get(r,"series")||{}).name,dataIndex:p,data:q.get(r,"data"),name:q.get(r,"name"),value:q.get(r,"value"),special:q.get(r,"special")}}return},_noDataCheck:function(s){var q=s.series;for(var p=0,o=q.length;p<o;p++){if(q[p].type==k.CHART_TYPE_MAP||q[p].data&&q[p].data.length>0||q[p].markPoint&&q[p].markPoint.data&&q[p].markPoint.data.length>0||q[p].markLine&&q[p].markLine.data&&q[p].markLine.data.length>0||q[p].nodes&&q[p].nodes.length>0||q[p].links&&q[p].links.length>0||q[p].matrix&&q[p].matrix.length>0||q[p].eventList&&q[p].eventList.length>0){return false}}var r=this._option&&this._option.noDataLoadingOption||this._themeConfig.noDataLoadingOption||k.noDataLoadingOption||{text:this._option&&this._option.noDataText||this._themeConfig.noDataText||k.noDataText,effect:this._option&&this._option.noDataEffect||this._themeConfig.noDataEffect||k.noDataEffect};this.clear();this.showLoading(r);return true},_render:function(w){this._mergeGlobalConifg(w);if(this._noDataCheck(w)){return}var E=w.backgroundColor;if(E){if(!b&&E.indexOf("rgba")!=-1){var v=E.split(",");this.dom.style.filter="alpha(opacity="+v[3].substring(0,v[3].lastIndexOf(")"))*100+")";v.length=3;v[0]=v[0].replace("a","");this.dom.style.backgroundColor=v.join(",")+")"}else{this.dom.style.backgroundColor=E}}this._zr.clearAnimation();this._chartList=[];var r=c("./chart");var D=c("./component");if(w.xAxis||w.yAxis){w.grid=w.grid||{};w.dataZoom=w.dataZoom||{}}var q=["title","legend","tooltip","dataRange","roamController","grid","dataZoom","xAxis","yAxis","polar"];var p;var s;var C;for(var y=0,u=q.length;y<u;y++){s=q[y];C=this.component[s];if(w[s]){if(C){C.refresh&&C.refresh(w)}else{p=D.get(/^[xy]Axis$/.test(s)?"axis":s);C=new p(this._themeConfig,this._messageCenter,this._zr,w,this,s);this.component[s]=C}this._chartList.push(C)}else{if(C){C.dispose();this.component[s]=null;delete this.component[s]}}}var z;var B;var A;var t={};for(var y=0,u=w.series.length;y<u;y++){B=w.series[y].type;if(!B){console.error("series["+y+"] chart type has not been defined.");continue}if(!t[B]){t[B]=true;z=r.get(B);if(z){if(this.chart[B]){A=this.chart[B];A.refresh(w)}else{A=new z(this._themeConfig,this._messageCenter,this._zr,w,this)}this._chartList.push(A);this.chart[B]=A}else{console.error(B+" has not been required.")}}}for(B in this.chart){if(B!=k.CHART_TYPE_ISLAND&&!t[B]){this.chart[B].dispose();this.chart[B]=null;delete this.chart[B]}}this.component.grid&&this.component.grid.refixAxisShape(this.component);this._island.refresh(w);this._toolbox.refresh(w);w.animation&&!w.renderAsImage?this._zr.refresh():this._zr.render();var o="IMG"+this.id;var x=document.getElementById(o);if(w.renderAsImage&&b){if(x){x.src=this.getDataURL(w.renderAsImage)}else{x=this.getImage(w.renderAsImage);x.id=o;x.style.position="absolute";x.style.left=0;x.style.top=0;this.dom.firstChild.appendChild(x)}this.un();this._zr.un();this._disposeChartList();this._zr.clear()}else{if(x){x.parentNode.removeChild(x)}}x=null;this._option=w},restore:function(){this._clearEffect();this._option=e.clone(this._optionRestore);this._disposeChartList();this._island.clear();this._toolbox.reset(this._option,true);this._render(this._option)},refresh:function(q){this._clearEffect();q=q||{};var r=q.option;if(!this._refreshInside&&r){r=this.getOption();e.merge(r,q.option,true);e.merge(this._optionRestore,q.option,true);this._toolbox.reset(r)}this._island.refresh(r);this._toolbox.refresh(r);this._zr.clearAnimation();for(var p=0,o=this._chartList.length;p<o;p++){this._chartList[p].refresh&&this._chartList[p].refresh(r)}this.component.grid&&this.component.grid.refixAxisShape(this.component);this._zr.refresh()},_disposeChartList:function(){this._clearEffect();this._zr.clearAnimation();var o=this._chartList.length;while(o--){var q=this._chartList[o];if(q){var p=q.type;this.chart[p]&&delete this.chart[p];this.component[p]&&delete this.component[p];q.dispose&&q.dispose()}}this._chartList=[]},_mergeGlobalConifg:function(s){var q=["backgroundColor","calculable","calculableColor","calculableHolderColor","nameConnector","valueConnector","animation","animationThreshold","animationDuration","animationDurationUpdate","animationEasing","addDataAnimation","symbolList","DRAG_ENABLE_TIME"];var o=q.length;while(o--){var p=q[o];if(s[p]==null){s[p]=this._themeConfig[p]!=null?this._themeConfig[p]:k[p]}}var r=s.color;if(!(r&&r.length)){r=this._themeConfig.color||k.color}this._zr.getColor=function(t){var u=c("zrender/tool/color");return u.getColor(t,r)};if(!b){s.animation=false;s.addDataAnimation=false}},setOption:function(o,p){if(!o.timeline){return this._setOption(o,p)}else{return this._setTimelineOption(o)}},_setOption:function(p,q,o){if(!q&&this._option){this._option=e.merge(this.getOption(),e.clone(p),true)}else{this._option=e.clone(p);!o&&this._timeline&&this._timeline.dispose()}this._optionRestore=e.clone(this._option);if(!this._option.series||this._option.series.length===0){this._zr.clear();return}if(this.component.dataZoom&&(this._option.dataZoom||this._option.toolbox&&this._option.toolbox.feature&&this._option.toolbox.feature.dataZoom&&this._option.toolbox.feature.dataZoom.show)){this.component.dataZoom.syncOption(this._option)}this._toolbox.reset(this._option);this._render(this._option);return this},getOption:function(){var q=e.clone(this._option);var o=this;function p(t){var s=o._optionRestore[t];if(s){if(s instanceof Array){var r=s.length;while(r--){q[t][r].data=e.clone(s[r].data)}}else{q[t].data=e.clone(s.data)}}}p("xAxis");p("yAxis");p("series");return q},setSeries:function(o,p){if(!p){this.setOption({series:o})}else{this._option.series=o;this.setOption(this._option,p)}return this},getSeries:function(){return this.getOption().series},_setTimelineOption:function(o){this._timeline&&this._timeline.dispose();var q=c("./component/timeline");var p=new q(this._themeConfig,this._messageCenter,this._zr,o,this);this._timeline=p;this.component.timeline=this._timeline;return this},addData:function(A,O,y,s,v){var K=A instanceof Array?A:[[A,O,y,s,v]];var D=this.getOption();var t=this._optionRestore;var B=this;for(var G=0,F=K.length;G<F;G++){A=K[G][0];O=K[G][1];y=K[G][2];s=K[G][3];v=K[G][4];var E=t.series[A];var M=y?"unshift":"push";var L=y?"pop":"shift";if(E){var x=E.data;var r=D.series[A].data;x[M](O);r[M](O);if(!s){x[L]();O=r[L]()}if(v!=null){var p;var q;if(E.type===k.CHART_TYPE_PIE&&(p=t.legend)&&(q=p.data)){var z=D.legend.data;q[M](v);z[M](v);if(!s){var J=e.indexOf(q,O.name);J!=-1&&q.splice(J,1);J=e.indexOf(z,O.name);J!=-1&&z.splice(J,1)}}else{if(t.xAxis!=null&&t.yAxis!=null){var u;var C;var w=E.xAxisIndex||0;if(t.xAxis[w].type==null||t.xAxis[w].type==="category"){u=t.xAxis[w].data;C=D.xAxis[w].data;u[M](v);C[M](v);if(!s){u[L]();C[L]()}}w=E.yAxisIndex||0;if(t.yAxis[w].type==="category"){u=t.yAxis[w].data;C=D.yAxis[w].data;u[M](v);C[M](v);if(!s){u[L]();C[L]()}}}}}this._option.series[A].data=D.series[A].data}}this._zr.clearAnimation();var N=this._chartList;var I=0;var H=function(){I--;if(I===0){o()}};for(var G=0,F=N.length;G<F;G++){if(D.addDataAnimation&&N[G].addDataAnimation){I++;N[G].addDataAnimation(K,H)}}this.component.dataZoom&&this.component.dataZoom.syncOption(D);this._option=D;function o(){if(!B._zr){return}B._zr.clearAnimation();for(var Q=0,P=N.length;Q<P;Q++){N[Q].motionlessOnce=D.addDataAnimation&&N[Q].addDataAnimation}B._messageCenter.dispatch(k.EVENT.REFRESH,null,{option:D},B)}if(!D.addDataAnimation){setTimeout(o,0)}return this},addMarkPoint:function(o,p){return this._addMark(o,p,"markPoint")},addMarkLine:function(o,p){return this._addMark(o,p,"markLine")},_addMark:function(w,s,y){var r=this._option.series;var v;if(r&&(v=r[w])){var q=this._optionRestore.series;var o=q[w];var p=v[y];var u=o[y];p=v[y]=p||{data:[]};u=o[y]=u||{data:[]};for(var x in s){if(x==="data"){p.data=p.data.concat(s.data);u.data=u.data.concat(s.data)}else{if(typeof s[x]!="object"||p[x]==null){p[x]=u[x]=s[x]}else{e.merge(p[x],s[x],true);e.merge(u[x],s[x],true)}}}var t=this.chart[v.type];t&&t.addMark(w,s,y)}return this},delMarkPoint:function(p,o){return this._delMark(p,o,"markPoint")},delMarkLine:function(p,o){return this._delMark(p,o,"markLine")},_delMark:function(x,q,z){var u=this._option.series;var w;var s;var y;if(!(u&&(w=u[x])&&(s=w[z])&&(y=s.data))){return this}q=q.split(" > ");var p=-1;for(var t=0,r=y.length;t<r;t++){var o=y[t];if(o instanceof Array){if(o[0].name===q[0]&&o[1].name===q[1]){p=t;break}}else{if(o.name===q[0]){p=t;break}}}if(p>-1){y.splice(p,1);this._optionRestore.series[x][z].data.splice(p,1);var v=this.chart[w.type];v&&v.delMark(x,q.join(" > "),z)}return this},getDom:function(){return this.dom},getZrender:function(){return this._zr},getDataURL:function(q){if(!b){return""}if(this._chartList.length===0){var p="IMG"+this.id;var o=document.getElementById(p);if(o){return o.src}}var s=this.component.tooltip;s&&s.hideTip();switch(q){case"jpeg":break;default:q="png"}var r=this._option.backgroundColor;if(r&&r.replace(" ","")==="rgba(0,0,0,0)"){r="#fff"}return this._zr.toDataURL("image/"+q,r)},getImage:function(p){var q=this._optionRestore.title;var o=document.createElement("img");o.src=this.getDataURL(p);o.title=q&&q.text||"ECharts";return o},getConnectedDataURL:function(u){if(!this.isConnected()){return this.getDataURL(u)}var y=this.dom;var s={self:{img:this.getDataURL(u),left:y.offsetLeft,top:y.offsetTop,right:y.offsetLeft+y.offsetWidth,bottom:y.offsetTop+y.offsetHeight}};var v=s.self.left;var t=s.self.top;var w=s.self.right;var A=s.self.bottom;for(var x in this._connected){y=this._connected[x].getDom();s[x]={img:this._connected[x].getDataURL(u),left:y.offsetLeft,top:y.offsetTop,right:y.offsetLeft+y.offsetWidth,bottom:y.offsetTop+y.offsetHeight};v=Math.min(v,s[x].left);t=Math.min(t,s[x].top);w=Math.max(w,s[x].right);A=Math.max(A,s[x].bottom)}var p=document.createElement("div");p.style.position="absolute";p.style.left="-4000px";p.style.width=w-v+"px";p.style.height=A-t+"px";document.body.appendChild(p);var q=c("zrender").init(p);var o=c("zrender/shape/Image");for(var x in s){q.addShape(new o({style:{x:s[x].left-v,y:s[x].top-t,image:s[x].img}}))}q.render();var z=this._option.backgroundColor;if(z&&z.replace(/ /g,"")==="rgba(0,0,0,0)"){z="#fff"}var r=q.toDataURL("image/png",z);setTimeout(function(){q.dispose();p.parentNode.removeChild(p);p=null},100);return r},getConnectedImage:function(p){var q=this._optionRestore.title;var o=document.createElement("img");o.src=this.getConnectedDataURL(p);o.title=q&&q.text||"ECharts";return o},on:function(p,o){this._messageCenterOutSide.bind(p,o,this);return this},un:function(p,o){this._messageCenterOutSide.unbind(p,o);return this},connect:function(p){if(!p){return this}if(!this._connected){this._connected={}}if(p instanceof Array){for(var q=0,o=p.length;q<o;q++){this._connected[p[q].id]=p[q]}}else{this._connected[p.id]=p}return this},disConnect:function(q){if(!q||!this._connected){return this}if(q instanceof Array){for(var r=0,o=q.length;r<o;r++){delete this._connected[q[r].id]}}else{delete this._connected[q.id]}for(var p in this._connected){return p,this}this._connected=false;return this},connectedEventHandler:function(o){if(o.__echartsId!=this.id){this._onevent(o)}},isConnected:function(){return !!this._connected},showLoading:function(s){var q={bar:c("zrender/loadingEffect/Bar"),bubble:c("zrender/loadingEffect/Bubble"),dynamicLine:c("zrender/loadingEffect/DynamicLine"),ring:c("zrender/loadingEffect/Ring"),spin:c("zrender/loadingEffect/Spin"),whirling:c("zrender/loadingEffect/Whirling")};this._toolbox.hideDataView();s=s||{};var r=s.textStyle||{};s.textStyle=r;var p=e.merge(e.merge(e.clone(r),this._themeConfig.textStyle),k.textStyle);r.textFont=p.fontStyle+" "+p.fontWeight+" "+p.fontSize+"px "+p.fontFamily;r.text=s.text||this._option&&this._option.loadingText||this._themeConfig.loadingText||k.loadingText;if(s.x!=null){r.x=s.x}if(s.y!=null){r.y=s.y}s.effectOption=s.effectOption||{};s.effectOption.textStyle=r;var o=s.effect;if(typeof o==="string"||o==null){o=q[s.effect||this._option&&this._option.loadingEffect||this._themeConfig.loadingEffect||k.loadingEffect]||q.spin}this._zr.showLoading(new o(s.effectOption));return this},hideLoading:function(){this._zr.hideLoading();return this},setTheme:function(o){if(o){if(typeof o==="string"){switch(o){case"macarons":o=c("./theme/macarons");break;case"infographic":o=c("./theme/infographic");break;default:o={}}}else{o=o||{}}this._themeConfig=o}if(!b){var p=this._themeConfig.textStyle;p&&p.fontFamily&&p.fontFamily2&&(p.fontFamily=p.fontFamily2);p=k.textStyle;p.fontFamily=p.fontFamily2}this._timeline&&this._timeline.setTheme(true);this._optionRestore&&this.restore()},resize:function(){var o=this;return function(){o._clearEffect();o._zr.resize();if(o._option&&o._option.renderAsImage&&b){o._render(o._option);return o}o._zr.clearAnimation();o._island.resize();o._toolbox.resize();o._timeline&&o._timeline.resize();for(var q=0,p=o._chartList.length;q<p;q++){o._chartList[q].resize&&o._chartList[q].resize()}o.component.grid&&o.component.grid.refixAxisShape(o.component);o._zr.refresh();o._messageCenter.dispatch(k.EVENT.RESIZE,null,null,o);return o}},_clearEffect:function(){this._zr.modLayer(k.EFFECT_ZLEVEL,{motionBlur:false});this._zr.painter.clearLayer(k.EFFECT_ZLEVEL)},clear:function(){this._disposeChartList();this._zr.clear();this._option={};this._optionRestore={};this.dom.style.backgroundColor=null;return this},dispose:function(){var o=this.dom.getAttribute(i);o&&delete n[o];this._island.dispose();this._toolbox.dispose();this._timeline&&this._timeline.dispose();this._messageCenter.unbind();this.clear();this._zr.dispose();this._zr=null}};return m});define("echarts/config",[],function(){var a={CHART_TYPE_LINE:"line",CHART_TYPE_BAR:"bar",CHART_TYPE_SCATTER:"scatter",CHART_TYPE_PIE:"pie",CHART_TYPE_RADAR:"radar",CHART_TYPE_VENN:"venn",CHART_TYPE_TREEMAP:"treemap",CHART_TYPE_TREE:"tree",CHART_TYPE_MAP:"map",CHART_TYPE_K:"k",CHART_TYPE_ISLAND:"island",CHART_TYPE_FORCE:"force",CHART_TYPE_CHORD:"chord",CHART_TYPE_GAUGE:"gauge",CHART_TYPE_FUNNEL:"funnel",CHART_TYPE_EVENTRIVER:"eventRiver",CHART_TYPE_WORDCLOUD:"wordCloud",COMPONENT_TYPE_TITLE:"title",COMPONENT_TYPE_LEGEND:"legend",COMPONENT_TYPE_DATARANGE:"dataRange",COMPONENT_TYPE_DATAVIEW:"dataView",COMPONENT_TYPE_DATAZOOM:"dataZoom",COMPONENT_TYPE_TOOLBOX:"toolbox",COMPONENT_TYPE_TOOLTIP:"tooltip",COMPONENT_TYPE_GRID:"grid",COMPONENT_TYPE_AXIS:"axis",COMPONENT_TYPE_POLAR:"polar",COMPONENT_TYPE_X_AXIS:"xAxis",COMPONENT_TYPE_Y_AXIS:"yAxis",COMPONENT_TYPE_AXIS_CATEGORY:"categoryAxis",COMPONENT_TYPE_AXIS_VALUE:"valueAxis",COMPONENT_TYPE_TIMELINE:"timeline",COMPONENT_TYPE_ROAMCONTROLLER:"roamController",backgroundColor:"rgba(0,0,0,0)",color:["#ff7f50","#87cefa","#da70d6","#32cd32","#6495ed","#ff69b4","#ba55d3","#cd5c5c","#ffa500","#40e0d0","#1e90ff","#ff6347","#7b68ee","#00fa9a","#ffd700","#6699FF","#ff6666","#3cb371","#b8860b","#30e0e0"],markPoint:{clickable:true,symbol:"pin",symbolSize:10,large:false,effect:{show:false,loop:true,period:15,type:"scale",scaleSize:2,bounceDistance:10},itemStyle:{normal:{borderWidth:2,label:{show:true,position:"inside"}},emphasis:{label:{show:true}}}},markLine:{clickable:true,symbol:["circle","arrow"],symbolSize:[2,4],smoothness:0.2,precision:2,effect:{show:false,loop:true,period:15,scaleSize:2},bundling:{enable:false,maxTurningAngle:45},itemStyle:{normal:{borderWidth:1.5,label:{show:true,position:"end"},lineStyle:{type:"dashed"}},emphasis:{label:{show:false},lineStyle:{}}}},textStyle:{decoration:"none",fontFamily:"Arial, Verdana, sans-serif",fontFamily2:"微软雅黑",fontSize:12,fontStyle:"normal",fontWeight:"normal"},EVENT:{REFRESH:"refresh",RESTORE:"restore",RESIZE:"resize",CLICK:"click",DBLCLICK:"dblclick",HOVER:"hover",MOUSEOUT:"mouseout",DATA_CHANGED:"dataChanged",DATA_ZOOM:"dataZoom",DATA_RANGE:"dataRange",DATA_RANGE_SELECTED:"dataRangeSelected",DATA_RANGE_HOVERLINK:"dataRangeHoverLink",LEGEND_SELECTED:"legendSelected",LEGEND_HOVERLINK:"legendHoverLink",MAP_SELECTED:"mapSelected",PIE_SELECTED:"pieSelected",MAGIC_TYPE_CHANGED:"magicTypeChanged",DATA_VIEW_CHANGED:"dataViewChanged",TIMELINE_CHANGED:"timelineChanged",MAP_ROAM:"mapRoam",FORCE_LAYOUT_END:"forceLayoutEnd",TOOLTIP_HOVER:"tooltipHover",TOOLTIP_IN_GRID:"tooltipInGrid",TOOLTIP_OUT_GRID:"tooltipOutGrid",ROAMCONTROLLER:"roamController"},DRAG_ENABLE_TIME:120,EFFECT_ZLEVEL:10,symbolList:["circle","rectangle","triangle","diamond","emptyCircle","emptyRectangle","emptyTriangle","emptyDiamond"],loadingEffect:"spin",loadingText:"数据读取中...",noDataEffect:"bubble",noDataText:"暂无数据",calculable:false,calculableColor:"rgba(255,165,0,0.6)",calculableHolderColor:"#ccc",nameConnector:" & ",valueConnector:": ",animation:true,addDataAnimation:true,animationThreshold:2000,animationDuration:2000,animationDurationUpdate:500,animationEasing:"ExponentialOut"};return a});define("zrender/tool/util",["require","../dep/excanvas"],function(j){var h=Array.prototype;var l=h.forEach;var g=h.map;var k=h.filter;var b={"[object Function]":1,"[object RegExp]":1,"[object Date]":1,"[object Error]":1,"[object CanvasGradient]":1};var c=Object.prototype.toString;function s(t){return t&&t.nodeType===1&&typeof t.nodeName=="string"}function p(x){if(typeof x=="object"&&x!==null){var u=x;if(x instanceof Array){u=[];for(var w=0,t=x.length;w<t;w++){u[w]=p(x[w])}}else{if(!b[c.call(x)]&&!s(x)){u={};for(var v in x){if(x.hasOwnProperty(v)){u[v]=p(x[v])}}}}return u}return x}function a(x,w,v,u){if(w.hasOwnProperty(v)){var t=x[v];if(typeof t=="object"&&!b[c.call(t)]&&!s(t)){f(x[v],w[v],u)}else{if(u||!(v in x)){x[v]=w[v]}}}}function f(w,v,t){for(var u in v){a(w,v,u,t)}return w}var o;function i(){if(!o){j("../dep/excanvas");if(window.G_vmlCanvasManager){var t=document.createElement("div");t.style.position="absolute";t.style.top="-1000px";document.body.appendChild(t);o=G_vmlCanvasManager.initElement(t).getContext("2d")}else{o=document.createElement("canvas").getContext("2d")}}return o}function d(w,v){if(w.indexOf){return w.indexOf(v)}for(var u=0,t=w.length;u<t;u++){if(w[u]===v){return u}}return -1}function n(u,t){var v=u.prototype;function w(){}w.prototype=t.prototype;u.prototype=new w();for(var x in v){u.prototype[x]=v[x]}u.constructor=u}function e(y,u,x){if(!(y&&u)){return}if(y.forEach&&y.forEach===l){y.forEach(u,x)}else{if(y.length===+y.length){for(var w=0,t=y.length;w<t;w++){u.call(x,y[w],w,y)}}else{for(var v in y){if(y.hasOwnProperty(v)){u.call(x,y[v],v,y)}}}}}function q(y,v,x){if(!(y&&v)){return}if(y.map&&y.map===g){return y.map(v,x)}else{var u=[];for(var w=0,t=y.length;w<t;w++){u.push(v.call(x,y[w],w,y))}return u}}function m(y,v,x){if(!(y&&v)){return}if(y.filter&&y.filter===k){return y.filter(v,x)}else{var u=[];for(var w=0,t=y.length;w<t;w++){if(v.call(x,y[w],w,y)){u.push(y[w])}}return u}}function r(u,t){return function(){u.apply(t,arguments)}}return{inherits:n,clone:p,merge:f,getContext:i,indexOf:d,each:e,map:q,filter:m,bind:r}});define("zrender/tool/event",["require","../mixin/Eventful"],function(c){var f=c("../mixin/Eventful");function b(g){return typeof g.zrenderX!="undefined"&&g.zrenderX||typeof g.offsetX!="undefined"&&g.offsetX||typeof g.layerX!="undefined"&&g.layerX||typeof g.clientX!="undefined"&&g.clientX}function a(g){return typeof g.zrenderY!="undefined"&&g.zrenderY||typeof g.offsetY!="undefined"&&g.offsetY||typeof g.layerY!="undefined"&&g.layerY||typeof g.clientY!="undefined"&&g.clientY}function e(g){return typeof g.zrenderDelta!="undefined"&&g.zrenderDelta||typeof g.wheelDelta!="undefined"&&g.wheelDelta||typeof g.detail!="undefined"&&-g.detail}var d=typeof window.addEventListener==="function"?function(g){g.preventDefault();g.stopPropagation();g.cancelBubble=true}:function(g){g.returnValue=false;g.cancelBubble=true};return{getX:b,getY:a,getDelta:e,stop:d,Dispatcher:f}});define("zrender/tool/env",[],function(){function a(t){var j=this.os={};var u=this.browser={};var c=t.match(/Web[kK]it[\/]{0,1}([\d.]+)/);var v=t.match(/(Android);?[\s\/]+([\d.]+)?/);var n=t.match(/(iPad).*OS\s([\d_]+)/);var h=t.match(/(iPod)(.*OS\s([\d_]+))?/);var f=!n&&t.match(/(iPhone\sOS)\s([\d_]+)/);var b=t.match(/(webOS|hpwOS)[\s\/]([\d.]+)/);var p=b&&t.match(/TouchPad/);var g=t.match(/Kindle\/([\d.]+)/);var s=t.match(/Silk\/([\d._]+)/);var o=t.match(/(BlackBerry).*Version\/([\d.]+)/);var l=t.match(/(BB10).*Version\/([\d.]+)/);var d=t.match(/(RIM\sTablet\sOS)\s([\d.]+)/);var m=t.match(/PlayBook/);var r=t.match(/Chrome\/([\d.]+)/)||t.match(/CriOS\/([\d.]+)/);var i=t.match(/Firefox\/([\d.]+)/);var q=t.match(/MSIE ([\d.]+)/);var k=c&&t.match(/Mobile\//)&&!r;var e=t.match(/(iPhone|iPod|iPad).*AppleWebKit(?!.*Safari)/)&&!r;var q=t.match(/MSIE\s([\d.]+)/);if(u.webkit=!!c){u.version=c[1]}if(v){j.android=true,j.version=v[2]}if(f&&!h){j.ios=j.iphone=true,j.version=f[2].replace(/_/g,".")}if(n){j.ios=j.ipad=true,j.version=n[2].replace(/_/g,".")}if(h){j.ios=j.ipod=true,j.version=h[3]?h[3].replace(/_/g,"."):null}if(b){j.webos=true,j.version=b[2]}if(p){j.touchpad=true}if(o){j.blackberry=true,j.version=o[2]}if(l){j.bb10=true,j.version=l[2]}if(d){j.rimtabletos=true,j.version=d[2]}if(m){u.playbook=true}if(g){j.kindle=true,j.version=g[1]}if(s){u.silk=true,u.version=s[1]}if(!s&&j.android&&t.match(/Kindle Fire/)){u.silk=true}if(r){u.chrome=true,u.version=r[1]}if(i){u.firefox=true,u.version=i[1]}if(q){u.ie=true,u.version=q[1]}if(k&&(t.match(/Safari/)||!!j.ios)){u.safari=true}if(e){u.webview=true}if(q){u.ie=true,u.version=q[1]}j.tablet=!!(n||m||v&&!t.match(/Mobile/)||i&&t.match(/Tablet/)||q&&!t.match(/Phone/)&&t.match(/Touch/));j.phone=!!(!j.tablet&&!j.ipod&&(v||f||b||o||l||r&&t.match(/Android/)||r&&t.match(/CriOS\/([\d.]+)/)||i&&t.match(/Mobile/)||q&&t.match(/Touch/)));return{browser:u,os:j,canvasSupported:document.createElement("canvas").getContext?true:false}}return a(navigator.userAgent)});define("zrender",["zrender/zrender"],function(a){return a});define("zrender/zrender",["require","./dep/excanvas","./tool/util","./tool/log","./tool/guid","./Handler","./Painter","./Storage","./animation/Animation","./tool/env"],function(c){c("./dep/excanvas");var f=c("./tool/util");var d=c("./tool/log");var j=c("./tool/guid");var i=c("./Handler");var e=c("./Painter");var l=c("./Storage");var g=c("./animation/Animation");var k={};var b={};b.version="2.1.0";b.init=function(n){var m=new a(j(),n);k[m.id]=m;return m};b.dispose=function(n){if(n){n.dispose()}else{for(var m in k){k[m].dispose()}k={}}return b};b.getInstance=function(m){return k[m]};b.delInstance=function(m){delete k[m];return b};function h(m){return function(){if(m._needsRefreshNextFrame){m.refresh()}}}var a=function(q,o){this.id=q;this.env=c("./tool/env");this.storage=new l();this.painter=new e(o,this.storage);this.handler=new i(o,this.storage,this.painter);this.animation=new g({stage:{update:h(this)}});this.animation.start();var m=this;this.painter.refreshNextFrame=function(){m.refreshNextFrame()};this._needsRefreshNextFrame=false;var m=this;var p=this.storage;var n=p.delFromMap;p.delFromMap=function(r){var s=p.get(r);m.stopAnimation(s);n.call(p,r)}};a.prototype.getId=function(){return this.id};a.prototype.addShape=function(m){this.addElement(m);return this};a.prototype.addGroup=function(m){this.addElement(m);return this};a.prototype.delShape=function(m){this.delElement(m);return this};a.prototype.delGroup=function(m){this.delElement(m);return this};a.prototype.modShape=function(n,m){this.modElement(n,m);return this};a.prototype.modGroup=function(m,n){this.modElement(m,n);return this};a.prototype.addElement=function(m){this.storage.addRoot(m);this._needsRefreshNextFrame=true;return this};a.prototype.delElement=function(m){this.storage.delRoot(m);this._needsRefreshNextFrame=true;return this};a.prototype.modElement=function(m,n){this.storage.mod(m,n);this._needsRefreshNextFrame=true;return this};a.prototype.modLayer=function(n,m){this.painter.modLayer(n,m);this._needsRefreshNextFrame=true;return this};a.prototype.addHoverShape=function(m){this.storage.addHover(m);return this};a.prototype.render=function(m){this.painter.render(m);this._needsRefreshNextFrame=false;return this};a.prototype.refresh=function(m){this.painter.refresh(m);this._needsRefreshNextFrame=false;return this};a.prototype.refreshNextFrame=function(){this._needsRefreshNextFrame=true;return this};a.prototype.refreshHover=function(m){this.painter.refreshHover(m);return this};a.prototype.refreshShapes=function(m,n){this.painter.refreshShapes(m,n);return this};a.prototype.resize=function(){this.painter.resize();return this};a.prototype.animate=function(n,w,s){var v=this;if(typeof n==="string"){n=this.storage.get(n)}if(n){var t;if(w){var u=w.split(".");var m=n;for(var r=0,p=u.length;r<p;r++){if(!m){continue}m=m[u[r]]}if(m){t=m}}else{t=n}if(!t){d('Property "'+w+'" is not existed in element '+n.id);return}if(n.__animators==null){n.__animators=[]}var q=n.__animators;var o=this.animation.animate(t,{loop:s}).during(function(){v.modShape(n)}).done(function(){var x=f.indexOf(n.__animators,o);if(x>=0){q.splice(x,1)}});q.push(o);return o}else{d("Element not existed")}};a.prototype.stopAnimation=function(o){if(o.__animators){var p=o.__animators;var m=p.length;for(var n=0;n<m;n++){p[n].stop()}p.length=0}return this};a.prototype.clearAnimation=function(){this.animation.clear();return this};a.prototype.showLoading=function(m){this.painter.showLoading(m);return this};a.prototype.hideLoading=function(){this.painter.hideLoading();return this};a.prototype.getWidth=function(){return this.painter.getWidth()};a.prototype.getHeight=function(){return this.painter.getHeight()};a.prototype.toDataURL=function(o,m,n){return this.painter.toDataURL(o,m,n)};a.prototype.shapeToImage=function(o,n,m){var p=j();return this.painter.shapeToImage(p,o,n,m)};a.prototype.on=function(m,o,n){this.handler.on(m,o,n);return this};a.prototype.un=function(m,n){this.handler.un(m,n);return this};a.prototype.trigger=function(m,n){this.handler.trigger(m,n);return this};a.prototype.clear=function(){this.storage.delRoot();this.painter.clear();return this};a.prototype.dispose=function(){this.animation.stop();this.clear();this.storage.dispose();this.painter.dispose();this.handler.dispose();this.animation=this.storage=this.painter=this.handler=null;b.delInstance(this.id)};return b});define("zrender/config",[],function(){var a={EVENT:{RESIZE:"resize",CLICK:"click",DBLCLICK:"dblclick",MOUSEWHEEL:"mousewheel",MOUSEMOVE:"mousemove",MOUSEOVER:"mouseover",MOUSEOUT:"mouseout",MOUSEDOWN:"mousedown",MOUSEUP:"mouseup",GLOBALOUT:"globalout",DRAGSTART:"dragstart",DRAGEND:"dragend",DRAGENTER:"dragenter",DRAGOVER:"dragover",DRAGLEAVE:"dragleave",DROP:"drop",touchClickDelay:300},elementClassName:"zr-element",catchBrushException:false,debugMode:0,devicePixelRatio:Math.max(window.devicePixelRatio||1,1)};return a});define("echarts/chart/island",["require","./base","zrender/shape/Circle","../config","../util/ecData","zrender/tool/util","zrender/tool/event","zrender/tool/color","../util/accMath","../chart"],function(e){var h=e("./base");var b=e("zrender/shape/Circle");var a=e("../config");a.island={zlevel:0,z:5,r:15,calculateStep:0.1};var g=e("../util/ecData");var c=e("zrender/tool/util");var d=e("zrender/tool/event");function f(m,i,n,l,k){h.call(this,m,i,n,l,k);this._nameConnector;this._valueConnector;this._zrHeight=this.zr.getHeight();this._zrWidth=this.zr.getWidth();var j=this;j.shapeHandler.onmousewheel=function(t){var o=t.target;var q=t.event;var u=d.getDelta(q);u=u>0?-1:1;o.style.r-=u;o.style.r=o.style.r<5?5:o.style.r;var r=g.get(o,"value");var s=r*j.option.island.calculateStep;r=s>1?Math.round(r-s*u):+(r-s*u).toFixed(2);var p=g.get(o,"name");o.style.text=p+":"+r;g.set(o,"value",r);g.set(o,"name",p);j.zr.modShape(o.id);j.zr.refreshNextFrame();d.stop(q)}}f.prototype={type:a.CHART_TYPE_ISLAND,_combine:function(l,i){var n=e("zrender/tool/color");var k=e("../util/accMath");var m=k.accAdd(g.get(l,"value"),g.get(i,"value"));var j=g.get(l,"name")+this._nameConnector+g.get(i,"name");l.style.text=j+this._valueConnector+m;g.set(l,"value",m);g.set(l,"name",j);l.style.r=this.option.island.r;l.style.color=n.mix(l.style.color,i.style.color)},refresh:function(i){if(i){i.island=this.reformOption(i.island);this.option=i;this._nameConnector=this.option.nameConnector;this._valueConnector=this.option.valueConnector}},getOption:function(){return this.option},resize:function(){var o=this.zr.getWidth();var m=this.zr.getHeight();var p=o/(this._zrWidth||o);var n=m/(this._zrHeight||m);if(p===1&&n===1){return}this._zrWidth=o;this._zrHeight=m;for(var k=0,j=this.shapeList.length;k<j;k++){this.zr.modShape(this.shapeList[k].id,{style:{x:Math.round(this.shapeList[k].style.x*p),y:Math.round(this.shapeList[k].style.y*n)}})}},add:function(k){var l=g.get(k,"name");var o=g.get(k,"value");var i=g.get(k,"series")!=null?g.get(k,"series").name:"";var j=this.getFont(this.option.island.textStyle);var n=this.option.island;var m={zlevel:n.zlevel,z:n.z,style:{x:k.style.x,y:k.style.y,r:this.option.island.r,color:k.style.color||k.style.strokeColor,text:l+this._valueConnector+o,textFont:j},draggable:true,hoverable:true,onmousewheel:this.shapeHandler.onmousewheel,_type:"island"};if(m.style.color==="#fff"){m.style.color=k.style.strokeColor}this.setCalculable(m);m.dragEnableTime=0;g.pack(m,{name:i},-1,o,-1,l);m=new b(m);this.shapeList.push(m);this.zr.addShape(m)},del:function(k){this.zr.delShape(k.id);var m=[];for(var n=0,j=this.shapeList.length;n<j;n++){if(this.shapeList[n].id!=k.id){m.push(this.shapeList[n])}}this.shapeList=m},ondrop:function(l,j){if(!this.isDrop||!l.target){return}var k=l.target;var i=l.dragged;this._combine(k,i);this.zr.modShape(k.id);j.dragIn=true;this.isDrop=false;return},ondragend:function(k,i){var j=k.target;if(!this.isDragend){if(!i.dragIn){j.style.x=d.getX(k.event);j.style.y=d.getY(k.event);this.add(j);i.needRefresh=true}}else{if(i.dragIn){this.del(j);i.needRefresh=true}}this.isDragend=false;return}};c.inherits(f,h);e("../chart").define("island",f);return f});define("echarts/component/toolbox",["require","./base","zrender/shape/Line","zrender/shape/Image","zrender/shape/Rectangle","../util/shape/Icon","../config","zrender/tool/util","zrender/config","zrender/tool/event","./dataView","../component"],function(d){var h=d("./base");var b=d("zrender/shape/Line");var a=d("zrender/shape/Image");var m=d("zrender/shape/Rectangle");var c=d("../util/shape/Icon");var j=d("../config");j.toolbox={zlevel:0,z:6,show:false,orient:"horizontal",x:"right",y:"top",color:["#1e90ff","#22bb22","#4b0082","#d2691e"],disableColor:"#ddd",effectiveColor:"red",backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",borderWidth:0,padding:5,itemGap:10,itemSize:16,showTitle:true,feature:{mark:{show:false,title:{mark:"辅助线开关",markUndo:"删除辅助线",markClear:"清空辅助线"},lineStyle:{width:1,color:"#1e90ff",type:"dashed"}},dataZoom:{show:false,title:{dataZoom:"区域缩放",dataZoomReset:"区域缩放后退"}},dataView:{show:false,title:"数据视图",readOnly:false,lang:["数据视图","关闭","刷新"]},magicType:{show:false,title:{line:"折线图切换",bar:"柱形图切换",stack:"堆积",tiled:"平铺",force:"力导向布局图切换",chord:"和弦图切换",pie:"饼图切换",funnel:"漏斗图切换"},type:[]},restore:{show:false,title:"还原"},saveAsImage:{show:false,title:"保存为图片",type:"png",lang:["点击保存"]}}};var e=d("zrender/tool/util");var g=d("zrender/config");var l=d("zrender/tool/event");var k="stack";var i="tiled";function f(r,n,s,q,p){h.call(this,r,n,s,q,p);this.dom=p.dom;this._magicType={};this._magicMap={};this._isSilence=false;this._iconList;this._iconShapeMap={};this._featureTitle={};this._featureIcon={};this._featureColor={};this._featureOption={};this._enableColor="red";this._disableColor="#ccc";this._markShapeList=[];var o=this;o._onMark=function(t){o.__onMark(t)};o._onMarkUndo=function(t){o.__onMarkUndo(t)};o._onMarkClear=function(t){o.__onMarkClear(t)};o._onDataZoom=function(t){o.__onDataZoom(t)};o._onDataZoomReset=function(t){o.__onDataZoomReset(t)};o._onDataView=function(t){o.__onDataView(t)};o._onRestore=function(t){o.__onRestore(t)};o._onSaveAsImage=function(t){o.__onSaveAsImage(t)};o._onMagicType=function(t){o.__onMagicType(t)};o._onCustomHandler=function(t){o.__onCustomHandler(t)};o._onmousemove=function(t){return o.__onmousemove(t)};o._onmousedown=function(t){return o.__onmousedown(t)};o._onmouseup=function(t){return o.__onmouseup(t)};o._onclick=function(t){return o.__onclick(t)}}f.prototype={type:j.COMPONENT_TYPE_TOOLBOX,_buildShape:function(){this._iconList=[];var s=this.option.toolbox;this._enableColor=s.effectiveColor;this._disableColor=s.disableColor;var r=s.feature;var t=[];for(var q in r){if(r[q].show){switch(q){case"mark":t.push({key:q,name:"mark"});t.push({key:q,name:"markUndo"});t.push({key:q,name:"markClear"});break;case"magicType":for(var p=0,n=r[q].type.length;p<n;p++){r[q].title[r[q].type[p]+"Chart"]=r[q].title[r[q].type[p]];if(r[q].option){r[q].option[r[q].type[p]+"Chart"]=r[q].option[r[q].type[p]]}t.push({key:q,name:r[q].type[p]+"Chart"})}break;case"dataZoom":t.push({key:q,name:"dataZoom"});t.push({key:q,name:"dataZoomReset"});break;case"saveAsImage":if(this.canvasSupported){t.push({key:q,name:"saveAsImage"})}break;default:t.push({key:q,name:q});break}}}if(t.length>0){var o;var q;for(var p=0,n=t.length;p<n;p++){o=t[p].name;q=t[p].key;this._iconList.push(o);this._featureTitle[o]=r[q].title[o]||r[q].title;if(r[q].icon){this._featureIcon[o]=r[q].icon[o]||r[q].icon}if(r[q].color){this._featureColor[o]=r[q].color[o]||r[q].color}if(r[q].option){this._featureOption[o]=r[q].option[o]||r[q].option}}this._itemGroupLocation=this._getItemGroupLocation();this._buildBackground();this._buildItem();for(var p=0,n=this.shapeList.length;p<n;p++){this.zr.addShape(this.shapeList[p])}if(this._iconShapeMap.mark){this._iconDisable(this._iconShapeMap.markUndo);this._iconDisable(this._iconShapeMap.markClear)}if(this._iconShapeMap.dataZoomReset&&this._zoomQueue.length===0){this._iconDisable(this._iconShapeMap.dataZoomReset)}}},_buildItem:function(){var t=this.option.toolbox;var B=this._iconList.length;var s=this._itemGroupLocation.x;var o=this._itemGroupLocation.y;var y=t.itemSize;var n=t.itemGap;var p;var v=t.color instanceof Array?t.color:[t.color];var u=this.getFont(t.textStyle);var A;var r;var q;if(t.orient==="horizontal"){A=this._itemGroupLocation.y/this.zr.getHeight()<0.5?"bottom":"top";r=this._itemGroupLocation.x/this.zr.getWidth()<0.5?"left":"right";q=this._itemGroupLocation.y/this.zr.getHeight()<0.5?"top":"bottom"}else{A=this._itemGroupLocation.x/this.zr.getWidth()<0.5?"right":"left"}this._iconShapeMap={};var z=this;for(var w=0;w<B;w++){p={type:"icon",zlevel:this.getZlevelBase(),z:this.getZBase(),style:{x:s,y:o,width:y,height:y,iconType:this._iconList[w],lineWidth:1,strokeColor:this._featureColor[this._iconList[w]]||v[w%v.length],brushType:"stroke"},highlightStyle:{lineWidth:1,text:t.showTitle?this._featureTitle[this._iconList[w]]:undefined,textFont:u,textPosition:A,strokeColor:this._featureColor[this._iconList[w]]||v[w%v.length]},hoverable:true,clickable:true};if(this._featureIcon[this._iconList[w]]){p.style.image=this._featureIcon[this._iconList[w]].replace(new RegExp("^image:\\/\\/"),"");p.style.opacity=0.8;p.highlightStyle.opacity=1;p.type="image"}if(t.orient==="horizontal"){if(w===0&&r==="left"){p.highlightStyle.textPosition="specific";p.highlightStyle.textAlign=r;p.highlightStyle.textBaseline=q;p.highlightStyle.textX=s;p.highlightStyle.textY=q==="top"?o+y+10:o-10}if(w===B-1&&r==="right"){p.highlightStyle.textPosition="specific";p.highlightStyle.textAlign=r;p.highlightStyle.textBaseline=q;p.highlightStyle.textX=s+y;p.highlightStyle.textY=q==="top"?o+y+10:o-10}}switch(this._iconList[w]){case"mark":p.onclick=z._onMark;break;case"markUndo":p.onclick=z._onMarkUndo;break;case"markClear":p.onclick=z._onMarkClear;break;case"dataZoom":p.onclick=z._onDataZoom;break;case"dataZoomReset":p.onclick=z._onDataZoomReset;break;case"dataView":if(!this._dataView){var x=d("./dataView");this._dataView=new x(this.ecTheme,this.messageCenter,this.zr,this.option,this.myChart)}p.onclick=z._onDataView;break;case"restore":p.onclick=z._onRestore;break;case"saveAsImage":p.onclick=z._onSaveAsImage;break;default:if(this._iconList[w].match("Chart")){p._name=this._iconList[w].replace("Chart","");p.onclick=z._onMagicType}else{p.onclick=z._onCustomHandler}break}if(p.type==="icon"){p=new c(p)}else{if(p.type==="image"){p=new a(p)}}this.shapeList.push(p);this._iconShapeMap[this._iconList[w]]=p;if(t.orient==="horizontal"){s+=y+n}else{o+=y+n}}},_buildBackground:function(){var n=this.option.toolbox;var o=this.reformCssArray(this.option.toolbox.padding);this.shapeList.push(new m({zlevel:this.getZlevelBase(),z:this.getZBase(),hoverable:false,style:{x:this._itemGroupLocation.x-o[3],y:this._itemGroupLocation.y-o[0],width:this._itemGroupLocation.width+o[3]+o[1],height:this._itemGroupLocation.height+o[0]+o[2],brushType:n.borderWidth===0?"fill":"both",color:n.backgroundColor,strokeColor:n.borderColor,lineWidth:n.borderWidth}}))},_getItemGroupLocation:function(){var p=this.option.toolbox;var t=this.reformCssArray(this.option.toolbox.padding);var z=this._iconList.length;var n=p.itemGap;var v=p.itemSize;var q=0;var r=0;if(p.orient==="horizontal"){q=(v+n)*z-n;r=v}else{r=(v+n)*z-n;q=v}var u;var w=this.zr.getWidth();switch(p.x){case"center":u=Math.floor((w-q)/2);break;case"left":u=t[3]+p.borderWidth;break;case"right":u=w-q-t[1]-p.borderWidth;break;default:u=p.x-0;u=isNaN(u)?0:u;break}var s;var o=this.zr.getHeight();switch(p.y){case"top":s=t[0]+p.borderWidth;break;case"bottom":s=o-r-t[2]-p.borderWidth;break;case"center":s=Math.floor((o-r)/2);break;default:s=p.y-0;s=isNaN(s)?0:s;break}return{x:u,y:s,width:q,height:r}},__onmousemove:function(n){if(this._marking){this._markShape.style.xEnd=l.getX(n.event);this._markShape.style.yEnd=l.getY(n.event);this.zr.addHoverShape(this._markShape)}if(this._zooming){this._zoomShape.style.width=l.getX(n.event)-this._zoomShape.style.x;this._zoomShape.style.height=l.getY(n.event)-this._zoomShape.style.y;this.zr.addHoverShape(this._zoomShape);this.dom.style.cursor="crosshair";l.stop(n.event)}if(this._zoomStart&&(this.dom.style.cursor!="pointer"&&this.dom.style.cursor!="move")){this.dom.style.cursor="crosshair"}},__onmousedown:function(p){if(p.target){return}this._zooming=true;var n=l.getX(p.event);var q=l.getY(p.event);var o=this.option.dataZoom||{};this._zoomShape=new m({zlevel:this.getZlevelBase(),z:this.getZBase(),style:{x:n,y:q,width:1,height:1,brushType:"both"},highlightStyle:{lineWidth:2,color:o.fillerColor||j.dataZoom.fillerColor,strokeColor:o.handleColor||j.dataZoom.handleColor,brushType:"both"}});this.zr.addHoverShape(this._zoomShape);return true},__onmouseup:function(){if(!this._zoomShape||Math.abs(this._zoomShape.style.width)<10||Math.abs(this._zoomShape.style.height)<10){this._zooming=false;return true}if(this._zooming&&this.component.dataZoom){this._zooming=false;var n=this.component.dataZoom.rectZoom(this._zoomShape.style);if(n){this._zoomQueue.push({start:n.start,end:n.end,start2:n.start2,end2:n.end2});this._iconEnable(this._iconShapeMap.dataZoomReset);this.zr.refreshNextFrame()}}return true},__onclick:function(o){if(o.target){return}if(this._marking){this._marking=false;this._markShapeList.push(this._markShape);this._iconEnable(this._iconShapeMap.markUndo);this._iconEnable(this._iconShapeMap.markClear);this.zr.addShape(this._markShape);this.zr.refreshNextFrame()}else{if(this._markStart){this._marking=true;var n=l.getX(o.event);var p=l.getY(o.event);this._markShape=new b({zlevel:this.getZlevelBase(),z:this.getZBase(),style:{xStart:n,yStart:p,xEnd:n,yEnd:p,lineWidth:this.query(this.option,"toolbox.feature.mark.lineStyle.width"),strokeColor:this.query(this.option,"toolbox.feature.mark.lineStyle.color"),lineType:this.query(this.option,"toolbox.feature.mark.lineStyle.type")}});this.zr.addHoverShape(this._markShape)}}},__onMark:function(p){var o=p.target;if(this._marking||this._markStart){this._resetMark();this.zr.refreshNextFrame()}else{this._resetZoom();this.zr.modShape(o.id,{style:{strokeColor:this._enableColor}});this.zr.refreshNextFrame();this._markStart=true;var n=this;setTimeout(function(){n.zr&&n.zr.on(g.EVENT.CLICK,n._onclick)&&n.zr.on(g.EVENT.MOUSEMOVE,n._onmousemove)},10)}return true},__onMarkUndo:function(){if(this._marking){this._marking=false}else{var n=this._markShapeList.length;if(n>=1){var o=this._markShapeList[n-1];this.zr.delShape(o.id);this.zr.refreshNextFrame();this._markShapeList.pop();if(n===1){this._iconDisable(this._iconShapeMap.markUndo);this._iconDisable(this._iconShapeMap.markClear)}}}return true},__onMarkClear:function(){if(this._marking){this._marking=false}var n=this._markShapeList.length;if(n>0){while(n--){this.zr.delShape(this._markShapeList.pop().id)}this._iconDisable(this._iconShapeMap.markUndo);this._iconDisable(this._iconShapeMap.markClear);this.zr.refreshNextFrame()}return true},__onDataZoom:function(p){var o=p.target;if(this._zooming||this._zoomStart){this._resetZoom();this.zr.refreshNextFrame();this.dom.style.cursor="default"}else{this._resetMark();this.zr.modShape(o.id,{style:{strokeColor:this._enableColor}});this.zr.refreshNextFrame();this._zoomStart=true;var n=this;setTimeout(function(){n.zr&&n.zr.on(g.EVENT.MOUSEDOWN,n._onmousedown)&&n.zr.on(g.EVENT.MOUSEUP,n._onmouseup)&&n.zr.on(g.EVENT.MOUSEMOVE,n._onmousemove)},10);this.dom.style.cursor="crosshair"}return true},__onDataZoomReset:function(){if(this._zooming){this._zooming=false}this._zoomQueue.pop();if(this._zoomQueue.length>0){this.component.dataZoom.absoluteZoom(this._zoomQueue[this._zoomQueue.length-1])}else{this.component.dataZoom.rectZoom();this._iconDisable(this._iconShapeMap.dataZoomReset);this.zr.refreshNextFrame()}return true},_resetMark:function(){this._marking=false;if(this._markStart){this._markStart=false;if(this._iconShapeMap.mark){this.zr.modShape(this._iconShapeMap.mark.id,{style:{strokeColor:this._iconShapeMap.mark.highlightStyle.strokeColor}})}this.zr.un(g.EVENT.CLICK,this._onclick);this.zr.un(g.EVENT.MOUSEMOVE,this._onmousemove)}},_resetZoom:function(){this._zooming=false;if(this._zoomStart){this._zoomStart=false;if(this._iconShapeMap.dataZoom){this.zr.modShape(this._iconShapeMap.dataZoom.id,{style:{strokeColor:this._iconShapeMap.dataZoom.highlightStyle.strokeColor}})}this.zr.un(g.EVENT.MOUSEDOWN,this._onmousedown);this.zr.un(g.EVENT.MOUSEUP,this._onmouseup);this.zr.un(g.EVENT.MOUSEMOVE,this._onmousemove)}},_iconDisable:function(n){if(n.type!="image"){this.zr.modShape(n.id,{hoverable:false,clickable:false,style:{strokeColor:this._disableColor}})}else{this.zr.modShape(n.id,{hoverable:false,clickable:false,style:{opacity:0.3}})}},_iconEnable:function(n){if(n.type!="image"){this.zr.modShape(n.id,{hoverable:true,clickable:true,style:{strokeColor:n.highlightStyle.strokeColor}})}else{this.zr.modShape(n.id,{hoverable:true,clickable:true,style:{opacity:0.8}})}},__onDataView:function(){this._dataView.show(this.option);return true},__onRestore:function(){this._resetMark();this._resetZoom();this.messageCenter.dispatch(j.EVENT.RESTORE,null,null,this.myChart);return true},__onSaveAsImage:function(){var r=this.option.toolbox.feature.saveAsImage;var p=r.type||"png";if(p!="png"&&p!="jpeg"){p="png"}var q;if(!this.myChart.isConnected()){q=this.zr.toDataURL("image/"+p,this.option.backgroundColor&&this.option.backgroundColor.replace(" ","")==="rgba(0,0,0,0)"?"#fff":this.option.backgroundColor)}else{q=this.myChart.getConnectedDataURL(p)}var o=document.createElement("div");o.id="__echarts_download_wrap__";o.style.cssText="position:fixed;z-index:99999;display:block;top:0;left:0;background-color:rgba(33,33,33,0.5);text-align:center;width:100%;height:100%;line-height:"+document.documentElement.clientHeight+"px;";var n=document.createElement("a");n.href=q;n.setAttribute("download",(r.name?r.name:this.option.title&&(this.option.title.text||this.option.title.subtext)?this.option.title.text||this.option.title.subtext:"ECharts")+"."+p);n.innerHTML='<img style="vertical-align:middle" src="'+q+'" title="'+(!!window.ActiveXObject||"ActiveXObject" in window?"右键->图片另存为":r.lang?r.lang[0]:"点击保存")+'"/>';o.appendChild(n);document.body.appendChild(o);n=null;o=null;setTimeout(function(){var s=document.getElementById("__echarts_download_wrap__");if(s){s.onclick=function(){var t=document.getElementById("__echarts_download_wrap__");t.onclick=null;t.innerHTML="";document.body.removeChild(t);t=null};s=null}},500);return},__onMagicType:function(o){this._resetMark();var n=o.target._name;if(!this._magicType[n]){this._magicType[n]=true;if(n===j.CHART_TYPE_LINE){this._magicType[j.CHART_TYPE_BAR]=false}else{if(n===j.CHART_TYPE_BAR){this._magicType[j.CHART_TYPE_LINE]=false}}if(n===j.CHART_TYPE_PIE){this._magicType[j.CHART_TYPE_FUNNEL]=false}else{if(n===j.CHART_TYPE_FUNNEL){this._magicType[j.CHART_TYPE_PIE]=false}}if(n===j.CHART_TYPE_FORCE){this._magicType[j.CHART_TYPE_CHORD]=false}else{if(n===j.CHART_TYPE_CHORD){this._magicType[j.CHART_TYPE_FORCE]=false}}if(n===k){this._magicType[i]=false}else{if(n===i){this._magicType[k]=false}}this.messageCenter.dispatch(j.EVENT.MAGIC_TYPE_CHANGED,o.event,{magicType:this._magicType},this.myChart)}return true},setMagicType:function(n){this._resetMark();this._magicType=n;!this._isSilence&&this.messageCenter.dispatch(j.EVENT.MAGIC_TYPE_CHANGED,null,{magicType:this._magicType},this.myChart)},__onCustomHandler:function(p){var o=p.target.style.iconType;var n=this.option.toolbox.feature[o].onclick;if(typeof n==="function"){n.call(this,this.option)}},reset:function(u,o){o&&this.clear();if(this.query(u,"toolbox.show")&&this.query(u,"toolbox.feature.magicType.show")){var q=u.toolbox.feature.magicType.type;var t=q.length;this._magicMap={};while(t--){this._magicMap[q[t]]=true}t=u.series.length;var p;var r;while(t--){p=u.series[t].type;if(this._magicMap[p]){r=u.xAxis instanceof Array?u.xAxis[u.series[t].xAxisIndex||0]:u.xAxis;if(r&&(r.type||"category")==="category"){r.__boundaryGap=r.boundaryGap!=null?r.boundaryGap:true}r=u.yAxis instanceof Array?u.yAxis[u.series[t].yAxisIndex||0]:u.yAxis;if(r&&r.type==="category"){r.__boundaryGap=r.boundaryGap!=null?r.boundaryGap:true}u.series[t].__type=p;u.series[t].__itemStyle=e.clone(u.series[t].itemStyle||{})}if(this._magicMap[k]||this._magicMap[i]){u.series[t].__stack=u.series[t].stack}}}this._magicType=o?{}:this._magicType||{};for(var w in this._magicType){if(this._magicType[w]){this.option=u;this.getMagicOption();break}}var v=u.dataZoom;if(v&&v.show){var n=v.start!=null&&v.start>=0&&v.start<=100?v.start:0;var s=v.end!=null&&v.end>=0&&v.end<=100?v.end:100;if(n>s){n=n+s;s=n-s;n=n-s}this._zoomQueue=[{start:n,end:s,start2:0,end2:100}]}else{this._zoomQueue=[]}},getMagicOption:function(){var q;var p;if(this._magicType[j.CHART_TYPE_LINE]||this._magicType[j.CHART_TYPE_BAR]){var r=this._magicType[j.CHART_TYPE_LINE]?false:true;for(var o=0,n=this.option.series.length;o<n;o++){p=this.option.series[o].type;if(p==j.CHART_TYPE_LINE||p==j.CHART_TYPE_BAR){q=this.option.xAxis instanceof Array?this.option.xAxis[this.option.series[o].xAxisIndex||0]:this.option.xAxis;if(q&&(q.type||"category")==="category"){q.boundaryGap=r?true:q.__boundaryGap}q=this.option.yAxis instanceof Array?this.option.yAxis[this.option.series[o].yAxisIndex||0]:this.option.yAxis;if(q&&q.type==="category"){q.boundaryGap=r?true:q.__boundaryGap}}}this._defaultMagic(j.CHART_TYPE_LINE,j.CHART_TYPE_BAR)}this._defaultMagic(j.CHART_TYPE_CHORD,j.CHART_TYPE_FORCE);this._defaultMagic(j.CHART_TYPE_PIE,j.CHART_TYPE_FUNNEL);if(this._magicType[k]||this._magicType[i]){for(var o=0,n=this.option.series.length;o<n;o++){if(this._magicType[k]){this.option.series[o].stack="_ECHARTS_STACK_KENER_2014_";p=k}else{if(this._magicType[i]){this.option.series[o].stack=null;p=i}}if(this._featureOption[p+"Chart"]){e.merge(this.option.series[o],this._featureOption[p+"Chart"]||{},true)}}}return this.option},_defaultMagic:function(p,n){if(this._magicType[p]||this._magicType[n]){for(var q=0,o=this.option.series.length;q<o;q++){var r=this.option.series[q].type;if(r==p||r==n){this.option.series[q].type=this._magicType[p]?p:n;this.option.series[q].itemStyle=e.clone(this.option.series[q].__itemStyle);r=this.option.series[q].type;if(this._featureOption[r+"Chart"]){e.merge(this.option.series[q],this._featureOption[r+"Chart"]||{},true)}}}}},silence:function(n){this._isSilence=n},resize:function(){this._resetMark();this.clear();if(this.option&&this.option.toolbox&&this.option.toolbox.show){this._buildShape()}if(this._dataView){this._dataView.resize()}},hideDataView:function(){if(this._dataView){this._dataView.hide()}},clear:function(n){if(this.zr){this.zr.delShape(this.shapeList);this.shapeList=[];if(!n){this.zr.delShape(this._markShapeList);this._markShapeList=[]}}},onbeforDispose:function(){if(this._dataView){this._dataView.dispose();this._dataView=null}this._markShapeList=null},refresh:function(n){if(n){this._resetMark();this._resetZoom();n.toolbox=this.reformOption(n.toolbox);this.option=n;this.clear(true);if(n.toolbox.show){this._buildShape()}this.hideDataView()}}};e.inherits(f,h);d("../component").define("toolbox",f);return f});define("echarts/component",[],function(){var a={};var b={};a.define=function(d,c){b[d]=c;return a};a.get=function(c){return b[c]};return a});define("echarts/component/title",["require","./base","zrender/shape/Text","zrender/shape/Rectangle","../config","zrender/tool/util","zrender/tool/area","zrender/tool/color","../component"],function(b){var e=b("./base");var c=b("zrender/shape/Text");var h=b("zrender/shape/Rectangle");var g=b("../config");g.title={zlevel:0,z:6,show:true,text:"",subtext:"",x:"left",y:"top",backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",borderWidth:0,padding:5,itemGap:5,textStyle:{fontSize:18,fontWeight:"bolder",color:"#333"},subtextStyle:{color:"#aaa"}};var d=b("zrender/tool/util");var i=b("zrender/tool/area");var a=b("zrender/tool/color");function f(m,j,n,l,k){e.call(this,m,j,n,l,k);this.refresh(l)}f.prototype={type:g.COMPONENT_TYPE_TITLE,_buildShape:function(){if(!this.titleOption.show){return}this._itemGroupLocation=this._getItemGroupLocation();this._buildBackground();this._buildItem();for(var k=0,j=this.shapeList.length;k<j;k++){this.zr.addShape(this.shapeList[k])}},_buildItem:function(){var w=this.titleOption.text;var s=this.titleOption.link;var p=this.titleOption.target;var u=this.titleOption.subtext;var q=this.titleOption.sublink;var o=this.titleOption.subtarget;var m=this.getFont(this.titleOption.textStyle);var j=this.getFont(this.titleOption.subtextStyle);var t=this._itemGroupLocation.x;var r=this._itemGroupLocation.y;var l=this._itemGroupLocation.width;var v=this._itemGroupLocation.height;var k={zlevel:this.getZlevelBase(),z:this.getZBase(),style:{y:r,color:this.titleOption.textStyle.color,text:w,textFont:m,textBaseline:"top"},highlightStyle:{color:a.lift(this.titleOption.textStyle.color,1),brushType:"fill"},hoverable:false};if(s){k.hoverable=true;k.clickable=true;k.onclick=function(){if(!p||p!="self"){window.open(s)}else{window.location=s}}}var n={zlevel:this.getZlevelBase(),z:this.getZBase(),style:{y:r+v,color:this.titleOption.subtextStyle.color,text:u,textFont:j,textBaseline:"bottom"},highlightStyle:{color:a.lift(this.titleOption.subtextStyle.color,1),brushType:"fill"},hoverable:false};if(q){n.hoverable=true;n.clickable=true;n.onclick=function(){if(!o||o!="self"){window.open(q)}else{window.location=q}}}switch(this.titleOption.x){case"center":k.style.x=n.style.x=t+l/2;k.style.textAlign=n.style.textAlign="center";break;case"left":k.style.x=n.style.x=t;k.style.textAlign=n.style.textAlign="left";break;case"right":k.style.x=n.style.x=t+l;k.style.textAlign=n.style.textAlign="right";break;default:t=this.titleOption.x-0;t=isNaN(t)?0:t;k.style.x=n.style.x=t;break}if(this.titleOption.textAlign){k.style.textAlign=n.style.textAlign=this.titleOption.textAlign}this.shapeList.push(new c(k));u!==""&&this.shapeList.push(new c(n))},_buildBackground:function(){var j=this.reformCssArray(this.titleOption.padding);this.shapeList.push(new h({zlevel:this.getZlevelBase(),z:this.getZBase(),hoverable:false,style:{x:this._itemGroupLocation.x-j[3],y:this._itemGroupLocation.y-j[0],width:this._itemGroupLocation.width+j[3]+j[1],height:this._itemGroupLocation.height+j[0]+j[2],brushType:this.titleOption.borderWidth===0?"fill":"both",color:this.titleOption.backgroundColor,strokeColor:this.titleOption.borderColor,lineWidth:this.titleOption.borderWidth}}))},_getItemGroupLocation:function(){var p=this.reformCssArray(this.titleOption.padding);var s=this.titleOption.text;var q=this.titleOption.subtext;var l=this.getFont(this.titleOption.textStyle);var k=this.getFont(this.titleOption.subtextStyle);var m=Math.max(i.getTextWidth(s,l),i.getTextWidth(q,k));var n=i.getTextHeight(s,l)+(q===""?0:this.titleOption.itemGap+i.getTextHeight(q,k));var r;var t=this.zr.getWidth();switch(this.titleOption.x){case"center":r=Math.floor((t-m)/2);break;case"left":r=p[3]+this.titleOption.borderWidth;break;case"right":r=t-m-p[1]-this.titleOption.borderWidth;break;default:r=this.titleOption.x-0;r=isNaN(r)?0:r;break}var o;var j=this.zr.getHeight();switch(this.titleOption.y){case"top":o=p[0]+this.titleOption.borderWidth;break;case"bottom":o=j-n-p[2]-this.titleOption.borderWidth;break;case"center":o=Math.floor((j-n)/2);break;default:o=this.titleOption.y-0;o=isNaN(o)?0:o;break}return{x:r,y:o,width:m,height:n}},refresh:function(j){if(j){this.option=j;this.option.title=this.reformOption(this.option.title);this.titleOption=this.option.title;this.titleOption.textStyle=this.getTextStyle(this.titleOption.textStyle);this.titleOption.subtextStyle=this.getTextStyle(this.titleOption.subtextStyle)}this.clear();this._buildShape()}};d.inherits(f,e);b("../component").define("title",f);return f});define("echarts/component/tooltip",["require","./base","../util/shape/Cross","zrender/shape/Line","zrender/shape/Rectangle","../config","../util/ecData","zrender/config","zrender/tool/event","zrender/tool/area","zrender/tool/color","zrender/tool/util","zrender/shape/Base","../component"],function(e){var h=e("./base");var a=e("../util/shape/Cross");var c=e("zrender/shape/Line");var n=e("zrender/shape/Rectangle");var i=new n({});var l=e("../config");l.tooltip={zlevel:1,z:8,show:true,showContent:true,trigger:"item",islandFormatter:"{a} <br/>{b} : {c}",showDelay:20,hideDelay:100,transitionDuration:0.4,enterable:false,backgroundColor:"rgba(0,0,0,0.7)",borderColor:"#333",borderRadius:4,borderWidth:0,padding:5,axisPointer:{type:"line",lineStyle:{color:"#48b",width:2,type:"solid"},crossStyle:{color:"#1e90ff",width:1,type:"dashed"},shadowStyle:{color:"rgba(150,150,150,0.3)",width:"auto",type:"default"}},textStyle:{color:"#fff"}};var d=e("../util/ecData");var g=e("zrender/config");var m=e("zrender/tool/event");var o=e("zrender/tool/area");var b=e("zrender/tool/color");var f=e("zrender/tool/util");var k=e("zrender/shape/Base");function j(t,p,u,s,r){h.call(this,t,p,u,s,r);this.dom=r.dom;var q=this;q._onmousemove=function(v){return q.__onmousemove(v)};q._onglobalout=function(v){return q.__onglobalout(v)};this.zr.on(g.EVENT.MOUSEMOVE,q._onmousemove);this.zr.on(g.EVENT.GLOBALOUT,q._onglobalout);q._hide=function(v){return q.__hide(v)};q._tryShow=function(v){return q.__tryShow(v)};q._refixed=function(v){return q.__refixed(v)};q._setContent=function(w,v){return q.__setContent(w,v)};this._tDom=this._tDom||document.createElement("div");this._tDom.onselectstart=function(){return false};this._tDom.onmouseover=function(){q._mousein=true};this._tDom.onmouseout=function(){q._mousein=false};this._tDom.className="echarts-tooltip";this._tDom.style.position="absolute";this.hasAppend=false;this._axisLineShape&&this.zr.delShape(this._axisLineShape.id);this._axisLineShape=new c({zlevel:this.getZlevelBase(),z:this.getZBase(),invisible:true,hoverable:false});this.shapeList.push(this._axisLineShape);this.zr.addShape(this._axisLineShape);this._axisShadowShape&&this.zr.delShape(this._axisShadowShape.id);this._axisShadowShape=new c({zlevel:this.getZlevelBase(),z:1,invisible:true,hoverable:false});this.shapeList.push(this._axisShadowShape);this.zr.addShape(this._axisShadowShape);this._axisCrossShape&&this.zr.delShape(this._axisCrossShape.id);this._axisCrossShape=new a({zlevel:this.getZlevelBase(),z:this.getZBase(),invisible:true,hoverable:false});this.shapeList.push(this._axisCrossShape);this.zr.addShape(this._axisCrossShape);this.showing=false;this.refresh(s)}j.prototype={type:l.COMPONENT_TYPE_TOOLTIP,_gCssText:"position:absolute;display:block;border-style:solid;white-space:nowrap;",_style:function(q){if(!q){return""}var r=[];if(q.transitionDuration){var p="left "+q.transitionDuration+"s,top "+q.transitionDuration+"s";r.push("transition:"+p);r.push("-moz-transition:"+p);r.push("-webkit-transition:"+p);r.push("-o-transition:"+p)}if(q.backgroundColor){r.push("background-Color:"+b.toHex(q.backgroundColor));r.push("filter:alpha(opacity=70)");r.push("background-Color:"+q.backgroundColor)}if(q.borderWidth!=null){r.push("border-width:"+q.borderWidth+"px")}if(q.borderColor!=null){r.push("border-color:"+q.borderColor)}if(q.borderRadius!=null){r.push("border-radius:"+q.borderRadius+"px");r.push("-moz-border-radius:"+q.borderRadius+"px");r.push("-webkit-border-radius:"+q.borderRadius+"px");r.push("-o-border-radius:"+q.borderRadius+"px")}var t=q.textStyle;if(t){t.color&&r.push("color:"+t.color);t.decoration&&r.push("text-decoration:"+t.decoration);t.align&&r.push("text-align:"+t.align);t.fontFamily&&r.push("font-family:"+t.fontFamily);t.fontSize&&r.push("font-size:"+t.fontSize+"px");t.fontSize&&r.push("line-height:"+Math.round(t.fontSize*3/2)+"px");t.fontStyle&&r.push("font-style:"+t.fontStyle);t.fontWeight&&r.push("font-weight:"+t.fontWeight)}var s=q.padding;if(s!=null){s=this.reformCssArray(s);r.push("padding:"+s[0]+"px "+s[1]+"px "+s[2]+"px "+s[3]+"px")}r=r.join(";")+";";return r},__hide:function(){this._lastDataIndex=-1;this._lastSeriesIndex=-1;this._lastItemTriggerId=-1;if(this._tDom){this._tDom.style.display="none"}var p=false;if(!this._axisLineShape.invisible){this._axisLineShape.invisible=true;this.zr.modShape(this._axisLineShape.id);p=true}if(!this._axisShadowShape.invisible){this._axisShadowShape.invisible=true;this.zr.modShape(this._axisShadowShape.id);p=true}if(!this._axisCrossShape.invisible){this._axisCrossShape.invisible=true;this.zr.modShape(this._axisCrossShape.id);p=true}if(this._lastTipShape&&this._lastTipShape.tipShape.length>0){this.zr.delShape(this._lastTipShape.tipShape);this._lastTipShape=false;this.shapeList.length=2}p&&this.zr.refreshNextFrame();this.showing=false},_show:function(q,p,u,s){var t=this._tDom.offsetHeight;var r=this._tDom.offsetWidth;if(q){if(typeof q==="function"){q=q([p,u])}if(q instanceof Array){p=q[0];u=q[1]}}if(p+r>this._zrWidth){p-=r+40}if(u+t>this._zrHeight){u-=t-20}if(u<20){u=0}this._tDom.style.cssText=this._gCssText+this._defaultCssText+(s?s:"")+"left:"+p+"px;top:"+u+"px;";if(t<10||r<10){setTimeout(this._refixed,20)}this.showing=true},__refixed:function(){if(this._tDom){var q="";var r=this._tDom.offsetHeight;var p=this._tDom.offsetWidth;if(this._tDom.offsetLeft+p>this._zrWidth){q+="left:"+(this._zrWidth-p-20)+"px;"}if(this._tDom.offsetTop+r>this._zrHeight){q+="top:"+(this._zrHeight-r-10)+"px;"}if(q!==""){this._tDom.style.cssText+=q}}},__tryShow:function(){var r;var p;if(!this._curTarget){this._findPolarTrigger()||this._findAxisTrigger()}else{if(this._curTarget._type==="island"&&this.option.tooltip.show){this._showItemTrigger();return}var q=d.get(this._curTarget,"series");var s=d.get(this._curTarget,"data");r=this.deepQuery([s,q,this.option],"tooltip.show");if(q==null||s==null||!r){clearTimeout(this._hidingTicket);clearTimeout(this._showingTicket);this._hidingTicket=setTimeout(this._hide,this._hideDelay)}else{p=this.deepQuery([s,q,this.option],"tooltip.trigger");p==="axis"?this._showAxisTrigger(q.xAxisIndex,q.yAxisIndex,d.get(this._curTarget,"dataIndex")):this._showItemTrigger()}}},_findAxisTrigger:function(){if(!this.component.xAxis||!this.component.yAxis){this._hidingTicket=setTimeout(this._hide,this._hideDelay);return}var t=this.option.series;var q;var s;for(var r=0,p=t.length;r<p;r++){if(this.deepQuery([t[r],this.option],"tooltip.trigger")==="axis"){q=t[r].xAxisIndex||0;s=t[r].yAxisIndex||0;if(this.component.xAxis.getAxis(q)&&this.component.xAxis.getAxis(q).type===l.COMPONENT_TYPE_AXIS_CATEGORY){this._showAxisTrigger(q,s,this._getNearestDataIndex("x",this.component.xAxis.getAxis(q)));return}else{if(this.component.yAxis.getAxis(s)&&this.component.yAxis.getAxis(s).type===l.COMPONENT_TYPE_AXIS_CATEGORY){this._showAxisTrigger(q,s,this._getNearestDataIndex("y",this.component.yAxis.getAxis(s)));return}else{this._showAxisTrigger(q,s,-1);return}}}}if(this.option.tooltip.axisPointer.type==="cross"){this._showAxisTrigger(-1,-1,-1)}},_findPolarTrigger:function(){if(!this.component.polar){return false}var p=m.getX(this._event);var s=m.getY(this._event);var q=this.component.polar.getNearestIndex([p,s]);var r;if(q){r=q.valueIndex;q=q.polarIndex}else{q=-1}if(q!=-1){return this._showPolarTrigger(q,r)}return false},_getNearestDataIndex:function(w,t){var z=-1;var A=m.getX(this._event);var v=m.getY(this._event);if(w==="x"){var s;var B;var r=this.component.grid.getXend();var q=t.getCoordByIndex(z);while(q<r){B=q;if(q<=A){s=q}else{break}q=t.getCoordByIndex(++z)}if(z<=0){z=0}else{if(A-s<=B-A){z-=1}else{if(t.getNameByIndex(z)==null){z-=1}}}return z}else{var u;var p;var C=this.component.grid.getY();var q=t.getCoordByIndex(z);while(q>C){u=q;if(q>=v){p=q}else{break}q=t.getCoordByIndex(++z)}if(z<=0){z=0}else{if(v-u>=p-v){z-=1}else{if(t.getNameByIndex(z)==null){z-=1}}}return z}return -1},_showAxisTrigger:function(r,z,K){!this._event.connectTrigger&&this.messageCenter.dispatch(l.EVENT.TOOLTIP_IN_GRID,this._event,null,this.myChart);if(this.component.xAxis==null||this.component.yAxis==null||r==null||z==null){clearTimeout(this._hidingTicket);clearTimeout(this._showingTicket);this._hidingTicket=setTimeout(this._hide,this._hideDelay);return}var u=this.option.series;var H=[];var G=[];var w;var E;var L;var B;var q="";if(this.option.tooltip.trigger==="axis"){if(!this.option.tooltip.show){return}E=this.option.tooltip.formatter;L=this.option.tooltip.position}var D=r!=-1&&this.component.xAxis.getAxis(r).type===l.COMPONENT_TYPE_AXIS_CATEGORY?"xAxis":z!=-1&&this.component.yAxis.getAxis(z).type===l.COMPONENT_TYPE_AXIS_CATEGORY?"yAxis":false;var t;var s;if(D){var v=D=="xAxis"?r:z;w=this.component[D].getAxis(v);for(var F=0,C=u.length;F<C;F++){if(!this._isSelected(u[F].name)){continue}if(u[F][D+"Index"]===v&&this.deepQuery([u[F],this.option],"tooltip.trigger")==="axis"){B=this.query(u[F],"tooltip.showContent")||B;E=this.query(u[F],"tooltip.formatter")||E;L=this.query(u[F],"tooltip.position")||L;q+=this._style(this.query(u[F],"tooltip"));if(u[F].stack!=null&&D=="xAxis"){H.unshift(u[F]);G.unshift(F)}else{H.push(u[F]);G.push(F)}}}this.messageCenter.dispatch(l.EVENT.TOOLTIP_HOVER,this._event,{seriesIndex:G,dataIndex:K},this.myChart);var p;if(D=="xAxis"){t=this.subPixelOptimize(w.getCoordByIndex(K),this._axisLineWidth);s=m.getY(this._event);p=[t,this.component.grid.getY(),t,this.component.grid.getYend()]}else{t=m.getX(this._event);s=this.subPixelOptimize(w.getCoordByIndex(K),this._axisLineWidth);p=[this.component.grid.getX(),s,this.component.grid.getXend(),s]}this._styleAxisPointer(H,p[0],p[1],p[2],p[3],w.getGap(),t,s)}else{t=m.getX(this._event);s=m.getY(this._event);this._styleAxisPointer(u,this.component.grid.getX(),s,this.component.grid.getXend(),s,0,t,s);if(K>=0){this._showItemTrigger(true)}else{clearTimeout(this._hidingTicket);clearTimeout(this._showingTicket);this._tDom.style.display="none"}}if(H.length>0){this._lastItemTriggerId=-1;if(this._lastDataIndex!=K||this._lastSeriesIndex!=G[0]){this._lastDataIndex=K;this._lastSeriesIndex=G[0];var J;var A;if(typeof E==="function"){var I=[];for(var F=0,C=H.length;F<C;F++){J=H[F].data[K];A=this.getDataFromOption(J,"-");I.push({seriesIndex:G[F],seriesName:H[F].name||"",series:H[F],dataIndex:K,data:J,name:w.getNameByIndex(K),value:A,0:H[F].name||"",1:w.getNameByIndex(K),2:A,3:J})}this._curTicket="axis:"+K;this._tDom.innerHTML=E.call(this.myChart,I,this._curTicket,this._setContent)}else{if(typeof E==="string"){this._curTicket=NaN;E=E.replace("{a}","{a0}").replace("{b}","{b0}").replace("{c}","{c0}");for(var F=0,C=H.length;F<C;F++){E=E.replace("{a"+F+"}",this._encodeHTML(H[F].name||""));E=E.replace("{b"+F+"}",this._encodeHTML(w.getNameByIndex(K)));J=H[F].data[K];J=this.getDataFromOption(J,"-");E=E.replace("{c"+F+"}",J instanceof Array?J:this.numAddCommas(J))}this._tDom.innerHTML=E}else{this._curTicket=NaN;E=this._encodeHTML(w.getNameByIndex(K));for(var F=0,C=H.length;F<C;F++){E+="<br/>"+this._encodeHTML(H[F].name||"")+" : ";J=H[F].data[K];J=this.getDataFromOption(J,"-");E+=J instanceof Array?J:this.numAddCommas(J)}this._tDom.innerHTML=E}}}if(B===false||!this.option.tooltip.showContent){return}if(!this.hasAppend){this._tDom.style.left=this._zrWidth/2+"px";this._tDom.style.top=this._zrHeight/2+"px";this.dom.firstChild.appendChild(this._tDom);this.hasAppend=true}this._show(L,t+10,s+10,q)}},_showPolarTrigger:function(D,E){if(this.component.polar==null||D==null||E==null||E<0){return false}var s=this.option.series;var B=[];var A=[];var y;var F;var u;var q="";if(this.option.tooltip.trigger==="axis"){if(!this.option.tooltip.show){return false}y=this.option.tooltip.formatter;F=this.option.tooltip.position}var p=this.option.polar[D].indicator[E].text;for(var z=0,v=s.length;z<v;z++){if(!this._isSelected(s[z].name)){continue}if(s[z].polarIndex===D&&this.deepQuery([s[z],this.option],"tooltip.trigger")==="axis"){u=this.query(s[z],"tooltip.showContent")||u;y=this.query(s[z],"tooltip.formatter")||y;F=this.query(s[z],"tooltip.position")||F;q+=this._style(this.query(s[z],"tooltip"));B.push(s[z]);A.push(z)}}if(B.length>0){var r;var G;var t;var C=[];for(var z=0,v=B.length;z<v;z++){r=B[z].data;for(var x=0,w=r.length;x<w;x++){G=r[x];if(!this._isSelected(G.name)){continue}G=G!=null?G:{name:"",value:{dataIndex:"-"}};t=this.getDataFromOption(G.value[E]);C.push({seriesIndex:A[z],seriesName:B[z].name||"",series:B[z],dataIndex:E,data:G,name:G.name,indicator:p,value:t,0:B[z].name||"",1:G.name,2:t,3:p})}}if(C.length<=0){return}this._lastItemTriggerId=-1;if(this._lastDataIndex!=E||this._lastSeriesIndex!=A[0]){this._lastDataIndex=E;this._lastSeriesIndex=A[0];if(typeof y==="function"){this._curTicket="axis:"+E;this._tDom.innerHTML=y.call(this.myChart,C,this._curTicket,this._setContent)}else{if(typeof y==="string"){y=y.replace("{a}","{a0}").replace("{b}","{b0}").replace("{c}","{c0}").replace("{d}","{d0}");for(var z=0,v=C.length;z<v;z++){y=y.replace("{a"+z+"}",this._encodeHTML(C[z].seriesName));y=y.replace("{b"+z+"}",this._encodeHTML(C[z].name));y=y.replace("{c"+z+"}",this.numAddCommas(C[z].value));y=y.replace("{d"+z+"}",this._encodeHTML(C[z].indicator))}this._tDom.innerHTML=y}else{y=this._encodeHTML(C[0].name)+"<br/>"+this._encodeHTML(C[0].indicator)+" : "+this.numAddCommas(C[0].value);for(var z=1,v=C.length;z<v;z++){y+="<br/>"+this._encodeHTML(C[z].name)+"<br/>";y+=this._encodeHTML(C[z].indicator)+" : "+this.numAddCommas(C[z].value)}this._tDom.innerHTML=y}}}if(u===false||!this.option.tooltip.showContent){return}if(!this.hasAppend){this._tDom.style.left=this._zrWidth/2+"px";this._tDom.style.top=this._zrHeight/2+"px";this.dom.firstChild.appendChild(this._tDom);this.hasAppend=true}this._show(F,m.getX(this._event),m.getY(this._event),q);return true}},_showItemTrigger:function(B){if(!this._curTarget){return}var w=d.get(this._curTarget,"series");var s=d.get(this._curTarget,"seriesIndex");var t=d.get(this._curTarget,"data");var F=d.get(this._curTarget,"dataIndex");var p=d.get(this._curTarget,"name");var H=d.get(this._curTarget,"value");var C=d.get(this._curTarget,"special");var z=d.get(this._curTarget,"special2");var q=[t,w,this.option];var G;var v;var u;var A="";if(this._curTarget._type!="island"){var r=B?"axis":"item";if(this.option.tooltip.trigger===r){G=this.option.tooltip.formatter;v=this.option.tooltip.position}if(this.query(w,"tooltip.trigger")===r){u=this.query(w,"tooltip.showContent")||u;G=this.query(w,"tooltip.formatter")||G;v=this.query(w,"tooltip.position")||v;A+=this._style(this.query(w,"tooltip"))}u=this.query(t,"tooltip.showContent")||u;G=this.query(t,"tooltip.formatter")||G;v=this.query(t,"tooltip.position")||v;A+=this._style(this.query(t,"tooltip"))}else{this._lastItemTriggerId=NaN;u=this.deepQuery(q,"tooltip.showContent");G=this.deepQuery(q,"tooltip.islandFormatter");v=this.deepQuery(q,"tooltip.islandPosition")}this._lastDataIndex=-1;this._lastSeriesIndex=-1;if(this._lastItemTriggerId!==this._curTarget.id){this._lastItemTriggerId=this._curTarget.id;if(typeof G==="function"){this._curTicket=(w.name||"")+":"+F;this._tDom.innerHTML=G.call(this.myChart,{seriesIndex:s,seriesName:w.name||"",series:w,dataIndex:F,data:t,name:p,value:H,percent:C,indicator:C,value2:z,indicator2:z,0:w.name||"",1:p,2:H,3:C,4:z,5:t,6:s,7:F},this._curTicket,this._setContent)}else{if(typeof G==="string"){this._curTicket=NaN;G=G.replace("{a}","{a0}").replace("{b}","{b0}").replace("{c}","{c0}");G=G.replace("{a0}",this._encodeHTML(w.name||"")).replace("{b0}",this._encodeHTML(p)).replace("{c0}",H instanceof Array?H:this.numAddCommas(H));G=G.replace("{d}","{d0}").replace("{d0}",C||"");G=G.replace("{e}","{e0}").replace("{e0}",d.get(this._curTarget,"special2")||"");this._tDom.innerHTML=G}else{this._curTicket=NaN;if(w.type===l.CHART_TYPE_RADAR&&C){this._tDom.innerHTML=this._itemFormatter.radar.call(this,w,p,H,C)}else{if(w.type===l.CHART_TYPE_EVENTRIVER){this._tDom.innerHTML=this._itemFormatter.eventRiver.call(this,w,p,H,t)}else{this._tDom.innerHTML=""+(w.name!=null?this._encodeHTML(w.name)+"<br/>":"")+(p===""?"":this._encodeHTML(p)+" : ")+(H instanceof Array?H:this.numAddCommas(H))}}}}}var E=m.getX(this._event);var D=m.getY(this._event);if(this.deepQuery(q,"tooltip.axisPointer.show")&&this.component.grid){this._styleAxisPointer([w],this.component.grid.getX(),D,this.component.grid.getXend(),D,0,E,D)}else{this._hide()}if(u===false||!this.option.tooltip.showContent){return}if(!this.hasAppend){this._tDom.style.left=this._zrWidth/2+"px";this._tDom.style.top=this._zrHeight/2+"px";this.dom.firstChild.appendChild(this._tDom);this.hasAppend=true}this._show(v,E+20,D-20,A)},_itemFormatter:{radar:function(t,q,u,p){var s="";s+=this._encodeHTML(q===""?t.name||"":q);s+=s===""?"":"<br />";for(var r=0;r<p.length;r++){s+=this._encodeHTML(p[r].text)+" : "+this.numAddCommas(u[r])+"<br />"}return s},chord:function(s,r,u,q,p){if(p==null){return this._encodeHTML(r)+" ("+this.numAddCommas(u)+")"}else{var v=this._encodeHTML(r);var t=this._encodeHTML(q);return""+(s.name!=null?this._encodeHTML(s.name)+"<br/>":"")+v+" -> "+t+" ("+this.numAddCommas(u)+")<br />"+t+" -> "+v+" ("+this.numAddCommas(p)+")"}},eventRiver:function(t,q,v,u){var s="";s+=this._encodeHTML(t.name===""?"":t.name+" : ");s+=this._encodeHTML(q);s+=s===""?"":"<br />";u=u.evolution;for(var r=0,p=u.length;r<p;r++){s+='<div style="padding-top:5px;">';if(!u[r].detail){continue}if(u[r].detail.img){s+='<img src="'+u[r].detail.img+'" style="float:left;width:40px;height:40px;">'}s+='<div style="margin-left:45px;">'+u[r].time+"<br/>";s+='<a href="'+u[r].detail.link+'" target="_blank">';s+=u[r].detail.text+"</a></div>";s+="</div>"}return s}},_styleAxisPointer:function(H,t,w,v,C,E,B,A){if(H.length>0){var r;var s;var J=this.option.tooltip.axisPointer;var q=J.type;var I={line:{},cross:{},shadow:{}};for(var D in I){I[D].color=J[D+"Style"].color;I[D].width=J[D+"Style"].width;I[D].type=J[D+"Style"].type}for(var G=0,F=H.length;G<F;G++){r=H[G];s=this.query(r,"tooltip.axisPointer.type");q=s||q;if(s){I[s].color=this.query(r,"tooltip.axisPointer."+s+"Style.color")||I[s].color;I[s].width=this.query(r,"tooltip.axisPointer."+s+"Style.width")||I[s].width;I[s].type=this.query(r,"tooltip.axisPointer."+s+"Style.type")||I[s].type}}if(q==="line"){var p=I.line.width;var z=t==v;this._axisLineShape.style={xStart:z?this.subPixelOptimize(t,p):t,yStart:z?w:this.subPixelOptimize(w,p),xEnd:z?this.subPixelOptimize(v,p):v,yEnd:z?C:this.subPixelOptimize(C,p),strokeColor:I.line.color,lineWidth:p,lineType:I.line.type};this._axisLineShape.invisible=false;this.zr.modShape(this._axisLineShape.id)}else{if(q==="cross"){var u=I.cross.width;this._axisCrossShape.style={brushType:"stroke",rect:this.component.grid.getArea(),x:this.subPixelOptimize(B,u),y:this.subPixelOptimize(A,u),text:("( "+this.component.xAxis.getAxis(0).getValueFromCoord(B)+" , "+this.component.yAxis.getAxis(0).getValueFromCoord(A)+" )").replace("  , "," ").replace(" ,  "," "),textPosition:"specific",strokeColor:I.cross.color,lineWidth:u,lineType:I.cross.type};if(this.component.grid.getXend()-B>100){this._axisCrossShape.style.textAlign="left";this._axisCrossShape.style.textX=B+10}else{this._axisCrossShape.style.textAlign="right";this._axisCrossShape.style.textX=B-10}if(A-this.component.grid.getY()>50){this._axisCrossShape.style.textBaseline="bottom";this._axisCrossShape.style.textY=A-10}else{this._axisCrossShape.style.textBaseline="top";this._axisCrossShape.style.textY=A+10}this._axisCrossShape.invisible=false;this.zr.modShape(this._axisCrossShape.id)}else{if(q==="shadow"){if(I.shadow.width==null||I.shadow.width==="auto"||isNaN(I.shadow.width)){I.shadow.width=E}if(t===v){if(Math.abs(this.component.grid.getX()-t)<2){I.shadow.width/=2;t=v=v+I.shadow.width/2}else{if(Math.abs(this.component.grid.getXend()-t)<2){I.shadow.width/=2;t=v=v-I.shadow.width/2}}}else{if(w===C){if(Math.abs(this.component.grid.getY()-w)<2){I.shadow.width/=2;w=C=C+I.shadow.width/2}else{if(Math.abs(this.component.grid.getYend()-w)<2){I.shadow.width/=2;w=C=C-I.shadow.width/2}}}}this._axisShadowShape.style={xStart:t,yStart:w,xEnd:v,yEnd:C,strokeColor:I.shadow.color,lineWidth:I.shadow.width};this._axisShadowShape.invisible=false;this.zr.modShape(this._axisShadowShape.id)}}}this.zr.refreshNextFrame()}},__onmousemove:function(w){clearTimeout(this._hidingTicket);clearTimeout(this._showingTicket);if(this._mousein&&this._enterable){return}var u=w.target;var v=m.getX(w.event);var t=m.getY(w.event);if(!u){this._curTarget=false;this._event=w.event;this._event.zrenderX=v;this._event.zrenderY=t;if(this._needAxisTrigger&&this.component.grid&&o.isInside(i,this.component.grid.getArea(),v,t)){this._showingTicket=setTimeout(this._tryShow,this._showDelay)}else{if(this._needAxisTrigger&&this.component.polar&&this.component.polar.isInside([v,t])!=-1){this._showingTicket=setTimeout(this._tryShow,this._showDelay)}else{!this._event.connectTrigger&&this.messageCenter.dispatch(l.EVENT.TOOLTIP_OUT_GRID,this._event,null,this.myChart);this._hidingTicket=setTimeout(this._hide,this._hideDelay)}}}else{this._curTarget=u;this._event=w.event;this._event.zrenderX=v;this._event.zrenderY=t;var q;if(this._needAxisTrigger&&this.component.polar&&(q=this.component.polar.isInside([v,t]))!=-1){var s=this.option.series;for(var r=0,p=s.length;r<p;r++){if(s[r].polarIndex===q&&this.deepQuery([s[r],this.option],"tooltip.trigger")==="axis"){this._curTarget=null;break}}}this._showingTicket=setTimeout(this._tryShow,this._showDelay)}},__onglobalout:function(){clearTimeout(this._hidingTicket);clearTimeout(this._showingTicket);this._hidingTicket=setTimeout(this._hide,this._hideDelay)},__setContent:function(q,p){if(!this._tDom){return}if(q===this._curTicket){this._tDom.innerHTML=p}setTimeout(this._refixed,20)},ontooltipHover:function(s,r){if(!this._lastTipShape||this._lastTipShape&&this._lastTipShape.dataIndex!=s.dataIndex){if(this._lastTipShape&&this._lastTipShape.tipShape.length>0){this.zr.delShape(this._lastTipShape.tipShape);this.shapeList.length=2}for(var q=0,p=r.length;q<p;q++){r[q].zlevel=this.getZlevelBase();r[q].z=this.getZBase();r[q].style=k.prototype.getHighlightStyle(r[q].style,r[q].highlightStyle);r[q].draggable=false;r[q].hoverable=false;r[q].clickable=false;r[q].ondragend=null;r[q].ondragover=null;r[q].ondrop=null;this.shapeList.push(r[q]);this.zr.addShape(r[q])}this._lastTipShape={dataIndex:s.dataIndex,tipShape:r}}},ondragend:function(){this._hide()},onlegendSelected:function(p){this._selectedMap=p.selected},_setSelectedMap:function(){if(this.component.legend){this._selectedMap=f.clone(this.component.legend.getSelectedMap())}else{this._selectedMap={}}},_isSelected:function(p){if(this._selectedMap[p]!=null){return this._selectedMap[p]}else{return true}},showTip:function(G){if(!G){return}var C;var u=this.option.series;if(G.seriesIndex!=null){C=G.seriesIndex}else{var F=G.seriesName;for(var B=0,A=u.length;B<A;B++){if(u[B].name===F){C=B;break}}}var z=u[C];if(z==null){return}var v=this.myChart.chart[z.type];var q=this.deepQuery([z,this.option],"tooltip.trigger")==="axis";if(!v){return}if(q){var I=G.dataIndex;switch(v.type){case l.CHART_TYPE_LINE:case l.CHART_TYPE_BAR:case l.CHART_TYPE_K:case l.CHART_TYPE_RADAR:if(this.component.polar==null||z.data[0].value.length<=I){return}var H=z.polarIndex||0;var p=this.component.polar.getVector(H,I,"max");this._event={zrenderX:p[0],zrenderY:p[1]};this._showPolarTrigger(H,I);break}}else{var w=v.shapeList;var t;var r;switch(v.type){case l.CHART_TYPE_LINE:case l.CHART_TYPE_BAR:case l.CHART_TYPE_K:case l.CHART_TYPE_TREEMAP:case l.CHART_TYPE_SCATTER:var I=G.dataIndex;for(var B=0,A=w.length;B<A;B++){if(w[B]._mark==null&&d.get(w[B],"seriesIndex")==C&&d.get(w[B],"dataIndex")==I){this._curTarget=w[B];t=w[B].style.x;r=v.type!=l.CHART_TYPE_K?w[B].style.y:w[B].style.y[0];break}}break;case l.CHART_TYPE_RADAR:var I=G.dataIndex;for(var B=0,A=w.length;B<A;B++){if(w[B].type==="polygon"&&d.get(w[B],"seriesIndex")==C&&d.get(w[B],"dataIndex")==I){this._curTarget=w[B];var p=this.component.polar.getCenter(z.polarIndex||0);t=p[0];r=p[1];break}}break;case l.CHART_TYPE_PIE:var J=G.name;for(var B=0,A=w.length;B<A;B++){if(w[B].type==="sector"&&d.get(w[B],"seriesIndex")==C&&d.get(w[B],"name")==J){this._curTarget=w[B];var D=this._curTarget.style;var s=(D.startAngle+D.endAngle)/2*Math.PI/180;t=this._curTarget.style.x+Math.cos(s)*D.r/1.5;r=this._curTarget.style.y-Math.sin(s)*D.r/1.5;break}}break;case l.CHART_TYPE_MAP:var J=G.name;var E=z.mapType;for(var B=0,A=w.length;B<A;B++){if(w[B].type==="text"&&w[B]._mapType===E&&w[B].style._name===J){this._curTarget=w[B];t=this._curTarget.style.x+this._curTarget.position[0];r=this._curTarget.style.y+this._curTarget.position[1];break}}break;case l.CHART_TYPE_CHORD:var J=G.name;for(var B=0,A=w.length;B<A;B++){if(w[B].type==="sector"&&d.get(w[B],"name")==J){this._curTarget=w[B];var D=this._curTarget.style;var s=(D.startAngle+D.endAngle)/2*Math.PI/180;t=this._curTarget.style.x+Math.cos(s)*(D.r-2);r=this._curTarget.style.y-Math.sin(s)*(D.r-2);this.zr.trigger(g.EVENT.MOUSEMOVE,{zrenderX:t,zrenderY:r});return}}break;case l.CHART_TYPE_FORCE:var J=G.name;for(var B=0,A=w.length;B<A;B++){if(w[B].type==="circle"&&d.get(w[B],"name")==J){this._curTarget=w[B];t=this._curTarget.position[0];r=this._curTarget.position[1];break}}break}if(t!=null&&r!=null){this._event={zrenderX:t,zrenderY:r};this.zr.addHoverShape(this._curTarget);this.zr.refreshHover();this._showItemTrigger()}}},hideTip:function(){this._hide()},refresh:function(t){this._zrHeight=this.zr.getHeight();this._zrWidth=this.zr.getWidth();if(this._lastTipShape&&this._lastTipShape.tipShape.length>0){this.zr.delShape(this._lastTipShape.tipShape)}this._lastTipShape=false;this.shapeList.length=2;this._lastDataIndex=-1;this._lastSeriesIndex=-1;this._lastItemTriggerId=-1;if(t){this.option=t;this.option.tooltip=this.reformOption(this.option.tooltip);this.option.tooltip.textStyle=f.merge(this.option.tooltip.textStyle,this.ecTheme.textStyle);this._needAxisTrigger=false;if(this.option.tooltip.trigger==="axis"){this._needAxisTrigger=true}var s=this.option.series;for(var r=0,p=s.length;r<p;r++){if(this.query(s[r],"tooltip.trigger")==="axis"){this._needAxisTrigger=true;break}}this._showDelay=this.option.tooltip.showDelay;this._hideDelay=this.option.tooltip.hideDelay;this._defaultCssText=this._style(this.option.tooltip);this._setSelectedMap();this._axisLineWidth=this.option.tooltip.axisPointer.lineStyle.width;this._enterable=this.option.tooltip.enterable;if(!this._enterable&&this._tDom.className.indexOf(g.elementClassName)<0){this._tDom.className+=" "+g.elementClassName}}if(this.showing){var q=this;setTimeout(function(){q.zr.trigger(g.EVENT.MOUSEMOVE,q.zr.handler._event)},50)}},onbeforDispose:function(){if(this._lastTipShape&&this._lastTipShape.tipShape.length>0){this.zr.delShape(this._lastTipShape.tipShape)}clearTimeout(this._hidingTicket);clearTimeout(this._showingTicket);this.zr.un(g.EVENT.MOUSEMOVE,this._onmousemove);this.zr.un(g.EVENT.GLOBALOUT,this._onglobalout);if(this.hasAppend&&!!this.dom.firstChild){this.dom.firstChild.removeChild(this._tDom)}this._tDom=null},_encodeHTML:function(p){return String(p).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#39;")}};f.inherits(j,h);e("../component").define("tooltip",j);return j});define("echarts/component/legend",["require","./base","zrender/shape/Text","zrender/shape/Rectangle","zrender/shape/Sector","../util/shape/Icon","../util/shape/Candle","../config","zrender/tool/util","zrender/tool/area","../component"],function(c){var i=c("./base");var e=c("zrender/shape/Text");var m=c("zrender/shape/Rectangle");var g=c("zrender/shape/Sector");var b=c("../util/shape/Icon");var l=c("../util/shape/Candle");var j=c("../config");j.legend={zlevel:0,z:4,show:true,orient:"horizontal",x:"center",y:"top",backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",borderWidth:0,padding:5,itemGap:10,itemWidth:20,itemHeight:14,textStyle:{color:"#333"},selectedMode:true};var d=c("zrender/tool/util");var n=c("zrender/tool/area");function a(r,k,s,q,p){if(!this.query(q,"legend.data")){console.error("option.legend.data has not been defined.");return}i.call(this,r,k,s,q,p);var o=this;o._legendSelected=function(t){o.__legendSelected(t)};o._dispatchHoverLink=function(t){return o.__dispatchHoverLink(t)};this._colorIndex=0;this._colorMap={};this._selectedMap={};this._hasDataMap={};this.refresh(q)}a.prototype={type:j.COMPONENT_TYPE_LEGEND,_buildShape:function(){if(!this.legendOption.show){return}this._itemGroupLocation=this._getItemGroupLocation();this._buildBackground();this._buildItem();for(var o=0,k=this.shapeList.length;o<k;o++){this.zr.addShape(this.shapeList[o])}},_buildItem:function(){var F=this.legendOption.data;var v=F.length;var C;var E;var y;var x;var s=this.legendOption.textStyle;var r;var p;var D;var k=this.zr.getWidth();var o=this.zr.getHeight();var u=this._itemGroupLocation.x;var t=this._itemGroupLocation.y;var q=this.legendOption.itemWidth;var z=this.legendOption.itemHeight;var w=this.legendOption.itemGap;var A;if(this.legendOption.orient==="vertical"&&this.legendOption.x==="right"){u=this._itemGroupLocation.x+this._itemGroupLocation.width-q}for(var B=0;B<v;B++){r=d.merge(F[B].textStyle||{},s);p=this.getFont(r);C=this._getName(F[B]);D=this._getFormatterName(C);if(C===""){if(this.legendOption.orient==="horizontal"){u=this._itemGroupLocation.x;t+=z+w}else{this.legendOption.x==="right"?u-=this._itemGroupLocation.maxWidth+w:u+=this._itemGroupLocation.maxWidth+w;t=this._itemGroupLocation.y}continue}E=F[B].icon||this._getSomethingByName(C).type;A=this.getColor(C);if(this.legendOption.orient==="horizontal"){if(k-u<200&&q+5+n.getTextWidth(D,p)+(B===v-1||F[B+1]===""?0:w)>=k-u){u=this._itemGroupLocation.x;t+=z+w}}else{if(o-t<200&&z+(B===v-1||F[B+1]===""?0:w)>=o-t){this.legendOption.x==="right"?u-=this._itemGroupLocation.maxWidth+w:u+=this._itemGroupLocation.maxWidth+w;t=this._itemGroupLocation.y}}y=this._getItemShapeByType(u,t,q,z,this._selectedMap[C]&&this._hasDataMap[C]?A:"#ccc",E,A);y._name=C;y=new b(y);x={zlevel:this.getZlevelBase(),z:this.getZBase(),style:{x:u+q+5,y:t+z/2,color:this._selectedMap[C]?r.color==="auto"?A:r.color:"#ccc",text:D,textFont:p,textBaseline:"middle"},highlightStyle:{color:A,brushType:"fill"},hoverable:!!this.legendOption.selectedMode,clickable:!!this.legendOption.selectedMode};if(this.legendOption.orient==="vertical"&&this.legendOption.x==="right"){x.style.x-=q+10;x.style.textAlign="right"}x._name=C;x=new e(x);if(this.legendOption.selectedMode){y.onclick=x.onclick=this._legendSelected;y.onmouseover=x.onmouseover=this._dispatchHoverLink;y.hoverConnect=x.id;x.hoverConnect=y.id}this.shapeList.push(y);this.shapeList.push(x);if(this.legendOption.orient==="horizontal"){u+=q+5+n.getTextWidth(D,p)+w}else{t+=z+w}}if(this.legendOption.orient==="horizontal"&&this.legendOption.x==="center"&&t!=this._itemGroupLocation.y){this._mLineOptimize()}},_getName:function(k){return typeof k.name!="undefined"?k.name:k},_getFormatterName:function(o){var k=this.legendOption.formatter;var p;if(typeof k==="function"){p=k.call(this.myChart,o)}else{if(typeof k==="string"){p=k.replace("{name}",o)}else{p=o}}return p},_getFormatterNameFromData:function(o){var k=this._getName(o);return this._getFormatterName(k)},_mLineOptimize:function(){var p=[];var r=this._itemGroupLocation.x;for(var o=2,k=this.shapeList.length;o<k;o++){if(this.shapeList[o].style.x===r){p.push((this._itemGroupLocation.width-(this.shapeList[o-1].style.x+n.getTextWidth(this.shapeList[o-1].style.text,this.shapeList[o-1].style.textFont)-r))/2)}else{if(o===k-1){p.push((this._itemGroupLocation.width-(this.shapeList[o].style.x+n.getTextWidth(this.shapeList[o].style.text,this.shapeList[o].style.textFont)-r))/2)}}}var q=-1;for(var o=1,k=this.shapeList.length;o<k;o++){if(this.shapeList[o].style.x===r){q++}if(p[q]===0){continue}else{this.shapeList[o].style.x+=p[q]}}},_buildBackground:function(){var k=this.reformCssArray(this.legendOption.padding);this.shapeList.push(new m({zlevel:this.getZlevelBase(),z:this.getZBase(),hoverable:false,style:{x:this._itemGroupLocation.x-k[3],y:this._itemGroupLocation.y-k[0],width:this._itemGroupLocation.width+k[3]+k[1],height:this._itemGroupLocation.height+k[0]+k[2],brushType:this.legendOption.borderWidth===0?"fill":"both",color:this.legendOption.backgroundColor,strokeColor:this.legendOption.borderColor,lineWidth:this.legendOption.borderWidth}}))},_getItemGroupLocation:function(){var G=this.legendOption.data;var s=G.length;var w=this.legendOption.itemGap;var q=this.legendOption.itemWidth+5;var B=this.legendOption.itemHeight;var r=this.legendOption.textStyle;var A=this.getFont(r);var p=0;var F=0;var z=this.reformCssArray(this.legendOption.padding);var k=this.zr.getWidth()-z[1]-z[3];var o=this.zr.getHeight()-z[0]-z[2];var E=0;var D=0;if(this.legendOption.orient==="horizontal"){F=B;for(var C=0;C<s;C++){if(this._getName(G[C])===""){E-=w;p=Math.max(p,E);F+=B+w;E=0;continue}var v=n.getTextWidth(this._getFormatterNameFromData(G[C]),G[C].textStyle?this.getFont(d.merge(G[C].textStyle||{},r)):A);if(E+q+v+w>k){E-=w;p=Math.max(p,E);F+=B+w;E=0}else{E+=q+v+w;p=Math.max(p,E-w)}}}else{for(var C=0;C<s;C++){D=Math.max(D,n.getTextWidth(this._getFormatterNameFromData(G[C]),G[C].textStyle?this.getFont(d.merge(G[C].textStyle||{},r)):A))}D+=q;p=D;for(var C=0;C<s;C++){if(this._getName(G[C])===""){p+=D+w;E-=w;F=Math.max(F,E);E=0;continue}if(E+B+w>o){p+=D+w;E-=w;F=Math.max(F,E);E=0}else{E+=B+w;F=Math.max(F,E-w)}}}k=this.zr.getWidth();o=this.zr.getHeight();var u;switch(this.legendOption.x){case"center":u=Math.floor((k-p)/2);break;case"left":u=z[3]+this.legendOption.borderWidth;break;case"right":u=k-p-z[1]-z[3]-this.legendOption.borderWidth*2;break;default:u=this.parsePercent(this.legendOption.x,k);break}var t;switch(this.legendOption.y){case"top":t=z[0]+this.legendOption.borderWidth;break;case"bottom":t=o-F-z[0]-z[2]-this.legendOption.borderWidth*2;break;case"center":t=Math.floor((o-F)/2);break;default:t=this.parsePercent(this.legendOption.y,o);break}return{x:u,y:t,width:p,height:F,maxWidth:D}},_getSomethingByName:function(r){var t=this.option.series;var u;for(var s=0,o=t.length;s<o;s++){if(t[s].name===r){return{type:t[s].type,series:t[s],seriesIndex:s,data:null,dataIndex:-1}}if(t[s].type===j.CHART_TYPE_PIE||t[s].type===j.CHART_TYPE_RADAR||t[s].type===j.CHART_TYPE_CHORD||t[s].type===j.CHART_TYPE_FORCE||t[s].type===j.CHART_TYPE_FUNNEL||t[s].type===j.CHART_TYPE_TREEMAP){u=t[s].categories||t[s].data||t[s].nodes;for(var q=0,p=u.length;q<p;q++){if(u[q].name===r){return{type:t[s].type,series:t[s],seriesIndex:s,data:u[q],dataIndex:q}}}}}return{type:"bar",series:null,seriesIndex:-1,data:null,dataIndex:-1}},_getItemShapeByType:function(u,t,o,v,r,s,p){var w=r==="#ccc"?p:r;var k={zlevel:this.getZlevelBase(),z:this.getZBase(),style:{iconType:"legendicon"+s,x:u,y:t,width:o,height:v,color:r,strokeColor:r,lineWidth:2},highlightStyle:{color:w,strokeColor:w,lineWidth:1},hoverable:this.legendOption.selectedMode,clickable:this.legendOption.selectedMode};var q;if(s.match("image")){var q=s.replace(new RegExp("^image:\\/\\/"),"");s="image"}switch(s){case"line":k.style.brushType="stroke";k.highlightStyle.lineWidth=3;break;case"radar":case"venn":case"tree":case"treemap":case"scatter":k.highlightStyle.lineWidth=3;break;case"k":k.style.brushType="both";k.highlightStyle.lineWidth=3;k.highlightStyle.color=k.style.color=this.deepQuery([this.ecTheme,j],"k.itemStyle.normal.color")||"#fff";k.style.strokeColor=r!="#ccc"?this.deepQuery([this.ecTheme,j],"k.itemStyle.normal.lineStyle.color")||"#ff3200":r;break;case"image":k.style.iconType="image";k.style.image=q;if(r==="#ccc"){k.style.opacity=0.5}break}return k},__legendSelected:function(q){var p=q.target._name;if(this.legendOption.selectedMode==="single"){for(var o in this._selectedMap){this._selectedMap[o]=false}}this._selectedMap[p]=!this._selectedMap[p];this.messageCenter.dispatch(j.EVENT.LEGEND_SELECTED,q.event,{selected:this._selectedMap,target:p},this.myChart)},__dispatchHoverLink:function(k){this.messageCenter.dispatch(j.EVENT.LEGEND_HOVERLINK,k.event,{target:k.target._name},this.myChart);return},refresh:function(u){if(u){this.option=u||this.option;this.option.legend=this.reformOption(this.option.legend);this.legendOption=this.option.legend;var s=this.legendOption.data||[];var w;var v;var q;var p;if(this.legendOption.selected){for(var r in this.legendOption.selected){this._selectedMap[r]=typeof this._selectedMap[r]!="undefined"?this._selectedMap[r]:this.legendOption.selected[r]}}for(var t=0,o=s.length;t<o;t++){w=this._getName(s[t]);if(w===""){continue}v=this._getSomethingByName(w);if(!v.series){this._hasDataMap[w]=false}else{this._hasDataMap[w]=true;if(v.data&&(v.type===j.CHART_TYPE_PIE||v.type===j.CHART_TYPE_FORCE||v.type===j.CHART_TYPE_FUNNEL)){p=[v.data,v.series]}else{p=[v.series]}q=this.getItemStyleColor(this.deepQuery(p,"itemStyle.normal.color"),v.seriesIndex,v.dataIndex,v.data);if(q&&v.type!=j.CHART_TYPE_K){this.setColor(w,q)}this._selectedMap[w]=this._selectedMap[w]!=null?this._selectedMap[w]:true}}}this.clear();this._buildShape()},getRelatedAmount:function(r){var u=0;var t=this.option.series;var v;for(var s=0,o=t.length;s<o;s++){if(t[s].name===r){u++}if(t[s].type===j.CHART_TYPE_PIE||t[s].type===j.CHART_TYPE_RADAR||t[s].type===j.CHART_TYPE_CHORD||t[s].type===j.CHART_TYPE_FORCE||t[s].type===j.CHART_TYPE_FUNNEL){v=t[s].type!=j.CHART_TYPE_FORCE?t[s].data:t[s].categories;for(var q=0,p=v.length;q<p;q++){if(v[q].name===r&&v[q].value!="-"){u++}}}}return u},setColor:function(o,k){this._colorMap[o]=k},getColor:function(k){if(!this._colorMap[k]){this._colorMap[k]=this.zr.getColor(this._colorIndex++)}return this._colorMap[k]},hasColor:function(k){return this._colorMap[k]?this._colorMap[k]:false},add:function(o,k){var q=this.legendOption.data;for(var p=0,r=q.length;p<r;p++){if(this._getName(q[p])===o){return}}this.legendOption.data.push(o);this.setColor(o,k);this._selectedMap[o]=true;this._hasDataMap[o]=true},del:function(k){var p=this.legendOption.data;for(var o=0,q=p.length;o<q;o++){if(this._getName(p[o])===k){return this.legendOption.data.splice(o,1)}}},getItemShape:function(p){if(p==null){return}var o;for(var q=0,k=this.shapeList.length;q<k;q++){o=this.shapeList[q];if(o._name===p&&o.type!="text"){return o}}},setItemShape:function(p,r){var o;for(var q=0,k=this.shapeList.length;q<k;q++){o=this.shapeList[q];if(o._name===p&&o.type!="text"){if(!this._selectedMap[p]){r.style.color="#ccc";r.style.strokeColor="#ccc"}this.zr.modShape(o.id,r)}}},isSelected:function(k){if(typeof this._selectedMap[k]!="undefined"){return this._selectedMap[k]}else{return true}},getSelectedMap:function(){return this._selectedMap},setSelected:function(q,p){if(this.legendOption.selectedMode==="single"){for(var o in this._selectedMap){this._selectedMap[o]=false}}this._selectedMap[q]=p;this.messageCenter.dispatch(j.EVENT.LEGEND_SELECTED,null,{selected:this._selectedMap,target:q},this.myChart)},onlegendSelected:function(q,k){var p=q.selected;for(var o in p){if(this._selectedMap[o]!=p[o]){k.needRefresh=true}this._selectedMap[o]=p[o]}return}};var h={line:function(o,p){var k=p.height/2;o.moveTo(p.x,p.y+k);o.lineTo(p.x+p.width,p.y+k)},pie:function(p,r){var o=r.x;var s=r.y;var q=r.width;var k=r.height;g.prototype.buildPath(p,{x:o+q/2,y:s+k+2,r:k,r0:6,startAngle:45,endAngle:135})},eventRiver:function(p,r){var o=r.x;var s=r.y;var q=r.width;var k=r.height;p.moveTo(o,s+k);p.bezierCurveTo(o+q,s+k,o,s+4,o+q,s+4);p.lineTo(o+q,s);p.bezierCurveTo(o,s,o+q,s+k-4,o,s+k-4);p.lineTo(o,s+k)},k:function(p,r){var o=r.x;var s=r.y;var q=r.width;var k=r.height;l.prototype.buildPath(p,{x:o+q/2,y:[s+1,s+1,s+k-6,s+k],width:q-6})},bar:function(p,s){var o=s.x;var u=s.y+1;var q=s.width;var k=s.height-2;var t=3;p.moveTo(o+t,u);p.lineTo(o+q-t,u);p.quadraticCurveTo(o+q,u,o+q,u+t);p.lineTo(o+q,u+k-t);p.quadraticCurveTo(o+q,u+k,o+q-t,u+k);p.lineTo(o+t,u+k);p.quadraticCurveTo(o,u+k,o,u+k-t);p.lineTo(o,u+t);p.quadraticCurveTo(o,u,o+t,u)},force:function(k,o){b.prototype.iconLibrary.circle(k,o)},radar:function(A,o){var q=6;var w=o.x+o.width/2;var v=o.y+o.height/2;var k=o.height/2;var z=2*Math.PI/q;var p=-Math.PI/2;var u=w+k*Math.cos(p);var B=v+k*Math.sin(p);A.moveTo(u,B);p+=z;for(var t=0,s=q-1;t<s;t++){A.lineTo(w+k*Math.cos(p),v+k*Math.sin(p));p+=z}A.lineTo(u,B)}};h.chord=h.pie;h.map=h.bar;for(var f in h){b.prototype.iconLibrary["legendicon"+f]=h[f]}d.inherits(a,i);c("../component").define("legend",a);return a});define("echarts/util/ecData",[],function(){function b(j,h,f,g,l,e,k,i){var m;if(typeof g!="undefined"){m=g.value==null?g:g.value}j._echartsData={_series:h,_seriesIndex:f,_data:g,_dataIndex:l,_name:e,_value:m,_special:k,_special2:i};return j._echartsData}function a(e,f){var g=e._echartsData;if(!f){return g}switch(f){case"series":case"seriesIndex":case"data":case"dataIndex":case"name":case"value":case"special":case"special2":return g&&g["_"+f]}return null}function d(e,f,g){e._echartsData=e._echartsData||{};switch(f){case"series":case"seriesIndex":case"data":case"dataIndex":case"name":case"value":case"special":case"special2":e._echartsData["_"+f]=g;break}}function c(e,f){f._echartsData={_series:e._echartsData._series,_seriesIndex:e._echartsData._seriesIndex,_data:e._echartsData._data,_dataIndex:e._echartsData._dataIndex,_name:e._echartsData._name,_value:e._echartsData._value,_special:e._echartsData._special,_special2:e._echartsData._special2}}return{pack:b,set:d,get:a,clone:c}});define("echarts/chart",[],function(){var a={};var b={};a.define=function(d,c){b[d]=c;return a};a.get=function(c){return b[c]};return a});define("zrender/tool/color",["require","../tool/util"],function(e){var h=e("../tool/util");var s;var R=["#ff9277"," #dddd00"," #ffc877"," #bbe3ff"," #d5ffbb","#bbbbff"," #ddb000"," #b0dd00"," #e2bbff"," #ffbbe3","#ff7777"," #ff9900"," #83dd00"," #77e3ff"," #778fff","#c877ff"," #ff77ab"," #ff6600"," #aa8800"," #77c7ff","#ad77ff"," #ff77ff"," #dd0083"," #777700"," #00aa00","#0088aa"," #8400dd"," #aa0088"," #dd0000"," #772e00"];var m=R;var b="rgba(255,255,0,0.5)";var f=b;var T=/^\s*((#[a-f\d]{6})|(#[a-f\d]{3})|rgba?\(\s*([\d\.]+%?\s*,\s*[\d\.]+%?\s*,\s*[\d\.]+%?(?:\s*,\s*[\d\.]+%?)?)\s*\)|hsba?\(\s*([\d\.]+(?:deg|\xb0|%)?\s*,\s*[\d\.]+%?\s*,\s*[\d\.]+%?(?:\s*,\s*[\d\.]+)?)%?\s*\)|hsla?\(\s*([\d\.]+(?:deg|\xb0|%)?\s*,\s*[\d\.]+%?\s*,\s*[\d\.]+%?(?:\s*,\s*[\d\.]+)?)%?\s*\))\s*$/i;var G={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#0ff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000",blanchedalmond:"#ffebcd",blue:"#00f",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#0ff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgrey:"#a9a9a9",darkgreen:"#006400",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#f0f",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gray:"#808080",grey:"#808080",green:"#008000",greenyellow:"#adff2f",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavender:"#e6e6fa",lavenderblush:"#fff0f5",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgrey:"#d3d3d3",lightgreen:"#90ee90",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#789",lightslategrey:"#789",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#0f0",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#f0f",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370d8",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#d87093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",red:"#f00",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#fff",whitesmoke:"#f5f5f5",yellow:"#ff0",yellowgreen:"#9acd32"};function r(W){R=W}function n(){R=m}function w(W,X){W=W|0;X=X||R;return X[W%X.length]}function q(W){b=W}function p(){f=b}function S(){return b}function J(X,af,Z,W,ae,Y,ac){if(!s){s=h.getContext()}var ad=s.createRadialGradient(X,af,Z,W,ae,Y);for(var ab=0,aa=ac.length;ab<aa;ab++){ad.addColorStop(ac[ab][0],ac[ab][1])}ad.__nonRecursion=true;return ad}function g(aa,ac,X,ab,Z){if(!s){s=h.getContext()}var ad=s.createLinearGradient(aa,ac,X,ab);for(var Y=0,W=Z.length;Y<W;Y++){ad.addColorStop(Z[Y][0],Z[Y][1])}ad.__nonRecursion=true;return ad}function o(Y,ab,aa){Y=I(Y);ab=I(ab);Y=t(Y);ab=t(ab);var X=[];var Z=(ab[0]-Y[0])/aa;var ae=(ab[1]-Y[1])/aa;var ah=(ab[2]-Y[2])/aa;var ai=(ab[3]-Y[3])/aa;for(var ac=0,W=Y[0],ad=Y[1],af=Y[2],ag=Y[3];ac<aa;ac++){X[ac]=Q([U(Math.floor(W),[0,255]),U(Math.floor(ad),[0,255]),U(Math.floor(af),[0,255]),ag.toFixed(4)-0],"rgba");W+=Z;ad+=ae;af+=ah;ag+=ai}W=ab[0];ad=ab[1];af=ab[2];ag=ab[3];X[ac]=Q([W,ad,af,ag],"rgba");return X}function M(X,ab){var Z=[];var W=X.length;if(ab===undefined){ab=20}if(W===1){Z=o(X[0],X[0],ab)}else{if(W>1){for(var aa=0,ac=W-1;aa<ac;aa++){var Y=o(X[aa],X[aa+1],ab);if(aa<ac-1){Y.pop()}Z=Z.concat(Y)}}}return Z}function Q(W,X){X=X||"rgb";if(W&&(W.length===3||W.length===4)){W=A(W,function(Z){return Z>1?Math.ceil(Z):Z});if(X.indexOf("hex")>-1){return"#"+((1<<24)+(W[0]<<16)+(W[1]<<8)+ +W[2]).toString(16).slice(1)}else{if(X.indexOf("hs")>-1){var Y=A(W.slice(1,3),function(Z){return Z+"%"});W[1]=Y[0];W[2]=Y[1]}}if(X.indexOf("a")>-1){if(W.length===3){W.push(1)}W[3]=U(W[3],[0,1]);return X+"("+W.slice(0,4).join(",")+")"}return X+"("+W.slice(0,3).join(",")+")"}}function u(W){W=a(W);if(W.indexOf("rgba")<0){W=I(W)}var Y=[];var X=0;W.replace(/[\d.]+/g,function(Z){if(X<3){Z=Z|0}else{Z=+Z}Y[X++]=Z});return Y}function K(W,Z){if(!l(W)){return W}var X=t(W);var Y=X[3];if(typeof Y==="undefined"){Y=1}if(W.indexOf("hsb")>-1){X=d(X)}else{if(W.indexOf("hsl")>-1){X=c(X)}}if(Z.indexOf("hsb")>-1||Z.indexOf("hsv")>-1){X=C(X)}else{if(Z.indexOf("hsl")>-1){X=z(X)}}X[3]=Y;return Q(X,Z)}function I(W){return K(W,"rgba")}function v(W){return K(W,"rgb")}function k(W){return K(W,"hex")}function F(W){return K(W,"hsva")}function y(W){return K(W,"hsv")}function j(W){return K(W,"hsba")}function H(W){return K(W,"hsb")}function V(W){return K(W,"hsla")}function B(W){return K(W,"hsl")}function D(W){for(var X in G){if(k(G[X])===k(W)){return X}}return null}function a(W){return String(W).replace(/\s+/g,"")}function P(X){if(G[X]){X=G[X]}X=a(X);X=X.replace(/hsv/i,"hsb");if(/^#[\da-f]{3}$/i.test(X)){X=parseInt(X.slice(1),16);var Z=(X&3840)<<8;var Y=(X&240)<<4;var W=X&15;X="#"+((1<<24)+(Z<<4)+Z+(Y<<4)+Y+(W<<4)+W).toString(16).slice(1)}return X}function E(W,aa){if(!l(W)){return W}var Z=aa>0?1:-1;if(typeof aa==="undefined"){aa=0}aa=Math.abs(aa)>1?1:Math.abs(aa);W=v(W);var Y=t(W);for(var X=0;X<3;X++){if(Z===1){Y[X]=Y[X]*(1-aa)|0}else{Y[X]=(255-Y[X])*aa+Y[X]|0}}return"rgb("+Y.join(",")+")"}function L(W){if(!l(W)){return W}var X=t(I(W));X=A(X,function(Y){return 255-Y});return Q(X,"rgb")}function N(ah,ag,ab){if(!l(ah)||!l(ag)){return ah}if(typeof ab==="undefined"){ab=0.5}ab=1-U(ab,[0,1]);var af=ab*2-1;var Y=t(I(ah));var W=t(I(ag));var ad=Y[3]-W[3];var ae=((af*ad===-1?af:(af+ad)/(1+af*ad))+1)/2;var ac=1-ae;var aa=[];for(var Z=0;Z<3;Z++){aa[Z]=Y[Z]*ae+W[Z]*ac}var X=Y[3]*ab+W[3]*(1-ab);X=Math.max(0,Math.min(1,X));if(Y[3]===1&&W[3]===1){return Q(aa,"rgb")}aa[3]=X;return Q(aa,"rgba")}function x(){return"#"+(Math.random().toString(16)+"0000").slice(2,8)}function t(Y){Y=P(Y);var W=Y.match(T);if(W===null){throw new Error("The color format error")}var ab;var ae;var Z=[];var ac;if(W[2]){ab=W[2].replace("#","").split("");ac=[ab[0]+ab[1],ab[2]+ab[3],ab[4]+ab[5]];Z=A(ac,function(ah){return U(parseInt(ah,16),[0,255])})}else{if(W[4]){var X=W[4].split(",");ae=X[3];ac=X.slice(0,3);Z=A(ac,function(ah){ah=Math.floor(ah.indexOf("%")>0?parseInt(ah,0)*2.55:ah);return U(ah,[0,255])});if(typeof ae!=="undefined"){Z.push(U(parseFloat(ae),[0,1]))}}else{if(W[5]||W[6]){var af=(W[5]||W[6]).split(",");var aa=parseInt(af[0],0)/360;var ag=af[1];var ad=af[2];ae=af[3];Z=A([ag,ad],function(ah){return U(parseFloat(ah)/100,[0,1])});Z.unshift(aa);if(typeof ae!=="undefined"){Z.push(U(parseFloat(ae),[0,1]))}}}}return Z}function O(X,W){if(!l(X)){return X}if(W===null){W=1}var Y=t(I(X));Y[3]=U(Number(W).toFixed(4),[0,1]);return Q(Y,"rgba")}function A(Z,X){if(typeof X!=="function"){throw new TypeError()}var W=Z?Z.length:0;for(var Y=0;Y<W;Y++){Z[Y]=X(Z[Y])}return Z}function U(W,X){if(W<=X[0]){W=X[0]}else{if(W>=X[1]){W=X[1]}}return W}function l(W){return W instanceof Array||typeof W==="string"}function d(ab){var aj=ab[0];var Z=ab[1];var Y=ab[2];var ac;var ak;var X;if(Z===0){ac=Y*255;ak=Y*255;X=Y*255}else{var ad=aj*6;if(ad===6){ad=0}var aa=ad|0;var ai=Y*(1-Z);var ah=Y*(1-Z*(ad-aa));var ag=Y*(1-Z*(1-(ad-aa)));var W=0;var ae=0;var af=0;if(aa===0){W=Y;ae=ag;af=ai}else{if(aa===1){W=ah;ae=Y;af=ai}else{if(aa===2){W=ai;ae=Y;af=ag}else{if(aa===3){W=ai;ae=ah;af=Y}else{if(aa===4){W=ag;ae=ai;af=Y}else{W=Y;ae=ai;af=ah}}}}}ac=W*255;ak=ae*255;X=af*255}return[ac,ak,X]}function c(Y){var ad=Y[0];var X=Y[1];var aa=Y[2];var Z;var ae;var W;if(X===0){Z=aa*255;ae=aa*255;W=aa*255}else{var ab;if(aa<0.5){ab=aa*(1+X)}else{ab=aa+X-X*aa}var ac=2*aa-ab;Z=255*i(ac,ab,ad+1/3);ae=255*i(ac,ab,ad);W=255*i(ac,ab,ad-1/3)}return[Z,ae,W]}function i(Y,X,W){if(W<0){W+=1}if(W>1){W-=1}if(6*W<1){return Y+(X-Y)*6*W}if(2*W<1){return X}if(3*W<2){return Y+(X-Y)*(2/3-W)*6}return Y}function C(ab){var ac=ab[0]/255;var ah=ab[1]/255;var X=ab[2]/255;var ae=Math.min(ac,ah,X);var ai=Math.max(ac,ah,X);var ag=ai-ae;var Y=ai;var af;var aa;if(ag===0){af=0;aa=0}else{aa=ag/ai;var ad=((ai-ac)/6+ag/2)/ag;var W=((ai-ah)/6+ag/2)/ag;var Z=((ai-X)/6+ag/2)/ag;if(ac===ai){af=Z-W}else{if(ah===ai){af=1/3+ad-Z}else{if(X===ai){af=2/3+W-ad}}}if(af<0){af+=1}if(af>1){af-=1}}af=af*360;aa=aa*100;Y=Y*100;return[af,aa,Y]}function z(aa){var ab=aa[0]/255;var ah=aa[1]/255;var X=aa[2]/255;var ad=Math.min(ab,ah,X);var ai=Math.max(ab,ah,X);var ag=ai-ad;var ae=(ai+ad)/2;var af;var Z;if(ag===0){af=0;Z=0}else{if(ae<0.5){Z=ag/(ai+ad)}else{Z=ag/(2-ai-ad)}var ac=((ai-ab)/6+ag/2)/ag;var W=((ai-ah)/6+ag/2)/ag;var Y=((ai-X)/6+ag/2)/ag;if(ab===ai){af=Y-W}else{if(ah===ai){af=1/3+ac-Y}else{if(X===ai){af=2/3+W-ac}}}if(af<0){af+=1}if(af>1){af-=1}}af=af*360;Z=Z*100;ae=ae*100;return[af,Z,ae]}return{customPalette:r,resetPalette:n,getColor:w,getHighlightColor:S,customHighlight:q,resetHighlight:p,getRadialGradient:J,getLinearGradient:g,getGradientColors:M,getStepColors:o,reverse:L,mix:N,lift:E,trim:a,random:x,toRGB:v,toRGBA:I,toHex:k,toHSL:B,toHSLA:V,toHSB:H,toHSBA:j,toHSV:y,toHSVA:F,toName:D,toColor:Q,toArray:u,alpha:O,getData:t}});define("echarts/component/timeline",["require","./base","zrender/shape/Rectangle","../util/shape/Icon","../util/shape/Chain","../config","zrender/tool/util","zrender/tool/area","zrender/tool/event","../component"],function(d){var f=d("./base");var j=d("zrender/shape/Rectangle");var c=d("../util/shape/Icon");var a=d("../util/shape/Chain");var h=d("../config");h.timeline={zlevel:0,z:4,show:true,type:"time",notMerge:false,realtime:true,x:80,x2:80,y2:0,height:50,backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",borderWidth:0,padding:5,controlPosition:"left",autoPlay:false,loop:true,playInterval:2000,lineStyle:{width:1,color:"#666",type:"dashed"},label:{show:true,interval:"auto",rotate:0,textStyle:{color:"#333"}},checkpointStyle:{symbol:"auto",symbolSize:"auto",color:"auto",borderColor:"auto",borderWidth:"auto",label:{show:false,textStyle:{color:"auto"}}},controlStyle:{itemSize:15,itemGap:5,normal:{color:"#333"},emphasis:{color:"#1e90ff"}},symbol:"emptyDiamond",symbolSize:4,currentIndex:0};var e=d("zrender/tool/util");var k=d("zrender/tool/area");var i=d("zrender/tool/event");function g(p,l,q,o,n){f.call(this,p,l,q,o,n);var m=this;m._onclick=function(r){return m.__onclick(r)};m._ondrift=function(s,r){return m.__ondrift(this,s,r)};m._ondragend=function(){return m.__ondragend()};m._setCurrentOption=function(){var s=m.timelineOption;m.currentIndex%=s.data.length;var r=m.options[m.currentIndex]||{};m.myChart._setOption(r,s.notMerge,true);m.messageCenter.dispatch(h.EVENT.TIMELINE_CHANGED,null,{currentIndex:m.currentIndex,data:s.data[m.currentIndex].name!=null?s.data[m.currentIndex].name:s.data[m.currentIndex]},m.myChart)};m._onFrame=function(){m._setCurrentOption();m._syncHandleShape();if(m.timelineOption.autoPlay){m.playTicket=setTimeout(function(){m.currentIndex+=1;if(!m.timelineOption.loop&&m.currentIndex>=m.timelineOption.data.length){m.currentIndex=m.timelineOption.data.length-1;m.stop();return}m._onFrame()},m.timelineOption.playInterval)}};this.setTheme(false);this.options=this.option.options;this.currentIndex=this.timelineOption.currentIndex%this.timelineOption.data.length;if(!this.timelineOption.notMerge&&this.currentIndex!==0){this.options[this.currentIndex]=e.merge(this.options[this.currentIndex],this.options[0])}if(this.timelineOption.show){this._buildShape();this._syncHandleShape()}this._setCurrentOption();if(this.timelineOption.autoPlay){var m=this;this.playTicket=setTimeout(function(){m.play()},this.ecTheme.animationDuration!=null?this.ecTheme.animationDuration:h.animationDuration)}}g.prototype={type:h.COMPONENT_TYPE_TIMELINE,_buildShape:function(){this._location=this._getLocation();this._buildBackground();this._buildControl();this._chainPoint=this._getChainPoint();if(this.timelineOption.label.show){var o=this._getInterval();for(var p=0,m=this._chainPoint.length;p<m;p+=o){this._chainPoint[p].showLabel=true}}this._buildChain();this._buildHandle();for(var p=0,n=this.shapeList.length;p<n;p++){this.zr.addShape(this.shapeList[p])}},_getLocation:function(){var q=this.timelineOption;var r=this.reformCssArray(this.timelineOption.padding);var u=this.zr.getWidth();var s=this.parsePercent(q.x,u);var l=this.parsePercent(q.x2,u);var n;if(q.width==null){n=u-s-l;l=u-l}else{n=this.parsePercent(q.width,u);l=s+n}var m=this.zr.getHeight();var t=this.parsePercent(q.height,m);var p;var o;if(q.y!=null){p=this.parsePercent(q.y,m);o=p+t}else{o=m-this.parsePercent(q.y2,m);p=o-t}return{x:s+r[3],y:p+r[0],x2:l-r[1],y2:o-r[2],width:n-r[1]-r[3],height:t-r[0]-r[2]}},_getReformedLabel:function(l){var o=this.timelineOption;var n=o.data[l].name!=null?o.data[l].name:o.data[l];var m=o.data[l].formatter||o.label.formatter;if(m){if(typeof m==="function"){n=m.call(this.myChart,n)}else{if(typeof m==="string"){n=m.replace("{value}",n)}}}return n},_getInterval:function(){var u=this._chainPoint;var v=this.timelineOption;var m=v.label.interval;if(m==="auto"){var x=v.label.textStyle.fontSize;var q=v.data;var l=v.data.length;if(l>3){var n=false;var s;var o;m=0;while(!n&&m<l){m++;n=true;for(var p=m;p<l;p+=m){s=u[p].x-u[p-m].x;if(v.label.rotate!==0){o=x}else{if(q[p].textStyle){o=k.getTextWidth(u[p].name,u[p].textFont)}else{var w=u[p].name+"";var r=(w.match(/\w/g)||"").length;var t=w.length-r;o=r*x*2/3+t*x}}if(s<o){n=false;break}}}}else{m=1}}else{m=m-0+1}return m},_getChainPoint:function(){var w=this.timelineOption;var D=w.symbol.toLowerCase();var I=w.symbolSize;var F=w.label.rotate;var p=w.label.textStyle;var v=this.getFont(p);var o;var J=w.data;var t=this._location.x;var r=this._location.y+this._location.height/4*3;var A=this._location.x2-this._location.x;var G=J.length;function s(n){return J[n].name!=null?J[n].name:J[n]+""}var l=[];if(G>1){var B=A/G;B=B>50?50:B<20?5:B;A-=B*2;if(w.type==="number"){for(var E=0;E<G;E++){l.push(t+B+A/(G-1)*E)}}else{l[0]=new Date(s(0).replace(/-/g,"/"));l[G-1]=new Date(s(G-1).replace(/-/g,"/"))-l[0];for(var E=1;E<G;E++){l[E]=t+B+A*(new Date(s(E).replace(/-/g,"/"))-l[0])/l[G-1]}l[0]=t+B}}else{l.push(t+A/2)}var H=[];var q;var z;var u;var m;var C;for(var E=0;E<G;E++){t=l[E];q=J[E].symbol&&J[E].symbol.toLowerCase()||D;if(q.match("empty")){q=q.replace("empty","");u=true}else{u=false}if(q.match("star")){z=q.replace("star","")-0||5;q="star"}o=J[E].textStyle?e.merge(J[E].textStyle||{},p):p;m=o.align||"center";if(F){m=F>0?"right":"left";C=[F*Math.PI/180,t,r-5]}else{C=false}H.push({x:t,n:z,isEmpty:u,symbol:q,symbolSize:J[E].symbolSize||I,color:J[E].color,borderColor:J[E].borderColor,borderWidth:J[E].borderWidth,name:this._getReformedLabel(E),textColor:o.color,textAlign:m,textBaseline:o.baseline||"middle",textX:t,textY:r-(F?5:0),textFont:J[E].textStyle?this.getFont(o):v,rotation:C,showLabel:false})}return H},_buildBackground:function(){var n=this.timelineOption;var o=this.reformCssArray(this.timelineOption.padding);var m=this._location.width;var l=this._location.height;if(n.borderWidth!==0||n.backgroundColor.replace(/\s/g,"")!="rgba(0,0,0,0)"){this.shapeList.push(new j({zlevel:this.getZlevelBase(),z:this.getZBase(),hoverable:false,style:{x:this._location.x-o[3],y:this._location.y-o[0],width:m+o[1]+o[3],height:l+o[0]+o[2],brushType:n.borderWidth===0?"fill":"both",color:n.backgroundColor,strokeColor:n.borderColor,lineWidth:n.borderWidth}}))}},_buildControl:function(){var t=this;var p=this.timelineOption;var l=p.lineStyle;var r=p.controlStyle;if(p.controlPosition==="none"){return}var n=r.itemSize;var q=r.itemGap;var s;if(p.controlPosition==="left"){s=this._location.x;this._location.x+=(n+q)*3}else{s=this._location.x2-((n+q)*3-q);this._location.x2-=(n+q)*3}var o=this._location.y;var m={zlevel:this.getZlevelBase(),z:this.getZBase()+1,style:{iconType:"timelineControl",symbol:"last",x:s,y:o,width:n,height:n,brushType:"stroke",color:r.normal.color,strokeColor:r.normal.color,lineWidth:l.width},highlightStyle:{color:r.emphasis.color,strokeColor:r.emphasis.color,lineWidth:l.width+1},clickable:true};this._ctrLastShape=new c(m);this._ctrLastShape.onclick=function(){t.last()};this.shapeList.push(this._ctrLastShape);s+=n+q;this._ctrPlayShape=new c(e.clone(m));this._ctrPlayShape.style.brushType="fill";this._ctrPlayShape.style.symbol="play";this._ctrPlayShape.style.status=this.timelineOption.autoPlay?"playing":"stop";this._ctrPlayShape.style.x=s;this._ctrPlayShape.onclick=function(){if(t._ctrPlayShape.style.status==="stop"){t.play()}else{t.stop()}};this.shapeList.push(this._ctrPlayShape);s+=n+q;this._ctrNextShape=new c(e.clone(m));this._ctrNextShape.style.symbol="next";this._ctrNextShape.style.x=s;this._ctrNextShape.onclick=function(){t.next()};this.shapeList.push(this._ctrNextShape)},_buildChain:function(){var m=this.timelineOption;var l=m.lineStyle;this._timelineShae={zlevel:this.getZlevelBase(),z:this.getZBase(),style:{x:this._location.x,y:this.subPixelOptimize(this._location.y,l.width),width:this._location.x2-this._location.x,height:this._location.height,chainPoint:this._chainPoint,brushType:"both",strokeColor:l.color,lineWidth:l.width,lineType:l.type},hoverable:false,clickable:true,onclick:this._onclick};this._timelineShae=new a(this._timelineShae);this.shapeList.push(this._timelineShae)},_buildHandle:function(){var l=this._chainPoint[this.currentIndex];var m=l.symbolSize+1;m=m<5?5:m;this._handleShape={zlevel:this.getZlevelBase(),z:this.getZBase()+1,hoverable:false,draggable:true,style:{iconType:"diamond",n:l.n,x:l.x-m,y:this._location.y+this._location.height/4-m,width:m*2,height:m*2,brushType:"both",textPosition:"specific",textX:l.x,textY:this._location.y-this._location.height/4,textAlign:"center",textBaseline:"middle"},highlightStyle:{},ondrift:this._ondrift,ondragend:this._ondragend};this._handleShape=new c(this._handleShape);this.shapeList.push(this._handleShape)},_syncHandleShape:function(){if(!this.timelineOption.show){return}var o=this.timelineOption;var m=o.checkpointStyle;var l=this._chainPoint[this.currentIndex];this._handleShape.style.text=m.label.show?l.name:"";this._handleShape.style.textFont=l.textFont;this._handleShape.style.n=l.n;if(m.symbol==="auto"){this._handleShape.style.iconType=l.symbol!="none"?l.symbol:"diamond"}else{this._handleShape.style.iconType=m.symbol;if(m.symbol.match("star")){this._handleShape.style.n=m.symbol.replace("star","")-0||5;this._handleShape.style.iconType="star"}}var n;if(m.symbolSize==="auto"){n=l.symbolSize+2;n=n<5?5:n}else{n=m.symbolSize-0}this._handleShape.style.color=m.color==="auto"?l.color?l.color:o.controlStyle.emphasis.color:m.color;this._handleShape.style.textColor=m.label.textStyle.color==="auto"?this._handleShape.style.color:m.label.textStyle.color;this._handleShape.highlightStyle.strokeColor=this._handleShape.style.strokeColor=m.borderColor==="auto"?l.borderColor?l.borderColor:"#fff":m.borderColor;this._handleShape.style.lineWidth=m.borderWidth==="auto"?l.borderWidth?l.borderWidth:0:m.borderWidth-0;this._handleShape.highlightStyle.lineWidth=this._handleShape.style.lineWidth+1;this.zr.animate(this._handleShape.id,"style").when(500,{x:l.x-n,textX:l.x,y:this._location.y+this._location.height/4-n,width:n*2,height:n*2}).start("ExponentialOut")},_findChainIndex:function(m){var o=this._chainPoint;var l=o.length;if(m<=o[0].x){return 0}else{if(m>=o[l-1].x){return l-1}}for(var n=0;n<l-1;n++){if(m>=o[n].x&&m<=o[n+1].x){return Math.abs(m-o[n].x)<Math.abs(m-o[n+1].x)?n:n+1}}},__onclick:function(n){var l=i.getX(n.event);var m=this._findChainIndex(l);if(m===this.currentIndex){return true}this.currentIndex=m;this.timelineOption.autoPlay&&this.stop();clearTimeout(this.playTicket);this._onFrame()},__ondrift:function(p,o){this.timelineOption.autoPlay&&this.stop();var r=this._chainPoint;var l=r.length;var q;if(p.style.x+o<=r[0].x-r[0].symbolSize){p.style.x=r[0].x-r[0].symbolSize;q=0}else{if(p.style.x+o>=r[l-1].x-r[l-1].symbolSize){p.style.x=r[l-1].x-r[l-1].symbolSize;q=l-1}else{p.style.x+=o;q=this._findChainIndex(p.style.x)}}var m=r[q];var s=m.symbolSize+2;p.style.iconType=m.symbol;p.style.n=m.n;p.style.textX=p.style.x+s/2;p.style.y=this._location.y+this._location.height/4-s;p.style.width=s*2;p.style.height=s*2;p.style.text=m.name;if(q===this.currentIndex){return true}this.currentIndex=q;if(this.timelineOption.realtime){clearTimeout(this.playTicket);var n=this;this.playTicket=setTimeout(function(){n._setCurrentOption()},200)}return true},__ondragend:function(){this.isDragend=true},ondragend:function(m,l){if(!this.isDragend||!m.target){return}!this.timelineOption.realtime&&this._setCurrentOption();l.dragOut=true;l.dragIn=true;l.needRefresh=false;this.isDragend=false;this._syncHandleShape();return},last:function(){this.timelineOption.autoPlay&&this.stop();this.currentIndex-=1;if(this.currentIndex<0){this.currentIndex=this.timelineOption.data.length-1}this._onFrame();return this.currentIndex},next:function(){this.timelineOption.autoPlay&&this.stop();this.currentIndex+=1;if(this.currentIndex>=this.timelineOption.data.length){this.currentIndex=0}this._onFrame();return this.currentIndex},play:function(l,m){if(this._ctrPlayShape&&this._ctrPlayShape.style.status!="playing"){this._ctrPlayShape.style.status="playing";this.zr.modShape(this._ctrPlayShape.id);this.zr.refreshNextFrame()}this.timelineOption.autoPlay=m!=null?m:true;if(!this.timelineOption.autoPlay){clearTimeout(this.playTicket)}this.currentIndex=l!=null?l:this.currentIndex+1;if(this.currentIndex>=this.timelineOption.data.length){this.currentIndex=0}this._onFrame();return this.currentIndex},stop:function(){if(this._ctrPlayShape&&this._ctrPlayShape.style.status!="stop"){this._ctrPlayShape.style.status="stop";this.zr.modShape(this._ctrPlayShape.id);this.zr.refreshNextFrame()}this.timelineOption.autoPlay=false;clearTimeout(this.playTicket);return this.currentIndex},resize:function(){if(this.timelineOption.show){this.clear();this._buildShape();this._syncHandleShape()}},setTheme:function(l){this.timelineOption=this.reformOption(e.clone(this.option.timeline));this.timelineOption.label.textStyle=this.getTextStyle(this.timelineOption.label.textStyle);this.timelineOption.checkpointStyle.label.textStyle=this.getTextStyle(this.timelineOption.checkpointStyle.label.textStyle);if(!this.myChart.canvasSupported){this.timelineOption.realtime=false}if(this.timelineOption.show&&l){this.clear();this._buildShape();this._syncHandleShape()}},onbeforDispose:function(){clearTimeout(this.playTicket)}};function b(u,l){var p=2;var r=l.x+p;var q=l.y+p+2;var m=l.width-p;var t=l.height-p;var o=l.symbol;if(o==="last"){u.moveTo(r+m-2,q+t/3);u.lineTo(r+m-2,q);u.lineTo(r+2,q+t/2);u.lineTo(r+m-2,q+t);u.lineTo(r+m-2,q+t/3*2);u.moveTo(r,q);u.lineTo(r,q)}else{if(o==="next"){u.moveTo(r+2,q+t/3);u.lineTo(r+2,q);u.lineTo(r+m-2,q+t/2);u.lineTo(r+2,q+t);u.lineTo(r+2,q+t/3*2);u.moveTo(r,q);u.lineTo(r,q)}else{if(o==="play"){if(l.status==="stop"){u.moveTo(r+2,q);u.lineTo(r+m-2,q+t/2);u.lineTo(r+2,q+t);u.lineTo(r+2,q)}else{var s=l.brushType==="both"?2:3;u.rect(r+2,q,s,t);u.rect(r+m-s-2,q,s,t)}}else{if(o.match("image")){var n="";n=o.replace(new RegExp("^image:\\/\\/"),"");o=c.prototype.iconLibrary.image;o(u,{x:r,y:q,width:m,height:t,image:n})}}}}}c.prototype.iconLibrary.timelineControl=b;e.inherits(g,f);d("../component").define("timeline",g);return g});define("zrender/shape/Image",["require","./Base","../tool/util"],function(b){var c=b("./Base");var a=function(d){c.call(this,d)};a.prototype={type:"image",brush:function(r,i,j){var e=this.style||{};if(i){e=this.getHighlightStyle(e,this.highlightStyle||{})}var h=e.image;var q=this;if(!this._imageCache){this._imageCache={}}if(typeof h==="string"){var d=h;if(this._imageCache[d]){h=this._imageCache[d]}else{h=new Image();h.onload=function(){h.onload=null;q.modSelf();j()};h.src=d;this._imageCache[d]=h}}if(h){if(h.nodeName.toUpperCase()=="IMG"){if(window.ActiveXObject){if(h.readyState!="complete"){return}}else{if(!h.complete){return}}}var f=e.width||h.width;var p=e.height||h.height;var o=e.x;var m=e.y;if(!h.width||!h.height){return}r.save();this.doClip(r);this.setContext(r,e);this.setTransform(r);if(e.sWidth&&e.sHeight){var n=e.sx||0;var l=e.sy||0;r.drawImage(h,n,l,e.sWidth,e.sHeight,o,m,f,p)}else{if(e.sx&&e.sy){var n=e.sx;var l=e.sy;var g=f-n;var k=p-l;r.drawImage(h,n,l,g,k,o,m,f,p)}else{r.drawImage(h,o,m,f,p)}}if(!e.width){e.width=f}if(!e.height){e.height=p}if(!this.style.width){this.style.width=f}if(!this.style.height){this.style.height=p}this.drawText(r,e,this.style);r.restore()}},getRect:function(d){return{x:d.x,y:d.y,width:d.width,height:d.height}},clearCache:function(){this._imageCache={}}};b("../tool/util").inherits(a,c);return a});define("zrender/loadingEffect/Bar",["require","./Base","../tool/util","../tool/color","../shape/Rectangle"],function(c){var d=c("./Base");var a=c("../tool/util");var f=c("../tool/color");var e=c("../shape/Rectangle");function b(g){d.call(this,g)}a.inherits(b,d);b.prototype._start=function(l,m){var h=a.merge(this.options,{textStyle:{color:"#888"},backgroundColor:"rgba(250, 250, 250, 0.8)",effectOption:{x:0,y:this.canvasHeight/2-30,width:this.canvasWidth,height:5,brushType:"fill",timeInterval:100}});var j=this.createTextShape(h.textStyle);var i=this.createBackgroundShape(h.backgroundColor);var k=h.effectOption;var g=new e({highlightStyle:a.clone(k)});g.highlightStyle.color=k.color||f.getLinearGradient(k.x,k.y,k.x+k.width,k.y+k.height,[[0,"#ff6400"],[0.5,"#ffe100"],[1,"#b1ff00"]]);if(h.progress!=null){l(i);g.highlightStyle.width=this.adjust(h.progress,[0,1])*h.effectOption.width;l(g);l(j);m();return}else{g.highlightStyle.width=0;return setInterval(function(){l(i);if(g.highlightStyle.width<k.width){g.highlightStyle.width+=8}else{g.highlightStyle.width=0}l(g);l(j);m()},k.timeInterval)}};return b});define("zrender/loadingEffect/Bubble",["require","./Base","../tool/util","../tool/color","../shape/Circle"],function(c){var d=c("./Base");var b=c("../tool/util");var f=c("../tool/color");var a=c("../shape/Circle");function e(g){d.call(this,g)}b.inherits(e,d);e.prototype._start=function(h,p){var v=b.merge(this.options,{textStyle:{color:"#888"},backgroundColor:"rgba(250, 250, 250, 0.8)",effect:{n:50,lineWidth:2,brushType:"stroke",color:"random",timeInterval:100}});var k=this.createTextShape(v.textStyle);var j=this.createBackgroundShape(v.backgroundColor);var g=v.effect;var l=g.n;var u=g.brushType;var t=g.lineWidth;var o=[];var m=this.canvasWidth;var s=this.canvasHeight;for(var r=0;r<l;r++){var q=g.color=="random"?f.alpha(f.random(),0.3):g.color;o[r]=new a({highlightStyle:{x:Math.ceil(Math.random()*m),y:Math.ceil(Math.random()*s),r:Math.ceil(Math.random()*40),brushType:u,color:q,strokeColor:q,lineWidth:t},animationY:Math.ceil(Math.random()*20)})}return setInterval(function(){h(j);for(var n=0;n<l;n++){var w=o[n].highlightStyle;if(w.y-o[n].animationY+w.r<=0){o[n].highlightStyle.y=s+w.r;o[n].highlightStyle.x=Math.ceil(Math.random()*m)}o[n].highlightStyle.y-=o[n].animationY;h(o[n])}h(k);p()},g.timeInterval)};return e});define("zrender/loadingEffect/DynamicLine",["require","./Base","../tool/util","../tool/color","../shape/Line"],function(b){var c=b("./Base");var a=b("../tool/util");var f=b("../tool/color");var d=b("../shape/Line");function e(g){c.call(this,g)}a.inherits(e,c);e.prototype._start=function(h,p){var x=a.merge(this.options,{textStyle:{color:"#fff"},backgroundColor:"rgba(0, 0, 0, 0.8)",effectOption:{n:30,lineWidth:1,color:"random",timeInterval:100}});var k=this.createTextShape(x.textStyle);var j=this.createBackgroundShape(x.backgroundColor);var g=x.effectOption;var l=g.n;var t=g.lineWidth;var o=[];var m=this.canvasWidth;var s=this.canvasHeight;for(var r=0;r<l;r++){var v=-Math.ceil(Math.random()*1000);var u=Math.ceil(Math.random()*400);var w=Math.ceil(Math.random()*s);var q=g.color=="random"?f.random():g.color;o[r]=new d({highlightStyle:{xStart:v,yStart:w,xEnd:v+u,yEnd:w,strokeColor:q,lineWidth:t},animationX:Math.ceil(Math.random()*100),len:u})}return setInterval(function(){h(j);for(var n=0;n<l;n++){var y=o[n].highlightStyle;if(y.xStart>=m){o[n].len=Math.ceil(Math.random()*400);y.xStart=-400;y.xEnd=-400+o[n].len;y.yStart=Math.ceil(Math.random()*s);y.yEnd=y.yStart}y.xStart+=o[n].animationX;y.xEnd+=o[n].animationX;h(o[n])}h(k);p()},g.timeInterval)};return e});define("zrender/loadingEffect/Ring",["require","./Base","../tool/util","../tool/color","../shape/Ring","../shape/Sector"],function(d){var e=d("./Base");var b=d("../tool/util");var g=d("../tool/color");var c=d("../shape/Ring");var f=d("../shape/Sector");function a(h){e.call(this,h)}b.inherits(a,e);a.prototype._start=function(k,q){var j=b.merge(this.options,{textStyle:{color:"#07a"},backgroundColor:"rgba(250, 250, 250, 0.8)",effect:{x:this.canvasWidth/2,y:this.canvasHeight/2,r0:60,r:100,color:"#bbdcff",brushType:"fill",textPosition:"inside",textFont:"normal 30px verdana",textColor:"rgba(30, 144, 255, 0.6)",timeInterval:100}});var l=j.effect;var m=j.textStyle;if(m.x==null){m.x=l.x}if(m.y==null){m.y=l.y+(l.r0+l.r)/2-5}var t=this.createTextShape(j.textStyle);var E=this.createBackgroundShape(j.backgroundColor);var p=l.x;var o=l.y;var D=l.r0+6;var u=l.r-6;var A=l.color;var B=g.lift(A,0.1);var h=new c({highlightStyle:b.clone(l)});var v=[];var s=g.getGradientColors(["#ff6400","#ffe100","#97ff00"],25);var F=15;var z=240;for(var C=0;C<16;C++){v.push(new f({highlightStyle:{x:p,y:o,r0:D,r:u,startAngle:z-F,endAngle:z,brushType:"fill",color:B},_color:g.getLinearGradient(p+D*Math.cos(z,true),o-D*Math.sin(z,true),p+D*Math.cos(z-F,true),o-D*Math.sin(z-F,true),[[0,s[C*2]],[1,s[C*2+1]]])}));z-=F}z=360;for(var C=0;C<4;C++){v.push(new f({highlightStyle:{x:p,y:o,r0:D,r:u,startAngle:z-F,endAngle:z,brushType:"fill",color:B},_color:g.getLinearGradient(p+D*Math.cos(z,true),o-D*Math.sin(z,true),p+D*Math.cos(z-F,true),o-D*Math.sin(z-F,true),[[0,s[C*2+32]],[1,s[C*2+33]]])}));z-=F}var w=0;if(j.progress!=null){k(E);w=this.adjust(j.progress,[0,1]).toFixed(2)*100/5;h.highlightStyle.text=w*5+"%";k(h);for(var C=0;C<20;C++){v[C].highlightStyle.color=C<w?v[C]._color:B;k(v[C])}k(t);q();return}return setInterval(function(){k(E);w+=w>=20?-20:1;k(h);for(var n=0;n<20;n++){v[n].highlightStyle.color=n<w?v[n]._color:B;k(v[n])}k(t);q()},l.timeInterval)};return a});define("zrender/loadingEffect/Spin",["require","./Base","../tool/util","../tool/color","../tool/area","../shape/Sector"],function(b){var c=b("./Base");var a=b("../tool/util");var g=b("../tool/color");var e=b("../tool/area");var d=b("../shape/Sector");function f(h){c.call(this,h)}a.inherits(f,c);f.prototype._start=function(o,u){var m=a.merge(this.options,{textStyle:{color:"#fff",textAlign:"start"},backgroundColor:"rgba(0, 0, 0, 0.8)"});var v=this.createTextShape(m.textStyle);var k=10;var l=e.getTextWidth(v.highlightStyle.text,v.highlightStyle.textFont);var h=e.getTextHeight(v.highlightStyle.text,v.highlightStyle.textFont);var p=a.merge(this.options.effect||{},{r0:9,r:15,n:18,color:"#fff",timeInterval:100});var j=this.getLocation(this.options.textStyle,l+k+p.r*2,Math.max(p.r*2,h));p.x=j.x+p.r;p.y=v.highlightStyle.y=j.y+j.height/2;v.highlightStyle.x=p.x+p.r+k;var E=this.createBackgroundShape(m.backgroundColor);var A=p.n;var t=p.x;var s=p.y;var D=p.r0;var w=p.r;var B=p.color;var z=[];var F=Math.round(180/A);for(var C=0;C<A;C++){z[C]=new d({highlightStyle:{x:t,y:s,r0:D,r:w,startAngle:F*C*2,endAngle:F*C*2+F,color:g.alpha(B,(C+1)/A),brushType:"fill"}})}var q=[0,t,s];return setInterval(function(){o(E);q[0]-=0.3;for(var n=0;n<A;n++){z[n].rotation=q;o(z[n])}o(v);u()},p.timeInterval)};return f});define("zrender/loadingEffect/Whirling",["require","./Base","../tool/util","../tool/area","../shape/Ring","../shape/Droplet","../shape/Circle"],function(d){var e=d("./Base");var b=d("../tool/util");var g=d("../tool/area");var c=d("../shape/Ring");var h=d("../shape/Droplet");var a=d("../shape/Circle");function f(i){e.call(this,i)}b.inherits(f,e);f.prototype._start=function(k,o){var v=b.merge(this.options,{textStyle:{color:"#888",textAlign:"start"},backgroundColor:"rgba(250, 250, 250, 0.8)"});var m=this.createTextShape(v.textStyle);var l=10;var q=g.getTextWidth(m.highlightStyle.text,m.highlightStyle.textFont);var s=g.getTextHeight(m.highlightStyle.text,m.highlightStyle.textFont);var i=b.merge(this.options.effect||{},{r:18,colorIn:"#fff",colorOut:"#555",colorWhirl:"#6cf",timeInterval:50});var t=this.getLocation(this.options.textStyle,q+l+i.r*2,Math.max(i.r*2,s));i.x=t.x+i.r;i.y=m.highlightStyle.y=t.y+t.height/2;m.highlightStyle.x=i.x+i.r+l;var j=this.createBackgroundShape(v.backgroundColor);var p=new h({highlightStyle:{a:Math.round(i.r/2),b:Math.round(i.r-i.r/6),brushType:"fill",color:i.colorWhirl}});var n=new a({highlightStyle:{r:Math.round(i.r/6),brushType:"fill",color:i.colorIn}});var u=new c({highlightStyle:{r0:Math.round(i.r-i.r/3),r:i.r,brushType:"fill",color:i.colorOut}});var r=[0,i.x,i.y];p.highlightStyle.x=n.highlightStyle.x=u.highlightStyle.x=r[1];p.highlightStyle.y=n.highlightStyle.y=u.highlightStyle.y=r[2];return setInterval(function(){k(j);k(u);r[0]-=0.3;p.rotation=r;k(p);k(n);k(m);o()},i.timeInterval)};return f});define("echarts/theme/macarons",[],function(){var a={color:["#2ec7c9","#b6a2de","#5ab1ef","#ffb980","#d87a80","#8d98b3","#e5cf0d","#97b552","#95706d","#dc69aa","#07a2a4","#9a7fd1","#588dd5","#f5994e","#c05050","#59678c","#c9ab00","#7eb00a","#6f5553","#c14089"],title:{textStyle:{fontWeight:"normal",color:"#008acd"}},dataRange:{itemWidth:15,color:["#5ab1ef","#e0ffff"]},toolbox:{color:["#1e90ff","#1e90ff","#1e90ff","#1e90ff"],effectiveColor:"#ff4500"},tooltip:{backgroundColor:"rgba(50,50,50,0.5)",axisPointer:{type:"line",lineStyle:{color:"#008acd"},crossStyle:{color:"#008acd"},shadowStyle:{color:"rgba(200,200,200,0.2)"}}},dataZoom:{dataBackgroundColor:"#efefff",fillerColor:"rgba(182,162,222,0.2)",handleColor:"#008acd"},grid:{borderColor:"#eee"},categoryAxis:{axisLine:{lineStyle:{color:"#008acd"}},splitLine:{lineStyle:{color:["#eee"]}}},valueAxis:{axisLine:{lineStyle:{color:"#008acd"}},splitArea:{show:true,areaStyle:{color:["rgba(250,250,250,0.1)","rgba(200,200,200,0.1)"]}},splitLine:{lineStyle:{color:["#eee"]}}},polar:{axisLine:{lineStyle:{color:"#ddd"}},splitArea:{show:true,areaStyle:{color:["rgba(250,250,250,0.2)","rgba(200,200,200,0.2)"]}},splitLine:{lineStyle:{color:"#ddd"}}},timeline:{lineStyle:{color:"#008acd"},controlStyle:{normal:{color:"#008acd"},emphasis:{color:"#008acd"}},symbol:"emptyCircle",symbolSize:3},bar:{itemStyle:{normal:{barBorderRadius:5},emphasis:{barBorderRadius:5}}},line:{smooth:true,symbol:"emptyCircle",symbolSize:3},k:{itemStyle:{normal:{color:"#d87a80",color0:"#2ec7c9",lineStyle:{color:"#d87a80",color0:"#2ec7c9"}}}},scatter:{symbol:"circle",symbolSize:4},radar:{symbol:"emptyCircle",symbolSize:3},map:{itemStyle:{normal:{areaStyle:{color:"#ddd"},label:{textStyle:{color:"#d87a80"}}},emphasis:{areaStyle:{color:"#fe994e"}}}},force:{itemStyle:{normal:{linkStyle:{color:"#1e90ff"}}}},chord:{itemStyle:{normal:{borderWidth:1,borderColor:"rgba(128, 128, 128, 0.5)",chordStyle:{lineStyle:{color:"rgba(128, 128, 128, 0.5)"}}},emphasis:{borderWidth:1,borderColor:"rgba(128, 128, 128, 0.5)",chordStyle:{lineStyle:{color:"rgba(128, 128, 128, 0.5)"}}}}},gauge:{axisLine:{lineStyle:{color:[[0.2,"#2ec7c9"],[0.8,"#5ab1ef"],[1,"#d87a80"]],width:10}},axisTick:{splitNumber:10,length:15,lineStyle:{color:"auto"}},splitLine:{length:22,lineStyle:{color:"auto"}},pointer:{width:5}},textStyle:{fontFamily:"微软雅黑, Arial, Verdana, sans-serif"}};return a});define("echarts/theme/infographic",[],function(){var a={color:["#C1232B","#B5C334","#FCCE10","#E87C25","#27727B","#FE8463","#9BCA63","#FAD860","#F3A43B","#60C0DD","#D7504B","#C6E579","#F4E001","#F0805A","#26C0C0"],title:{textStyle:{fontWeight:"normal",color:"#27727B"}},dataRange:{x:"right",y:"center",itemWidth:5,itemHeight:25,color:["#C1232B","#FCCE10"]},toolbox:{color:["#C1232B","#B5C334","#FCCE10","#E87C25","#27727B","#FE8463","#9BCA63","#FAD860","#F3A43B","#60C0DD"],effectiveColor:"#ff4500"},tooltip:{backgroundColor:"rgba(50,50,50,0.5)",axisPointer:{type:"line",lineStyle:{color:"#27727B",type:"dashed"},crossStyle:{color:"#27727B"},shadowStyle:{color:"rgba(200,200,200,0.3)"}}},dataZoom:{dataBackgroundColor:"rgba(181,195,52,0.3)",fillerColor:"rgba(181,195,52,0.2)",handleColor:"#27727B"},grid:{borderWidth:0},categoryAxis:{axisLine:{lineStyle:{color:"#27727B"}},splitLine:{show:false}},valueAxis:{axisLine:{show:false},splitArea:{show:false},splitLine:{lineStyle:{color:["#ccc"],type:"dashed"}}},polar:{axisLine:{lineStyle:{color:"#ddd"}},splitArea:{show:true,areaStyle:{color:["rgba(250,250,250,0.2)","rgba(200,200,200,0.2)"]}},splitLine:{lineStyle:{color:"#ddd"}}},timeline:{lineStyle:{color:"#27727B"},controlStyle:{normal:{color:"#27727B"},emphasis:{color:"#27727B"}},symbol:"emptyCircle",symbolSize:3},line:{itemStyle:{normal:{borderWidth:2,borderColor:"#fff",lineStyle:{width:3}},emphasis:{borderWidth:0}},symbol:"circle",symbolSize:3.5},k:{itemStyle:{normal:{color:"#C1232B",color0:"#B5C334",lineStyle:{width:1,color:"#C1232B",color0:"#B5C334"}}}},scatter:{itemStyle:{normal:{borderWidth:1,borderColor:"rgba(200,200,200,0.5)"},emphasis:{borderWidth:0}},symbol:"star4",symbolSize:4},radar:{symbol:"emptyCircle",symbolSize:3},map:{itemStyle:{normal:{areaStyle:{color:"#ddd"},label:{textStyle:{color:"#C1232B"}}},emphasis:{areaStyle:{color:"#fe994e"},label:{textStyle:{color:"rgb(100,0,0)"}}}}},force:{itemStyle:{normal:{linkStyle:{color:"#27727B"}}}},chord:{itemStyle:{normal:{borderWidth:1,borderColor:"rgba(128, 128, 128, 0.5)",chordStyle:{lineStyle:{color:"rgba(128, 128, 128, 0.5)"}}},emphasis:{borderWidth:1,borderColor:"rgba(128, 128, 128, 0.5)",chordStyle:{lineStyle:{color:"rgba(128, 128, 128, 0.5)"}}}}},gauge:{center:["50%","80%"],radius:"100%",startAngle:180,endAngle:0,axisLine:{show:true,lineStyle:{color:[[0.2,"#B5C334"],[0.8,"#27727B"],[1,"#C1232B"]],width:"40%"}},axisTick:{splitNumber:2,length:5,lineStyle:{color:"#fff"}},axisLabel:{textStyle:{color:"#fff",fontWeight:"bolder"}},splitLine:{length:"5%",lineStyle:{color:"#fff"}},pointer:{width:"40%",length:"80%",color:"#fff"},title:{offsetCenter:[0,-20],textStyle:{color:"auto",fontSize:20}},detail:{offsetCenter:[0,0],textStyle:{color:"auto",fontSize:40}}},textStyle:{fontFamily:"微软雅黑, Arial, Verdana, sans-serif"}};return a});define("zrender/dep/excanvas",["require"],function(a){if(!document.createElement("canvas").getContext){(function(){var ac=Math;var o=ac.round;var n=ac.sin;var B=ac.cos;var I=ac.abs;var O=ac.sqrt;var e=10;var g=e/2;var A=+navigator.userAgent.match(/MSIE ([\d.]+)?/)[1];function z(){return this.context_||(this.context_=new E(this))}var u=Array.prototype.slice;function h(j,m,p){var i=u.call(arguments,2);return function(){return j.apply(m,i.concat(u.call(arguments)))}}function ag(i){return String(i).replace(/&/g,"&amp;").replace(/"/g,"&quot;")}function aa(m,j,i){if(!m.namespaces[j]){m.namespaces.add(j,i,"#default#VML")}}function S(j){aa(j,"g_vml_","urn:schemas-microsoft-com:vml");aa(j,"g_o_","urn:schemas-microsoft-com:office:office");if(!j.styleSheets.ex_canvas_){var i=j.createStyleSheet();i.owningElement.id="ex_canvas_";i.cssText="canvas{display:inline-block;overflow:hidden;text-align:left;width:300px;height:150px}"}}S(document);var f={init:function(i){var j=i||document;j.createElement("canvas");j.attachEvent("onreadystatechange",h(this.init_,this,j))},init_:function(p){var m=p.getElementsByTagName("canvas");for(var j=0;j<m.length;j++){this.initElement(m[j])}},initElement:function(j){if(!j.getContext){j.getContext=z;S(j.ownerDocument);j.innerHTML="";j.attachEvent("onpropertychange",y);j.attachEvent("onresize",X);var i=j.attributes;if(i.width&&i.width.specified){j.style.width=i.width.nodeValue+"px"}else{j.width=j.clientWidth}if(i.height&&i.height.specified){j.style.height=i.height.nodeValue+"px"}else{j.height=j.clientHeight}}return j}};function y(j){var i=j.srcElement;switch(j.propertyName){case"width":i.getContext().clearRect();i.style.width=i.attributes.width.nodeValue+"px";i.firstChild.style.width=i.clientWidth+"px";break;case"height":i.getContext().clearRect();i.style.height=i.attributes.height.nodeValue+"px";i.firstChild.style.height=i.clientHeight+"px";break}}function X(j){var i=j.srcElement;if(i.firstChild){i.firstChild.style.width=i.clientWidth+"px";i.firstChild.style.height=i.clientHeight+"px"}}f.init();var l=[];for(var af=0;af<16;af++){for(var ae=0;ae<16;ae++){l[af*16+ae]=af.toString(16)+ae.toString(16)}}function C(){return[[1,0,0],[0,1,0],[0,0,1]]}function K(p,m){var j=C();for(var i=0;i<3;i++){for(var ai=0;ai<3;ai++){var Z=0;for(var ah=0;ah<3;ah++){Z+=p[i][ah]*m[ah][ai]}j[i][ai]=Z}}return j}function w(j,i){i.fillStyle=j.fillStyle;i.lineCap=j.lineCap;i.lineJoin=j.lineJoin;i.lineWidth=j.lineWidth;i.miterLimit=j.miterLimit;i.shadowBlur=j.shadowBlur;i.shadowColor=j.shadowColor;i.shadowOffsetX=j.shadowOffsetX;i.shadowOffsetY=j.shadowOffsetY;i.strokeStyle=j.strokeStyle;i.globalAlpha=j.globalAlpha;i.font=j.font;i.textAlign=j.textAlign;i.textBaseline=j.textBaseline;i.scaleX_=j.scaleX_;i.scaleY_=j.scaleY_;i.lineScale_=j.lineScale_}var c={aliceblue:"#F0F8FF",antiquewhite:"#FAEBD7",aquamarine:"#7FFFD4",azure:"#F0FFFF",beige:"#F5F5DC",bisque:"#FFE4C4",black:"#000000",blanchedalmond:"#FFEBCD",blueviolet:"#8A2BE2",brown:"#A52A2A",burlywood:"#DEB887",cadetblue:"#5F9EA0",chartreuse:"#7FFF00",chocolate:"#D2691E",coral:"#FF7F50",cornflowerblue:"#6495ED",cornsilk:"#FFF8DC",crimson:"#DC143C",cyan:"#00FFFF",darkblue:"#00008B",darkcyan:"#008B8B",darkgoldenrod:"#B8860B",darkgray:"#A9A9A9",darkgreen:"#006400",darkgrey:"#A9A9A9",darkkhaki:"#BDB76B",darkmagenta:"#8B008B",darkolivegreen:"#556B2F",darkorange:"#FF8C00",darkorchid:"#9932CC",darkred:"#8B0000",darksalmon:"#E9967A",darkseagreen:"#8FBC8F",darkslateblue:"#483D8B",darkslategray:"#2F4F4F",darkslategrey:"#2F4F4F",darkturquoise:"#00CED1",darkviolet:"#9400D3",deeppink:"#FF1493",deepskyblue:"#00BFFF",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1E90FF",firebrick:"#B22222",floralwhite:"#FFFAF0",forestgreen:"#228B22",gainsboro:"#DCDCDC",ghostwhite:"#F8F8FF",gold:"#FFD700",goldenrod:"#DAA520",grey:"#808080",greenyellow:"#ADFF2F",honeydew:"#F0FFF0",hotpink:"#FF69B4",indianred:"#CD5C5C",indigo:"#4B0082",ivory:"#FFFFF0",khaki:"#F0E68C",lavender:"#E6E6FA",lavenderblush:"#FFF0F5",lawngreen:"#7CFC00",lemonchiffon:"#FFFACD",lightblue:"#ADD8E6",lightcoral:"#F08080",lightcyan:"#E0FFFF",lightgoldenrodyellow:"#FAFAD2",lightgreen:"#90EE90",lightgrey:"#D3D3D3",lightpink:"#FFB6C1",lightsalmon:"#FFA07A",lightseagreen:"#20B2AA",lightskyblue:"#87CEFA",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#B0C4DE",lightyellow:"#FFFFE0",limegreen:"#32CD32",linen:"#FAF0E6",magenta:"#FF00FF",mediumaquamarine:"#66CDAA",mediumblue:"#0000CD",mediumorchid:"#BA55D3",mediumpurple:"#9370DB",mediumseagreen:"#3CB371",mediumslateblue:"#7B68EE",mediumspringgreen:"#00FA9A",mediumturquoise:"#48D1CC",mediumvioletred:"#C71585",midnightblue:"#191970",mintcream:"#F5FFFA",mistyrose:"#FFE4E1",moccasin:"#FFE4B5",navajowhite:"#FFDEAD",oldlace:"#FDF5E6",olivedrab:"#6B8E23",orange:"#FFA500",orangered:"#FF4500",orchid:"#DA70D6",palegoldenrod:"#EEE8AA",palegreen:"#98FB98",paleturquoise:"#AFEEEE",palevioletred:"#DB7093",papayawhip:"#FFEFD5",peachpuff:"#FFDAB9",peru:"#CD853F",pink:"#FFC0CB",plum:"#DDA0DD",powderblue:"#B0E0E6",rosybrown:"#BC8F8F",royalblue:"#4169E1",saddlebrown:"#8B4513",salmon:"#FA8072",sandybrown:"#F4A460",seagreen:"#2E8B57",seashell:"#FFF5EE",sienna:"#A0522D",skyblue:"#87CEEB",slateblue:"#6A5ACD",slategray:"#708090",slategrey:"#708090",snow:"#FFFAFA",springgreen:"#00FF7F",steelblue:"#4682B4",tan:"#D2B48C",thistle:"#D8BFD8",tomato:"#FF6347",turquoise:"#40E0D0",violet:"#EE82EE",wheat:"#F5DEB3",whitesmoke:"#F5F5F5",yellowgreen:"#9ACD32"};function N(j){var p=j.indexOf("(",3);var i=j.indexOf(")",p+1);var m=j.substring(p+1,i).split(",");if(m.length!=4||j.charAt(3)!="a"){m[3]=1}return m}function d(i){return parseFloat(i)/100}function s(j,m,i){return Math.min(i,Math.max(m,j))}function J(ah){var i,aj,ak,ai,al,Z;ai=parseFloat(ah[0])/360%360;if(ai<0){ai++}al=s(d(ah[1]),0,1);Z=s(d(ah[2]),0,1);if(al==0){i=aj=ak=Z}else{var j=Z<0.5?Z*(1+al):Z+al-Z*al;var m=2*Z-j;i=b(m,j,ai+1/3);aj=b(m,j,ai);ak=b(m,j,ai-1/3)}return"#"+l[Math.floor(i*255)]+l[Math.floor(aj*255)]+l[Math.floor(ak*255)]}function b(j,i,m){if(m<0){m++}if(m>1){m--}if(6*m<1){return j+(i-j)*6*m}else{if(2*m<1){return i}else{if(3*m<2){return j+(i-j)*(2/3-m)*6}else{return j}}}}var D={};function G(j){if(j in D){return D[j]}var ah,Z=1;j=String(j);if(j.charAt(0)=="#"){ah=j}else{if(/^rgb/.test(j)){var p=N(j);var ah="#",ai;for(var m=0;m<3;m++){if(p[m].indexOf("%")!=-1){ai=Math.floor(d(p[m])*255)}else{ai=+p[m]}ah+=l[s(ai,0,255)]}Z=+p[3]}else{if(/^hsl/.test(j)){var p=N(j);ah=J(p);Z=p[3]}else{ah=c[j]||j}}}return D[j]={color:ah,alpha:Z}}var q={style:"normal",variant:"normal",weight:"normal",size:12,family:"微软雅黑"};var M={};function F(j){if(M[j]){return M[j]}var Z=document.createElement("div");var p=Z.style;var i;try{p.font=j;i=p.fontFamily.split(",")[0]}catch(m){}return M[j]={style:p.fontStyle||q.style,variant:p.fontVariant||q.variant,weight:p.fontWeight||q.weight,size:p.fontSize||q.size,family:i||q.family}}function v(m,j){var i={};for(var ai in m){i[ai]=m[ai]}var ah=parseFloat(j.currentStyle.fontSize),Z=parseFloat(m.size);if(typeof m.size=="number"){i.size=m.size}else{if(m.size.indexOf("px")!=-1){i.size=Z}else{if(m.size.indexOf("em")!=-1){i.size=ah*Z}else{if(m.size.indexOf("%")!=-1){i.size=ah/100*Z}else{if(m.size.indexOf("pt")!=-1){i.size=Z/0.75}else{i.size=ah}}}}}return i}function ad(i){return i.style+" "+i.variant+" "+i.weight+" "+i.size+"px '"+i.family+"'"}var t={butt:"flat",round:"round"};function T(i){return t[i]||"square"}function E(i){this.m_=C();this.mStack_=[];this.aStack_=[];this.currentPath_=[];this.strokeStyle="#000";this.fillStyle="#000";this.lineWidth=1;this.lineJoin="miter";this.lineCap="butt";this.miterLimit=e*1;this.globalAlpha=1;this.font="12px 微软雅黑";this.textAlign="left";this.textBaseline="alphabetic";this.canvas=i;var m="width:"+i.clientWidth+"px;height:"+i.clientHeight+"px;overflow:hidden;position:absolute";var j=i.ownerDocument.createElement("div");j.style.cssText=m;i.appendChild(j);var p=j.cloneNode(false);p.style.backgroundColor="#fff";p.style.filter="alpha(opacity=0)";i.appendChild(p);this.element_=j;this.scaleX_=1;this.scaleY_=1;this.lineScale_=1}var r=E.prototype;r.clearRect=function(){if(this.textMeasureEl_){this.textMeasureEl_.removeNode(true);this.textMeasureEl_=null}this.element_.innerHTML=""};r.beginPath=function(){this.currentPath_=[]};r.moveTo=function(j,i){var m=W(this,j,i);this.currentPath_.push({type:"moveTo",x:m.x,y:m.y});this.currentX_=m.x;this.currentY_=m.y};r.lineTo=function(j,i){var m=W(this,j,i);this.currentPath_.push({type:"lineTo",x:m.x,y:m.y});this.currentX_=m.x;this.currentY_=m.y};r.bezierCurveTo=function(m,j,al,ak,aj,ah){var i=W(this,aj,ah);var ai=W(this,m,j);var Z=W(this,al,ak);L(this,ai,Z,i)};function L(i,Z,m,j){i.currentPath_.push({type:"bezierCurveTo",cp1x:Z.x,cp1y:Z.y,cp2x:m.x,cp2y:m.y,x:j.x,y:j.y});i.currentX_=j.x;i.currentY_=j.y}r.quadraticCurveTo=function(aj,m,j,i){var ai=W(this,aj,m);var ah=W(this,j,i);var ak={x:this.currentX_+2/3*(ai.x-this.currentX_),y:this.currentY_+2/3*(ai.y-this.currentY_)};var Z={x:ak.x+(ah.x-this.currentX_)/3,y:ak.y+(ah.y-this.currentY_)/3};L(this,ak,Z,ah)};r.arc=function(am,ak,al,ah,j,m){al*=e;var aq=m?"at":"wa";var an=am+B(ah)*al-g;var ap=ak+n(ah)*al-g;var i=am+B(j)*al-g;var ao=ak+n(j)*al-g;if(an==i&&!m){an+=0.125}var Z=W(this,am,ak);var aj=W(this,an,ap);var ai=W(this,i,ao);this.currentPath_.push({type:aq,x:Z.x,y:Z.y,radius:al,xStart:aj.x,yStart:aj.y,xEnd:ai.x,yEnd:ai.y})};r.rect=function(m,j,i,p){this.moveTo(m,j);this.lineTo(m+i,j);this.lineTo(m+i,j+p);this.lineTo(m,j+p);this.closePath()};r.strokeRect=function(m,j,i,p){var Z=this.currentPath_;this.beginPath();this.moveTo(m,j);this.lineTo(m+i,j);this.lineTo(m+i,j+p);this.lineTo(m,j+p);this.closePath();this.stroke();this.currentPath_=Z};r.fillRect=function(m,j,i,p){var Z=this.currentPath_;this.beginPath();this.moveTo(m,j);this.lineTo(m+i,j);this.lineTo(m+i,j+p);this.lineTo(m,j+p);this.closePath();this.fill();this.currentPath_=Z};r.createLinearGradient=function(j,p,i,m){var Z=new V("gradient");Z.x0_=j;Z.y0_=p;Z.x1_=i;Z.y1_=m;return Z};r.createRadialGradient=function(p,ah,m,j,Z,i){var ai=new V("gradientradial");ai.x0_=p;ai.y0_=ah;ai.r0_=m;ai.x1_=j;ai.y1_=Z;ai.r1_=i;return ai};r.drawImage=function(ar,m){var ak,ai,am,az,ap,an,au,aD;var al=ar.runtimeStyle.width;var aq=ar.runtimeStyle.height;ar.runtimeStyle.width="auto";ar.runtimeStyle.height="auto";var aj=ar.width;var ax=ar.height;ar.runtimeStyle.width=al;ar.runtimeStyle.height=aq;if(arguments.length==3){ak=arguments[1];ai=arguments[2];ap=an=0;au=am=aj;aD=az=ax}else{if(arguments.length==5){ak=arguments[1];ai=arguments[2];am=arguments[3];az=arguments[4];ap=an=0;au=aj;aD=ax}else{if(arguments.length==9){ap=arguments[1];an=arguments[2];au=arguments[3];aD=arguments[4];ak=arguments[5];ai=arguments[6];am=arguments[7];az=arguments[8]}else{throw Error("Invalid number of arguments")}}}var aA=W(this,ak,ai);var p=au/2;var j=aD/2;var ay=[];var i=10;var ah=10;var aC=aB=1;ay.push(" <g_vml_:group",' coordsize="',e*i,",",e*ah,'"',' coordorigin="0,0"',' style="width:',i,"px;height:",ah,"px;position:absolute;");if(this.m_[0][0]!=1||this.m_[0][1]||this.m_[1][1]!=1||this.m_[1][0]){var Z=[];var aC=this.scaleX_;var aB=this.scaleY_;Z.push("M11=",this.m_[0][0]/aC,",","M12=",this.m_[1][0]/aB,",","M21=",this.m_[0][1]/aC,",","M22=",this.m_[1][1]/aB,",","Dx=",o(aA.x/e),",","Dy=",o(aA.y/e),"");var aw=aA;var av=W(this,ak+am,ai);var at=W(this,ak,ai+az);var ao=W(this,ak+am,ai+az);aw.x=ac.max(aw.x,av.x,at.x,ao.x);aw.y=ac.max(aw.y,av.y,at.y,ao.y);ay.push("padding:0 ",o(aw.x/e),"px ",o(aw.y/e),"px 0;filter:progid:DXImageTransform.Microsoft.Matrix(",Z.join(""),", SizingMethod='clip');")}else{ay.push("top:",o(aA.y/e),"px;left:",o(aA.x/e),"px;")}ay.push(' ">');if(ap||an){ay.push('<div style="overflow: hidden; width:',Math.ceil((am+ap*am/au)*aC),"px;"," height:",Math.ceil((az+an*az/aD)*aB),"px;"," filter:progid:DxImageTransform.Microsoft.Matrix(Dx=",-ap*am/au*aC,",Dy=",-an*az/aD*aB,');">')}ay.push('<div style="width:',Math.round(aC*aj*am/au),"px;"," height:",Math.round(aB*ax*az/aD),"px;"," filter:");if(this.globalAlpha<1){ay.push(" progid:DXImageTransform.Microsoft.Alpha(opacity="+this.globalAlpha*100+")")}ay.push(" progid:DXImageTransform.Microsoft.AlphaImageLoader(src=",ar.src,',sizingMethod=scale)">');if(ap||an){ay.push("</div>")}ay.push("</div></div>");this.element_.insertAdjacentHTML("BeforeEnd",ay.join(""))};r.stroke=function(am){var ak=[];var Z=false;var m=10;var an=10;ak.push("<g_vml_:shape",' filled="',!!am,'"',' style="position:absolute;width:',m,"px;height:",an,'px;"',' coordorigin="0,0"',' coordsize="',e*m,",",e*an,'"',' stroked="',!am,'"',' path="');var ao=false;var ah={x:null,y:null};var al={x:null,y:null};for(var ai=0;ai<this.currentPath_.length;ai++){var j=this.currentPath_[ai];var aj;switch(j.type){case"moveTo":aj=j;ak.push(" m ",o(j.x),",",o(j.y));break;case"lineTo":ak.push(" l ",o(j.x),",",o(j.y));break;case"close":ak.push(" x ");j=null;break;case"bezierCurveTo":ak.push(" c ",o(j.cp1x),",",o(j.cp1y),",",o(j.cp2x),",",o(j.cp2y),",",o(j.x),",",o(j.y));break;case"at":case"wa":ak.push(" ",j.type," ",o(j.x-this.scaleX_*j.radius),",",o(j.y-this.scaleY_*j.radius)," ",o(j.x+this.scaleX_*j.radius),",",o(j.y+this.scaleY_*j.radius)," ",o(j.xStart),",",o(j.yStart)," ",o(j.xEnd),",",o(j.yEnd));break}if(j){if(ah.x==null||j.x<ah.x){ah.x=j.x}if(al.x==null||j.x>al.x){al.x=j.x}if(ah.y==null||j.y<ah.y){ah.y=j.y}if(al.y==null||j.y>al.y){al.y=j.y}}}ak.push(' ">');if(!am){x(this,ak)}else{H(this,ak,ah,al)}ak.push("</g_vml_:shape>");this.element_.insertAdjacentHTML("beforeEnd",ak.join(""))};function x(m,ah){var j=G(m.strokeStyle);var p=j.color;var Z=j.alpha*m.globalAlpha;var i=m.lineScale_*m.lineWidth;if(i<1){Z*=i}ah.push("<g_vml_:stroke",' opacity="',Z,'"',' joinstyle="',m.lineJoin,'"',' miterlimit="',m.miterLimit,'"',' endcap="',T(m.lineCap),'"',' weight="',i,'px"',' color="',p,'" />')}function H(ar,aj,aL,at){var ak=ar.fillStyle;var aC=ar.scaleX_;var aB=ar.scaleY_;var j=at.x-aL.x;var p=at.y-aL.y;if(ak instanceof V){var ao=0;var aG={x:0,y:0};var ay=0;var an=1;if(ak.type_=="gradient"){var am=ak.x0_/aC;var m=ak.y0_/aB;var al=ak.x1_/aC;var aN=ak.y1_/aB;var aK=W(ar,am,m);var aJ=W(ar,al,aN);var ah=aJ.x-aK.x;var Z=aJ.y-aK.y;ao=Math.atan2(ah,Z)*180/Math.PI;if(ao<0){ao+=360}if(ao<0.000001){ao=0}}else{var aK=W(ar,ak.x0_,ak.y0_);aG={x:(aK.x-aL.x)/j,y:(aK.y-aL.y)/p};j/=aC*e;p/=aB*e;var aE=ac.max(j,p);ay=2*ak.r0_/aE;an=2*ak.r1_/aE-ay}var aw=ak.colors_;aw.sort(function(aO,i){return aO.offset-i.offset});var aq=aw.length;var av=aw[0].color;var au=aw[aq-1].color;var aA=aw[0].alpha*ar.globalAlpha;var az=aw[aq-1].alpha*ar.globalAlpha;var aF=[];for(var aI=0;aI<aq;aI++){var ap=aw[aI];aF.push(ap.offset*an+ay+" "+ap.color)}aj.push('<g_vml_:fill type="',ak.type_,'"',' method="none" focus="100%"',' color="',av,'"',' color2="',au,'"',' colors="',aF.join(","),'"',' opacity="',az,'"',' g_o_:opacity2="',aA,'"',' angle="',ao,'"',' focusposition="',aG.x,",",aG.y,'" />')}else{if(ak instanceof U){if(j&&p){var ai=-aL.x;var aD=-aL.y;aj.push("<g_vml_:fill",' position="',ai/j*aC*aC,",",aD/p*aB*aB,'"',' type="tile"',' src="',ak.src_,'" />')}}else{var aM=G(ar.fillStyle);var ax=aM.color;var aH=aM.alpha*ar.globalAlpha;aj.push('<g_vml_:fill color="',ax,'" opacity="',aH,'" />')}}}r.fill=function(){this.stroke(true)};r.closePath=function(){this.currentPath_.push({type:"close"})};function W(j,Z,p){var i=j.m_;return{x:e*(Z*i[0][0]+p*i[1][0]+i[2][0])-g,y:e*(Z*i[0][1]+p*i[1][1]+i[2][1])-g}}r.save=function(){var i={};w(this,i);this.aStack_.push(i);this.mStack_.push(this.m_);this.m_=K(C(),this.m_)};r.restore=function(){if(this.aStack_.length){w(this.aStack_.pop(),this);this.m_=this.mStack_.pop()}};function k(i){return isFinite(i[0][0])&&isFinite(i[0][1])&&isFinite(i[1][0])&&isFinite(i[1][1])&&isFinite(i[2][0])&&isFinite(i[2][1])}function ab(j,i,p){if(!k(i)){return}j.m_=i;j.scaleX_=Math.sqrt(i[0][0]*i[0][0]+i[0][1]*i[0][1]);j.scaleY_=Math.sqrt(i[1][0]*i[1][0]+i[1][1]*i[1][1]);if(p){var Z=i[0][0]*i[1][1]-i[0][1]*i[1][0];j.lineScale_=O(I(Z))}}r.translate=function(m,j){var i=[[1,0,0],[0,1,0],[m,j,1]];ab(this,K(i,this.m_),false)};r.rotate=function(j){var p=B(j);var m=n(j);var i=[[p,m,0],[-m,p,0],[0,0,1]];ab(this,K(i,this.m_),false)};r.scale=function(m,j){var i=[[m,0,0],[0,j,0],[0,0,1]];ab(this,K(i,this.m_),true)};r.transform=function(Z,p,ai,ah,j,i){var m=[[Z,p,0],[ai,ah,0],[j,i,1]];ab(this,K(m,this.m_),true)};r.setTransform=function(ah,Z,aj,ai,p,j){var i=[[ah,Z,0],[aj,ai,0],[p,j,1]];ab(this,i,true)};r.drawText_=function(an,al,ak,aq,aj){var ap=this.m_,au=1000,j=0,at=au,ai={x:0,y:0},ah=[];var i=v(F(this.font),this.element_);var p=ad(i);var av=this.element_.currentStyle;var Z=this.textAlign.toLowerCase();switch(Z){case"left":case"center":case"right":break;case"end":Z=av.direction=="ltr"?"right":"left";break;case"start":Z=av.direction=="rtl"?"right":"left";break;default:Z="left"}switch(this.textBaseline){case"hanging":case"top":ai.y=i.size/1.75;break;case"middle":break;default:case null:case"alphabetic":case"ideographic":case"bottom":ai.y=-i.size/2.25;break}switch(Z){case"right":j=au;at=0.05;break;case"center":j=at=au/2;break}var ar=W(this,al+ai.x,ak+ai.y);ah.push('<g_vml_:line from="',-j,' 0" to="',at,' 0.05" ',' coordsize="100 100" coordorigin="0 0"',' filled="',!aj,'" stroked="',!!aj,'" style="position:absolute;width:1px;height:1px;">');if(aj){x(this,ah)}else{H(this,ah,{x:-j,y:0},{x:at,y:i.size})}var ao=ap[0][0].toFixed(3)+","+ap[1][0].toFixed(3)+","+ap[0][1].toFixed(3)+","+ap[1][1].toFixed(3)+",0,0";var am=o(ar.x/e)+","+o(ar.y/e);ah.push('<g_vml_:skew on="t" matrix="',ao,'" ',' offset="',am,'" origin="',j,' 0" />','<g_vml_:path textpathok="true" />','<g_vml_:textpath on="true" string="',ag(an),'" style="v-text-align:',Z,";font:",ag(p),'" /></g_vml_:line>');this.element_.insertAdjacentHTML("beforeEnd",ah.join(""))};r.fillText=function(m,i,p,j){this.drawText_(m,i,p,j,false)};r.strokeText=function(m,i,p,j){this.drawText_(m,i,p,j,true)};r.measureText=function(p){if(!this.textMeasureEl_){var j='<span style="position:absolute;top:-20000px;left:0;padding:0;margin:0;border:none;white-space:pre;"></span>';this.element_.insertAdjacentHTML("beforeEnd",j);this.textMeasureEl_=this.element_.lastChild}var m=this.element_.ownerDocument;this.textMeasureEl_.innerHTML="";try{this.textMeasureEl_.style.font=this.font}catch(i){}this.textMeasureEl_.appendChild(m.createTextNode(p));return{width:this.textMeasureEl_.offsetWidth}};r.clip=function(){};r.arcTo=function(){};r.createPattern=function(j,i){return new U(j,i)};function V(i){this.type_=i;this.x0_=0;this.y0_=0;this.r0_=0;this.x1_=0;this.y1_=0;this.r1_=0;this.colors_=[]}V.prototype.addColorStop=function(j,i){i=G(i);this.colors_.push({offset:j,color:i.color,alpha:i.alpha})};function U(j,i){R(j);switch(i){case"repeat":case null:case"":this.repetition_="repeat";break;case"repeat-x":case"repeat-y":case"no-repeat":this.repetition_=i;break;default:P("SYNTAX_ERR")}this.src_=j.src;this.width_=j.width;this.height_=j.height}function P(i){throw new Q(i)}function R(i){if(!i||i.nodeType!=1||i.tagName!="IMG"){P("TYPE_MISMATCH_ERR")}if(i.readyState!="complete"){P("INVALID_STATE_ERR")}}function Q(i){this.code=this[i];this.message=i+": DOM Exception "+this.code}var Y=Q.prototype=new Error();Y.INDEX_SIZE_ERR=1;Y.DOMSTRING_SIZE_ERR=2;Y.HIERARCHY_REQUEST_ERR=3;Y.WRONG_DOCUMENT_ERR=4;Y.INVALID_CHARACTER_ERR=5;Y.NO_DATA_ALLOWED_ERR=6;Y.NO_MODIFICATION_ALLOWED_ERR=7;Y.NOT_FOUND_ERR=8;Y.NOT_SUPPORTED_ERR=9;Y.INUSE_ATTRIBUTE_ERR=10;Y.INVALID_STATE_ERR=11;Y.SYNTAX_ERR=12;Y.INVALID_MODIFICATION_ERR=13;Y.NAMESPACE_ERR=14;Y.INVALID_ACCESS_ERR=15;Y.VALIDATION_ERR=16;Y.TYPE_MISMATCH_ERR=17;G_vmlCanvasManager=f;CanvasRenderingContext2D=E;CanvasGradient=V;CanvasPattern=U;DOMException=Q}())}else{G_vmlCanvasManager=false}return G_vmlCanvasManager});define("zrender/mixin/Eventful",["require"],function(a){var b=function(){this._handlers={}};b.prototype.one=function(e,d,c){var f=this._handlers;if(!d||!e){return this}if(!f[e]){f[e]=[]}f[e].push({h:d,one:true,ctx:c||this});return this};b.prototype.bind=function(e,d,c){var f=this._handlers;if(!d||!e){return this}if(!f[e]){f[e]=[]}f[e].push({h:d,one:false,ctx:c||this});return this};b.prototype.unbind=function(g,f){var h=this._handlers;if(!g){this._handlers={};return this}if(f){if(h[g]){var e=[];for(var d=0,c=h[g].length;d<c;d++){if(h[g][d]["h"]!=f){e.push(h[g][d])}}h[g]=e}if(h[g]&&h[g].length===0){delete h[g]}}else{delete h[g]}return this};b.prototype.dispatch=function(g){if(this._handlers[g]){var e=arguments;var d=e.length;if(d>3){e=Array.prototype.slice.call(e,1)}var h=this._handlers[g];var c=h.length;for(var f=0;f<c;){switch(d){case 1:h[f]["h"].call(h[f]["ctx"]);break;case 2:h[f]["h"].call(h[f]["ctx"],e[1]);break;case 3:h[f]["h"].call(h[f]["ctx"],e[1],e[2]);break;default:h[f]["h"].apply(h[f]["ctx"],e);break}if(h[f]["one"]){h.splice(f,1);c--}else{f++}}}return this};b.prototype.dispatchWithContext=function(h){if(this._handlers[h]){var f=arguments;var e=f.length;if(e>4){f=Array.prototype.slice.call(f,1,f.length-1)}var d=f[f.length-1];var j=this._handlers[h];var c=j.length;for(var g=0;g<c;){switch(e){case 1:j[g]["h"].call(d);break;case 2:j[g]["h"].call(d,f[1]);break;case 3:j[g]["h"].call(d,f[1],f[2]);break;default:j[g]["h"].apply(d,f);break}if(j[g]["one"]){j.splice(g,1);c--}else{g++}}}return this};return b});define("zrender/tool/log",["require","../config"],function(b){var a=b("../config");return function(){if(a.debugMode===0){return}else{if(a.debugMode==1){for(var c in arguments){throw new Error(arguments[c])}}else{if(a.debugMode>1){for(var c in arguments){console.log(arguments[c])}}}}}});define("zrender/tool/guid",[],function(){var a=2311;return function(){return"zrender__"+a++}});define("zrender/Handler",["require","./config","./tool/env","./tool/event","./tool/util","./tool/vector","./tool/matrix","./mixin/Eventful"],function(h){var r=h("./config");var q=h("./tool/env");var i=h("./tool/event");var b=h("./tool/util");var c=h("./tool/vector");var o=h("./tool/matrix");var f=r.EVENT;var e=h("./mixin/Eventful");var j=["resize","click","dblclick","mousewheel","mousemove","mouseout","mouseup","mousedown","touchstart","touchend","touchmove"];var m=function(s){if(window.G_vmlCanvasManager){return true}s=s||window.event;var t=s.toElement||s.relatedTarget||s.srcElement||s.target;return t&&t.className.match(r.elementClassName)};var g={resize:function(s){s=s||window.event;this._lastHover=null;this._isMouseDown=0;this.dispatch(f.RESIZE,s)},click:function(t){if(!m(t)){return}t=this._zrenderEventFixed(t);var s=this._lastHover;if(s&&s.clickable||!s){if(this._clickThreshold<5){this._dispatchAgency(s,f.CLICK,t)}}this._mousemoveHandler(t)},dblclick:function(t){if(!m(t)){return}t=t||window.event;t=this._zrenderEventFixed(t);var s=this._lastHover;if(s&&s.clickable||!s){if(this._clickThreshold<5){this._dispatchAgency(s,f.DBLCLICK,t)}}this._mousemoveHandler(t)},mousewheel:function(v){if(!m(v)){return}v=this._zrenderEventFixed(v);var x=v.wheelDelta||-v.detail;var w=x>0?1.1:1/1.1;var u=false;var t=this._mouseX;var s=this._mouseY;this.painter.eachBuildinLayer(function(z){var A=z.position;if(z.zoomable){z.__zoom=z.__zoom||1;var y=z.__zoom;y*=w;y=Math.max(Math.min(z.maxZoom,y),z.minZoom);w=y/z.__zoom;z.__zoom=y;A[0]-=(t-A[0])*(w-1);A[1]-=(s-A[1])*(w-1);z.scale[0]*=w;z.scale[1]*=w;z.dirty=true;u=true;i.stop(v)}});if(u){this.painter.refresh()}this._dispatchAgency(this._lastHover,f.MOUSEWHEEL,v);this._mousemoveHandler(v)},mousemove:function(v){if(!m(v)){return}if(this.painter.isLoading()){return}v=this._zrenderEventFixed(v);this._lastX=this._mouseX;this._lastY=this._mouseY;this._mouseX=i.getX(v);this._mouseY=i.getY(v);var t=this._mouseX-this._lastX;var s=this._mouseY-this._lastY;this._processDragStart(v);this._hasfound=0;this._event=v;this._iterateAndFindHover();if(!this._hasfound){if(!this._draggingTarget||this._lastHover&&this._lastHover!=this._draggingTarget){this._processOutShape(v);this._processDragLeave(v)}this._lastHover=null;this.storage.delHover();this.painter.clearHover()}var w="default";if(this._draggingTarget){this.storage.drift(this._draggingTarget.id,t,s);this._draggingTarget.modSelf();this.storage.addHover(this._draggingTarget);this._clickThreshold++}else{if(this._isMouseDown){var u=false;this.painter.eachBuildinLayer(function(x){if(x.panable){w="move";x.position[0]+=t;x.position[1]+=s;u=true;x.dirty=true}});if(u){this.painter.refresh()}}}if(this._draggingTarget||this._hasfound&&this._lastHover.draggable){w="move"}else{if(this._hasfound&&this._lastHover.clickable){w="pointer"}}this.root.style.cursor=w;this._dispatchAgency(this._lastHover,f.MOUSEMOVE,v);if(this._draggingTarget||this._hasfound||this.storage.hasHoverShape()){this.painter.refreshHover()}},mouseout:function(t){if(!m(t)){return}t=this._zrenderEventFixed(t);var s=t.toElement||t.relatedTarget;if(s!=this.root){while(s&&s.nodeType!=9){if(s==this.root){this._mousemoveHandler(t);return}s=s.parentNode}}t.zrenderX=this._lastX;t.zrenderY=this._lastY;this.root.style.cursor="default";this._isMouseDown=0;this._processOutShape(t);this._processDrop(t);this._processDragEnd(t);if(!this.painter.isLoading()){this.painter.refreshHover()}this.dispatch(f.GLOBALOUT,t)},mousedown:function(s){if(!m(s)){return}this._clickThreshold=0;if(this._lastDownButton==2){this._lastDownButton=s.button;this._mouseDownTarget=null;return}this._lastMouseDownMoment=new Date();s=this._zrenderEventFixed(s);this._isMouseDown=1;this._mouseDownTarget=this._lastHover;this._dispatchAgency(this._lastHover,f.MOUSEDOWN,s);this._lastDownButton=s.button},mouseup:function(s){if(!m(s)){return}s=this._zrenderEventFixed(s);this.root.style.cursor="default";this._isMouseDown=0;this._mouseDownTarget=null;this._dispatchAgency(this._lastHover,f.MOUSEUP,s);this._processDrop(s);this._processDragEnd(s)},touchstart:function(s){if(!m(s)){return}s=this._zrenderEventFixed(s,true);this._lastTouchMoment=new Date();this._mobileFindFixed(s);this._mousedownHandler(s)},touchmove:function(s){if(!m(s)){return}s=this._zrenderEventFixed(s,true);this._mousemoveHandler(s);if(this._isDragging){i.stop(s)}},touchend:function(t){if(!m(t)){return}t=this._zrenderEventFixed(t,true);this._mouseupHandler(t);var s=new Date();if(s-this._lastTouchMoment<f.touchClickDelay){this._mobileFindFixed(t);this._clickHandler(t);if(s-this._lastClickMoment<f.touchClickDelay/2){this._dblclickHandler(t);if(this._lastHover&&this._lastHover.clickable){i.stop(t)}}this._lastClickMoment=s}this.painter.clearHover()}};function n(t,s){return function(u){return t.call(s,u)}}function a(t,s){return function(w,v,u){return t.call(s,w,v,u)}}function d(t){var s=j.length;while(s--){var u=j[s];t["_"+u+"Handler"]=n(g[u],t)}}var l=function(t,u,s){e.call(this);this.root=t;this.storage=u;this.painter=s;this._lastX=this._lastY=this._mouseX=this._mouseY=0;this._findHover=a(p,this);this._domHover=s.getDomHover();d(this);if(window.addEventListener){window.addEventListener("resize",this._resizeHandler);if(q.os.tablet||q.os.phone){t.addEventListener("touchstart",this._touchstartHandler);t.addEventListener("touchmove",this._touchmoveHandler);t.addEventListener("touchend",this._touchendHandler)}else{t.addEventListener("click",this._clickHandler);t.addEventListener("dblclick",this._dblclickHandler);t.addEventListener("mousewheel",this._mousewheelHandler);t.addEventListener("mousemove",this._mousemoveHandler);t.addEventListener("mousedown",this._mousedownHandler);t.addEventListener("mouseup",this._mouseupHandler)}t.addEventListener("DOMMouseScroll",this._mousewheelHandler);t.addEventListener("mouseout",this._mouseoutHandler)}else{window.attachEvent("onresize",this._resizeHandler);t.attachEvent("onclick",this._clickHandler);t.ondblclick=this._dblclickHandler;t.attachEvent("onmousewheel",this._mousewheelHandler);t.attachEvent("onmousemove",this._mousemoveHandler);t.attachEvent("onmouseout",this._mouseoutHandler);t.attachEvent("onmousedown",this._mousedownHandler);t.attachEvent("onmouseup",this._mouseupHandler)}};l.prototype.on=function(s,u,t){this.bind(s,u,t);return this};l.prototype.un=function(s,t){this.unbind(s,t);return this};l.prototype.trigger=function(t,s){switch(t){case f.RESIZE:case f.CLICK:case f.DBLCLICK:case f.MOUSEWHEEL:case f.MOUSEMOVE:case f.MOUSEDOWN:case f.MOUSEUP:case f.MOUSEOUT:this["_"+t+"Handler"](s);break}};l.prototype.dispose=function(){var s=this.root;if(window.removeEventListener){window.removeEventListener("resize",this._resizeHandler);if(q.os.tablet||q.os.phone){s.removeEventListener("touchstart",this._touchstartHandler);s.removeEventListener("touchmove",this._touchmoveHandler);s.removeEventListener("touchend",this._touchendHandler)}else{s.removeEventListener("click",this._clickHandler);s.removeEventListener("dblclick",this._dblclickHandler);s.removeEventListener("mousewheel",this._mousewheelHandler);s.removeEventListener("mousemove",this._mousemoveHandler);s.removeEventListener("mousedown",this._mousedownHandler);s.removeEventListener("mouseup",this._mouseupHandler)}s.removeEventListener("DOMMouseScroll",this._mousewheelHandler);s.removeEventListener("mouseout",this._mouseoutHandler)}else{window.detachEvent("onresize",this._resizeHandler);s.detachEvent("onclick",this._clickHandler);s.detachEvent("dblclick",this._dblclickHandler);s.detachEvent("onmousewheel",this._mousewheelHandler);s.detachEvent("onmousemove",this._mousemoveHandler);s.detachEvent("onmouseout",this._mouseoutHandler);s.detachEvent("onmousedown",this._mousedownHandler);s.detachEvent("onmouseup",this._mouseupHandler)}this.root=this._domHover=this.storage=this.painter=null;this.un()};l.prototype._processDragStart=function(u){var t=this._lastHover;if(this._isMouseDown&&t&&t.draggable&&!this._draggingTarget&&this._mouseDownTarget==t){if(t.dragEnableTime&&new Date()-this._lastMouseDownMoment<t.dragEnableTime){return}var s=t;this._draggingTarget=s;this._isDragging=1;s.invisible=true;this.storage.mod(s.id);this._dispatchAgency(s,f.DRAGSTART,u);this.painter.refresh()}};l.prototype._processDragEnter=function(s){if(this._draggingTarget){this._dispatchAgency(this._lastHover,f.DRAGENTER,s,this._draggingTarget)}};l.prototype._processDragOver=function(s){if(this._draggingTarget){this._dispatchAgency(this._lastHover,f.DRAGOVER,s,this._draggingTarget)}};l.prototype._processDragLeave=function(s){if(this._draggingTarget){this._dispatchAgency(this._lastHover,f.DRAGLEAVE,s,this._draggingTarget)}};l.prototype._processDrop=function(s){if(this._draggingTarget){this._draggingTarget.invisible=false;this.storage.mod(this._draggingTarget.id);this.painter.refresh();this._dispatchAgency(this._lastHover,f.DROP,s,this._draggingTarget)}};l.prototype._processDragEnd=function(s){if(this._draggingTarget){this._dispatchAgency(this._draggingTarget,f.DRAGEND,s);this._lastHover=null}this._isDragging=0;this._draggingTarget=null};l.prototype._processOverShape=function(s){this._dispatchAgency(this._lastHover,f.MOUSEOVER,s)};l.prototype._processOutShape=function(s){this._dispatchAgency(this._lastHover,f.MOUSEOUT,s)};l.prototype._dispatchAgency=function(s,u,x,z){var v="on"+u;var y={type:u,event:x,target:s,cancelBubble:false};var w=s;if(z){y.dragged=z}while(w){w[v]&&(y.cancelBubble=w[v](y));w.dispatch(u,y);w=w.parent;if(y.cancelBubble){break}}if(s){if(!y.cancelBubble){this.dispatch(u,y)}}else{if(!z){var t={type:u,event:x};this.dispatch(u,t);this.painter.eachOtherLayer(function(A){if(typeof A[v]=="function"){A[v](t)}if(A.dispatch){A.dispatch(u,t)}})}}};l.prototype._iterateAndFindHover=function(){var s=o.create();return function(){var y=this.storage.getShapeList();var x;var u;var w=[0,0];for(var v=y.length-1;v>=0;v--){var t=y[v];if(x!==t.zlevel){u=this.painter.getLayer(t.zlevel,u);w[0]=this._mouseX;w[1]=this._mouseY;if(u.needTransform){o.invert(s,u.transform);c.applyTransform(w,w,s)}}if(this._findHover(t,w[0],w[1])){break}}}}();var k=[{x:10},{x:-20},{x:10,y:10},{y:-20}];l.prototype._mobileFindFixed=function(t){this._lastHover=null;this._mouseX=t.zrenderX;this._mouseY=t.zrenderY;this._event=t;this._iterateAndFindHover();for(var s=0;!this._lastHover&&s<k.length;s++){var u=k[s];u.x&&(this._mouseX+=u.x);u.y&&(this._mouseY+=u.y);this._iterateAndFindHover()}if(this._lastHover){t.zrenderX=this._mouseX;t.zrenderY=this._mouseY}};function p(t,s,w){if(this._draggingTarget&&this._draggingTarget.id==t.id||t.isSilent()){return false}var u=this._event;if(t.isCover(s,w)){if(t.hoverable){this.storage.addHover(t)}var v=t.parent;while(v){if(v.clipShape&&!v.clipShape.isCover(this._mouseX,this._mouseY)){return false}v=v.parent}if(this._lastHover!=t){this._processOutShape(u);this._processDragLeave(u);this._lastHover=t;this._processDragEnter(u)}this._processOverShape(u);this._processDragOver(u);this._hasfound=1;return true}return false}l.prototype._zrenderEventFixed=function(t,s){if(t.zrenderFixed){return t}if(!s){t=t||window.event;var u=t.toElement||t.relatedTarget||t.srcElement||t.target;if(u&&u!=this._domHover){t.zrenderX=(typeof t.offsetX!="undefined"?t.offsetX:t.layerX)+u.offsetLeft;t.zrenderY=(typeof t.offsetY!="undefined"?t.offsetY:t.layerY)+u.offsetTop}}else{var w=t.type!="touchend"?t.targetTouches[0]:t.changedTouches[0];if(w){var v=this.painter._domRoot.getBoundingClientRect();t.zrenderX=w.clientX-v.left;t.zrenderY=w.clientY-v.top}}t.zrenderFixed=1;return t};b.merge(l.prototype,e.prototype,true);return l});define("zrender/Painter",["require","./config","./tool/util","./tool/log","./loadingEffect/Base","./Layer","./shape/Image"],function(c){var b=c("./config");var g=c("./tool/util");var e=c("./tool/log");var i=c("./loadingEffect/Base");var d=c("./Layer");function a(){return false}function h(){}function j(k){if(!k){return false}if(k.isBuildin){return true}if(typeof k.resize!=="function"||typeof k.refresh!=="function"){return false}return true}var f=function(l,n){this.root=l;l.style["-webkit-tap-highlight-color"]="transparent";l.style["-webkit-user-select"]="none";l.style["user-select"]="none";l.style["-webkit-touch-callout"]="none";this.storage=n;l.innerHTML="";this._width=this._getWidth();this._height=this._getHeight();var k=document.createElement("div");this._domRoot=k;k.style.position="relative";k.style.overflow="hidden";k.style.width=this._width+"px";k.style.height=this._height+"px";l.appendChild(k);this._layers={};this._zlevelList=[];this._layerConfig={};this._loadingEffect=new i({});this.shapeToImage=this._createShapeToImageProcessor();this._bgDom=document.createElement("div");this._bgDom.style.cssText=["position:absolute;left:0px;top:0px;width:",this._width,"px;height:",this._height+"px;","-webkit-user-select:none;user-select;none;","-webkit-touch-callout:none;"].join("");this._bgDom.setAttribute("data-zr-dom-id","bg");this._bgDom.className=b.elementClassName;k.appendChild(this._bgDom);this._bgDom.onselectstart=a;var m=new d("_zrender_hover_",this);this._layers.hover=m;k.appendChild(m.dom);m.initContext();m.dom.onselectstart=a;m.dom.style["-webkit-user-select"]="none";m.dom.style["user-select"]="none";m.dom.style["-webkit-touch-callout"]="none";this.refreshNextFrame=null};f.prototype.render=function(k){if(this.isLoading()){this.hideLoading()}this.refresh(k,true);return this};f.prototype.refresh=function(p,k){var n=this.storage.getShapeList(true);this._paintList(n,k);for(var m=0;m<this._zlevelList.length;m++){var o=this._zlevelList[m];var l=this._layers[o];if(!l.isBuildin&&l.refresh){l.refresh()}}if(typeof p=="function"){p()}return this};f.prototype._preProcessLayer=function(k){k.unusedCount++;k.updateTransform()};f.prototype._postProcessLayer=function(k){k.dirty=false;if(k.unusedCount==1){k.clear()}};f.prototype._paintList=function(o,r){if(typeof r=="undefined"){r=false}this._updateLayerStatus(o);var n;var s;var t;this.eachBuildinLayer(this._preProcessLayer);for(var m=0,k=o.length;m<k;m++){var p=o[m];if(s!==p.zlevel){if(n){if(n.needTransform){t.restore()}t.flush&&t.flush()}s=p.zlevel;n=this.getLayer(s);if(!n.isBuildin){e("ZLevel "+s+" has been used by unkown layer "+n.id)}t=n.ctx;n.unusedCount=0;if(n.dirty||r){n.clear()}if(n.needTransform){t.save();n.setTransform(t)}}if((n.dirty||r)&&!p.invisible){if(!p.onbrush||p.onbrush&&!p.onbrush(t,false)){if(b.catchBrushException){try{p.brush(t,false,this.refreshNextFrame)}catch(q){e(q,"brush error of "+p.type,p)}}else{p.brush(t,false,this.refreshNextFrame)}}}p.__dirty=false}if(n){if(n.needTransform){t.restore()}t.flush&&t.flush()}this.eachBuildinLayer(this._postProcessLayer)};f.prototype.getLayer=function(k){var l=this._layers[k];if(!l){l=new d(k,this);l.isBuildin=true;if(this._layerConfig[k]){g.merge(l,this._layerConfig[k],true)}l.updateTransform();this.insertLayer(k,l);l.initContext()}return l};f.prototype.insertLayer=function(l,n){if(this._layers[l]){e("ZLevel "+l+" has been used already");return}if(!j(n)){e("Layer of zlevel "+l+" is not valid");return}var k=this._zlevelList.length;var o=null;var m=-1;if(k>0&&l>this._zlevelList[0]){for(m=0;m<k-1;m++){if(this._zlevelList[m]<l&&this._zlevelList[m+1]>l){break}}o=this._layers[this._zlevelList[m]]}this._zlevelList.splice(m+1,0,l);var p=o?o.dom:this._bgDom;if(p.nextSibling){p.parentNode.insertBefore(n.dom,p.nextSibling)}else{p.parentNode.appendChild(n.dom)}this._layers[l]=n};f.prototype.eachLayer=function(k,m){for(var l=0;l<this._zlevelList.length;l++){var n=this._zlevelList[l];k.call(m,this._layers[n],n)}};f.prototype.eachBuildinLayer=function(k,n){for(var m=0;m<this._zlevelList.length;m++){var o=this._zlevelList[m];var l=this._layers[o];if(l.isBuildin){k.call(n,l,o)}}};f.prototype.eachOtherLayer=function(k,n){for(var m=0;m<this._zlevelList.length;m++){var o=this._zlevelList[m];var l=this._layers[o];if(!l.isBuildin){k.call(n,l,o)}}};f.prototype.getLayers=function(){return this._layers};f.prototype._updateLayerStatus=function(r){var s=this._layers;var q={};this.eachBuildinLayer(function(l,t){q[t]=l.elCount;l.elCount=0});for(var p=0,m=r.length;p<m;p++){var n=r[p];var k=n.zlevel;var o=s[k];if(o){o.elCount++;if(o.dirty){continue}o.dirty=n.__dirty}}this.eachBuildinLayer(function(l,t){if(q[t]!==l.elCount){l.dirty=true}})};f.prototype.refreshShapes=function(o,p){for(var n=0,k=o.length;n<k;n++){var m=o[n];m.modSelf()}this.refresh(p);return this};f.prototype.setLoadingEffect=function(k){this._loadingEffect=k;return this};f.prototype.clear=function(){this.eachBuildinLayer(this._clearLayer);return this};f.prototype._clearLayer=function(k){k.clear()};f.prototype.modLayer=function(k,l){if(l){if(!this._layerConfig[k]){this._layerConfig[k]=l}else{g.merge(this._layerConfig[k],l,true)}var m=this._layers[k];if(m){g.merge(m,this._layerConfig[k],true)}}};f.prototype.delLayer=function(k){var l=this._layers[k];if(!l){return}this.modLayer(k,{position:l.position,rotation:l.rotation,scale:l.scale});l.dom.parentNode.removeChild(l.dom);delete this._layers[k];this._zlevelList.splice(g.indexOf(this._zlevelList,k),1)};f.prototype.refreshHover=function(){this.clearHover();var o=this.storage.getHoverShapes(true);for(var n=0,m=o.length;n<m;n++){this._brushHover(o[n])}var k=this._layers.hover.ctx;k.flush&&k.flush();this.storage.delHover();return this};f.prototype.clearHover=function(){var k=this._layers.hover;k&&k.clear();return this};f.prototype.showLoading=function(k){this._loadingEffect&&this._loadingEffect.stop();k&&this.setLoadingEffect(k);this._loadingEffect.start(this);this.loading=true;return this};f.prototype.hideLoading=function(){this._loadingEffect.stop();this.clearHover();this.loading=false;return this};f.prototype.isLoading=function(){return this.loading};f.prototype.resize=function(){var l=this._domRoot;l.style.display="none";var m=this._getWidth();var k=this._getHeight();l.style.display="";if(this._width!=m||k!=this._height){this._width=m;this._height=k;l.style.width=m+"px";l.style.height=k+"px";for(var n in this._layers){this._layers[n].resize(m,k)}this.refresh(null,true)}return this};f.prototype.clearLayer=function(l){var k=this._layers[l];if(k){k.clear()}};f.prototype.dispose=function(){if(this.isLoading()){this.hideLoading()}this.root.innerHTML="";this.root=this.storage=this._domRoot=this._layers=null};f.prototype.getDomHover=function(){return this._layers.hover.dom};f.prototype.toDataURL=function(p,n,o){if(window.G_vmlCanvasManager){return null}var l=new d("image",this);this._bgDom.appendChild(l.dom);l.initContext();var k=l.ctx;l.clearColor=n||"#fff";l.clear();var m=this;this.storage.iterShape(function(r){if(!r.invisible){if(!r.onbrush||r.onbrush&&!r.onbrush(k,false)){if(b.catchBrushException){try{r.brush(k,false,m.refreshNextFrame)}catch(s){e(s,"brush error of "+r.type,r)}}else{r.brush(k,false,m.refreshNextFrame)}}}},{normal:"up",update:true});var q=l.dom.toDataURL(p,o);k=null;this._bgDom.removeChild(l.dom);return q};f.prototype.getWidth=function(){return this._width};f.prototype.getHeight=function(){return this._height};f.prototype._getWidth=function(){var k=this.root;var l=k.currentStyle||document.defaultView.getComputedStyle(k);return((k.clientWidth||parseInt(l.width,10))-parseInt(l.paddingLeft,10)-parseInt(l.paddingRight,10)).toFixed(0)-0};f.prototype._getHeight=function(){var k=this.root;var l=k.currentStyle||document.defaultView.getComputedStyle(k);return((k.clientHeight||parseInt(l.height,10))-parseInt(l.paddingTop,10)-parseInt(l.paddingBottom,10)).toFixed(0)-0};f.prototype._brushHover=function(l){var k=this._layers.hover.ctx;if(!l.onbrush||l.onbrush&&!l.onbrush(k,true)){var n=this.getLayer(l.zlevel);if(n.needTransform){k.save();n.setTransform(k)}if(b.catchBrushException){try{l.brush(k,true,this.refreshNextFrame)}catch(m){e(m,"hoverBrush error of "+l.type,l)}}else{l.brush(k,true,this.refreshNextFrame)}if(n.needTransform){k.restore()}}};f.prototype._shapeToImage=function(l,q,m,s,r){var n=document.createElement("canvas");var t=n.getContext("2d");n.style.width=m+"px";n.style.height=s+"px";n.setAttribute("width",m*r);n.setAttribute("height",s*r);t.clearRect(0,0,m*r,s*r);var p={position:q.position,rotation:q.rotation,scale:q.scale};q.position=[0,0,0];q.rotation=0;q.scale=[1,1];if(q){q.brush(t,false)}var k=c("./shape/Image");var o=new k({id:l,style:{x:0,y:0,image:n}});if(p.position!=null){o.position=q.position=p.position}if(p.rotation!=null){o.rotation=q.rotation=p.rotation}if(p.scale!=null){o.scale=q.scale=p.scale}return o};f.prototype._createShapeToImageProcessor=function(){if(window.G_vmlCanvasManager){return h}var k=this;return function(o,n,m,l){return k._shapeToImage(o,n,m,l,b.devicePixelRatio)}};return f});define("zrender/Storage",["require","./tool/util","./Group"],function(d){var a=d("./tool/util");var c=d("./Group");var b={hover:false,normal:"down",update:false};function f(h,g){if(h.zlevel==g.zlevel){if(h.z==g.z){return h.__renderidx-g.__renderidx}return h.z-g.z}return h.zlevel-g.zlevel}var e=function(){this._elements={};this._hoverElements=[];this._roots=[];this._shapeList=[];this._shapeListOffset=0};e.prototype.iterShape=function(h,m){if(!m){m=b}if(m.hover){for(var j=0,g=this._hoverElements.length;j<g;j++){var k=this._hoverElements[j];k.updateTransform();if(h(k)){return this}}}if(m.update){this.updateShapeList()}switch(m.normal){case"down":var g=this._shapeList.length;while(g--){if(h(this._shapeList[g])){return this}}break;default:for(var j=0,g=this._shapeList.length;j<g;j++){if(h(this._shapeList[j])){return this}}break}return this};e.prototype.getHoverShapes=function(r){var h=[];for(var p=0,g=this._hoverElements.length;p<g;p++){h.push(this._hoverElements[p]);var q=this._hoverElements[p].hoverConnect;if(q){var n;q=q instanceof Array?q:[q];for(var o=0,m=q.length;o<m;o++){n=q[o].id?q[o]:this.get(q[o]);if(n){h.push(n)}}}}h.sort(f);if(r){for(var p=0,g=h.length;p<g;p++){h[p].updateTransform()}}return h};e.prototype.getShapeList=function(g){if(g){this.updateShapeList()}return this._shapeList};e.prototype.updateShapeList=function(){this._shapeListOffset=0;for(var j=0,g=this._roots.length;j<g;j++){var h=this._roots[j];this._updateAndAddShape(h)}this._shapeList.length=this._shapeListOffset;for(var j=0,g=this._shapeList.length;j<g;j++){this._shapeList[j].__renderidx=j}this._shapeList.sort(f)};e.prototype._updateAndAddShape=function(h,j){if(h.ignore){return}h.updateTransform();if(h.clipShape){h.clipShape.parent=h;h.clipShape.updateTransform();if(j){j=j.slice();j.push(h.clipShape)}else{j=[h.clipShape]}}if(h.type=="group"){for(var g=0;g<h._children.length;g++){var k=h._children[g];k.__dirty=h.__dirty||k.__dirty;this._updateAndAddShape(k,j)}h.__dirty=false}else{h.__clipShapes=j;this._shapeList[this._shapeListOffset++]=h}};e.prototype.mod=function(h,j){if(typeof h==="string"){h=this._elements[h]}if(h){h.modSelf();if(j){if(j.parent||j._storage||j.__clipShapes){var i={};for(var g in j){if(g==="parent"||g==="_storage"||g==="__clipShapes"){continue}if(j.hasOwnProperty(g)){i[g]=j[g]}}a.merge(h,i,true)}else{a.merge(h,j,true)}}}return this};e.prototype.drift=function(j,i,g){var h=this._elements[j];if(h){h.needTransform=true;if(h.draggable==="horizontal"){g=0}else{if(h.draggable==="vertical"){i=0}}if(!h.ondrift||h.ondrift&&!h.ondrift(i,g)){h.drift(i,g)}}return this};e.prototype.addHover=function(g){g.updateNeedTransform();this._hoverElements.push(g);return this};e.prototype.delHover=function(){this._hoverElements=[];return this};e.prototype.hasHoverShape=function(){return this._hoverElements.length>0};e.prototype.addRoot=function(g){if(this._elements[g.id]){return}if(g instanceof c){g.addChildrenToStorage(this)}this.addToMap(g);this._roots.push(g)};e.prototype.delRoot=function(k){if(typeof k=="undefined"){for(var m=0;m<this._roots.length;m++){var j=this._roots[m];if(j instanceof c){j.delChildrenFromStorage(this)}}this._elements={};this._hoverElements=[];this._roots=[];this._shapeList=[];this._shapeListOffset=0;return}if(k instanceof Array){for(var m=0,h=k.length;m<h;m++){this.delRoot(k[m])}return}var n;if(typeof k=="string"){n=this._elements[k]}else{n=k}var g=a.indexOf(this._roots,n);if(g>=0){this.delFromMap(n.id);this._roots.splice(g,1);if(n instanceof c){n.delChildrenFromStorage(this)}}};e.prototype.addToMap=function(g){if(g instanceof c){g._storage=this}g.modSelf();this._elements[g.id]=g;return this};e.prototype.get=function(g){return this._elements[g]};e.prototype.delFromMap=function(g){var h=this._elements[g];if(h){delete this._elements[g];if(h instanceof c){h._storage=null}}return this};e.prototype.dispose=function(){this._elements=this._renderList=this._roots=this._hoverElements=null};return e});define("zrender/animation/Animation",["require","./Clip","../tool/color","../tool/util","../tool/event"],function(h){var b=h("./Clip");var m=h("../tool/color");var a=h("../tool/util");var l=h("../tool/event").Dispatcher;var f=window.requestAnimationFrame||window.msRequestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||function(s){setTimeout(s,16)};var r=Array.prototype.slice;var p=function(s){s=s||{};this.stage=s.stage||{};this.onframe=s.onframe||function(){};this._clips=[];this._running=false;this._time=0;l.call(this)};p.prototype={add:function(s){this._clips.push(s)},remove:function(t){var s=a.indexOf(this._clips,t);if(s>=0){this._clips.splice(s,1)}},_update:function(){var u=new Date().getTime();var A=u-this._time;var s=this._clips;var x=s.length;var t=[];var z=[];for(var w=0;w<x;w++){var v=s[w];var y=v.step(u);if(y){t.push(y);z.push(v)}}for(var w=0;w<x;){if(s[w]._needsRemove){s[w]=s[x-1];s.pop();x--}else{w++}}x=t.length;for(var w=0;w<x;w++){z[w].fire(t[w])}this._time=u;this.onframe(A);this.dispatch("frame",A);if(this.stage.update){this.stage.update()}},start:function(){var s=this;this._running=true;function t(){if(s._running){f(t);s._update()}}this._time=new Date().getTime();f(t)},stop:function(){this._running=false},clear:function(){this._clips=[]},animate:function(u,t){t=t||{};var s=new q(u,t.loop,t.getter,t.setter);s.animation=this;return s},constructor:p};a.merge(p.prototype,l.prototype,true);function e(t,s){return t[s]}function c(u,s,t){u[s]=t}function k(u,t,s){return(t-u)*s+u}function o(A,z,x,u,y){var w=A.length;if(y==1){for(var v=0;v<w;v++){u[v]=k(A[v],z[v],x)}}else{var s=A[0].length;for(var v=0;v<w;v++){for(var t=0;t<s;t++){u[v][t]=k(A[v][t],z[v][t],x)}}}}function d(s){switch(typeof s){case"undefined":case"string":return false}return typeof s.length!=="undefined"}function i(E,D,C,B,F,y,x,v,A){var z=E.length;if(A==1){for(var w=0;w<z;w++){v[w]=g(E[w],D[w],C[w],B[w],F,y,x)}}else{var s=E[0].length;for(var w=0;w<z;w++){for(var u=0;u<s;u++){v[w][u]=g(E[w][u],D[w][u],C[w][u],B[w][u],F,y,x)}}}}function g(A,z,x,w,B,u,s){var y=(x-A)*0.5;var v=(w-z)*0.5;return(2*(z-x)+y+v)*s+(-3*(z-x)-2*y-v)*u+y*B+z}function j(v){if(d(v)){var s=v.length;if(d(v[0])){var t=[];for(var u=0;u<s;u++){t.push(r.call(v[u]))}return t}else{return r.call(v)}}else{return v}}function n(s){s[0]=Math.floor(s[0]);s[1]=Math.floor(s[1]);s[2]=Math.floor(s[2]);return"rgba("+s.join(",")+")"}var q=function(u,t,s,v){this._tracks={};this._target=u;this._loop=t||false;this._getter=s||e;this._setter=v||c;this._clipCount=0;this._delay=0;this._doneList=[];this._onframeList=[];this._clipList=[]};q.prototype={when:function(u,s){for(var t in s){if(!this._tracks[t]){this._tracks[t]=[];if(u!==0){this._tracks[t].push({time:0,value:j(this._getter(this._target,t))})}}this._tracks[t].push({time:parseInt(u,10),value:s[t]})}return this},during:function(s){this._onframeList.push(s);return this},start:function(z){var u=this;var y=this._setter;var t=this._getter;var v=z==="spline";var x=function(){u._clipCount--;if(u._clipCount===0){u._tracks={};var A=u._doneList.length;for(var B=0;B<A;B++){u._doneList[B].call(u)}}};var s=function(N,M){var A=N.length;if(!A){return}var P=N[0].value;var Q=d(P);var F=false;var G=Q&&d(P[0])?2:1;N.sort(function(Y,X){return Y.time-X.time});var K;if(A){K=N[A-1].time}else{return}var S=[];var W=[];for(var R=0;R<A;R++){S.push(N[R].time/K);var O=N[R].value;if(typeof O=="string"){O=m.toArray(O);if(O.length===0){O[0]=O[1]=O[2]=0;O[3]=1}F=true}W.push(O)}var J=0;var V=0;var H;var R;var L;var E;var D;var C;var B;if(F){var I=[0,0,0,0]}var U=function(aa,Y){if(Y<V){H=Math.min(J+1,A-1);for(R=H;R>=0;R--){if(S[R]<=Y){break}}R=Math.min(R,A-2)}else{for(R=J;R<A;R++){if(S[R]>Y){break}}R=Math.min(R-1,A-2)}J=R;V=Y;var X=S[R+1]-S[R];if(X===0){return}else{L=(Y-S[R])/X}if(v){D=W[R];E=W[R===0?R:R-1];C=W[R>A-2?A-1:R+1];B=W[R>A-3?A-1:R+2];if(Q){i(E,D,C,B,L,L*L,L*L*L,t(aa,M),G)}else{var Z;if(F){Z=i(E,D,C,B,L,L*L,L*L*L,I,1);Z=n(I)}else{Z=g(E,D,C,B,L,L*L,L*L*L)}y(aa,M,Z)}}else{if(Q){o(W[R],W[R+1],L,t(aa,M),G)}else{var Z;if(F){o(W[R],W[R+1],L,I,1);Z=n(I)}else{Z=k(W[R],W[R+1],L)}y(aa,M,Z)}}for(R=0;R<u._onframeList.length;R++){u._onframeList[R](aa,Y)}};var T=new b({target:u._target,life:K,loop:u._loop,delay:u._delay,onframe:U,ondestroy:x});if(z&&z!=="spline"){T.easing=z}u._clipList.push(T);u._clipCount++;u.animation.add(T)};for(var w in this._tracks){s(this._tracks[w],w)}return this},stop:function(){for(var s=0;s<this._clipList.length;s++){var t=this._clipList[s];this.animation.remove(t)}this._clipList=[]},delay:function(s){this._delay=s;return this},done:function(s){if(s){this._doneList.push(s)}return this}};return p});define("zrender/tool/vector",[],function(){var a=typeof Float32Array==="undefined"?Array:Float32Array;var b={create:function(c,e){var d=new a(2);d[0]=c||0;d[1]=e||0;return d},copy:function(d,c){d[0]=c[0];d[1]=c[1];return d},clone:function(c){var d=new a(2);d[0]=c[0];d[1]=c[1];return d},set:function(e,d,c){e[0]=d;e[1]=c;return e},add:function(c,e,d){c[0]=e[0]+d[0];c[1]=e[1]+d[1];return c},scaleAndAdd:function(d,f,e,c){d[0]=f[0]+e[0]*c;d[1]=f[1]+e[1]*c;return d},sub:function(c,e,d){c[0]=e[0]-d[0];c[1]=e[1]-d[1];return c},len:function(c){return Math.sqrt(this.lenSquare(c))},lenSquare:function(c){return c[0]*c[0]+c[1]*c[1]},mul:function(c,e,d){c[0]=e[0]*d[0];c[1]=e[1]*d[1];return c},div:function(c,e,d){c[0]=e[0]/d[0];c[1]=e[1]/d[1];return c},dot:function(d,c){return d[0]*c[0]+d[1]*c[1]},scale:function(d,c,e){d[0]=c[0]*e;d[1]=c[1]*e;return d},normalize:function(e,c){var f=b.len(c);if(f===0){e[0]=0;e[1]=0}else{e[0]=c[0]/f;e[1]=c[1]/f}return e},distance:function(d,c){return Math.sqrt((d[0]-c[0])*(d[0]-c[0])+(d[1]-c[1])*(d[1]-c[1]))},distanceSquare:function(d,c){return(d[0]-c[0])*(d[0]-c[0])+(d[1]-c[1])*(d[1]-c[1])},negate:function(d,c){d[0]=-c[0];d[1]=-c[1];return d},lerp:function(c,f,e,d){c[0]=f[0]+d*(e[0]-f[0]);c[1]=f[1]+d*(e[1]-f[1]);return c},applyTransform:function(f,e,d){var c=e[0];var g=e[1];f[0]=d[0]*c+d[2]*g+d[4];f[1]=d[1]*c+d[3]*g+d[5];return f},min:function(c,e,d){c[0]=Math.min(e[0],d[0]);c[1]=Math.min(e[1],d[1]);return c},max:function(c,e,d){c[0]=Math.max(e[0],d[0]);c[1]=Math.max(e[1],d[1]);return c}};b.length=b.len;b.lengthSquare=b.lenSquare;b.dist=b.distance;b.distSquare=b.distanceSquare;return b});define("zrender/tool/matrix",[],function(){var a=typeof Float32Array==="undefined"?Array:Float32Array;var b={create:function(){var c=new a(6);b.identity(c);return c},identity:function(c){c[0]=1;c[1]=0;c[2]=0;c[3]=1;c[4]=0;c[5]=0;return c},copy:function(d,c){d[0]=c[0];d[1]=c[1];d[2]=c[2];d[3]=c[3];d[4]=c[4];d[5]=c[5];return d},mul:function(e,d,c){e[0]=d[0]*c[0]+d[2]*c[1];e[1]=d[1]*c[0]+d[3]*c[1];e[2]=d[0]*c[2]+d[2]*c[3];e[3]=d[1]*c[2]+d[3]*c[3];e[4]=d[0]*c[4]+d[2]*c[5]+d[4];e[5]=d[1]*c[4]+d[3]*c[5]+d[5];return e},translate:function(e,c,d){e[0]=c[0];e[1]=c[1];e[2]=c[2];e[3]=c[3];e[4]=c[4]+d[0];e[5]=c[5]+d[1];return e},rotate:function(d,i,h){var c=i[0];var l=i[2];var g=i[4];var m=i[1];var j=i[3];var e=i[5];var k=Math.sin(h);var f=Math.cos(h);d[0]=c*f+m*k;d[1]=-c*k+m*f;d[2]=l*f+j*k;d[3]=-l*k+f*j;d[4]=f*g+k*e;d[5]=f*e-k*g;return d},scale:function(e,c,d){var g=d[0];var f=d[1];e[0]=c[0]*g;e[1]=c[1]*f;e[2]=c[2]*g;e[3]=c[3]*f;e[4]=c[4]*g;e[5]=c[5]*f;return e},invert:function(d,h){var c=h[0];var j=h[2];var f=h[4];var k=h[1];var i=h[3];var e=h[5];var g=c*i-k*j;if(!g){return null}g=1/g;d[0]=i*g;d[1]=-k*g;d[2]=-j*g;d[3]=c*g;d[4]=(j*e-i*f)*g;d[5]=(k*f-c*e)*g;return d}};return b});define("zrender/loadingEffect/Base",["require","../tool/util","../shape/Text","../shape/Rectangle"],function(c){var a=c("../tool/util");var e=c("../shape/Text");var g=c("../shape/Rectangle");var f="Loading...";var b="normal 16px Arial";function d(h){this.setOptions(h)}d.prototype.createTextShape=function(h){return new e({highlightStyle:a.merge({x:this.canvasWidth/2,y:this.canvasHeight/2,text:f,textAlign:"center",textBaseline:"middle",textFont:b,color:"#333",brushType:"fill"},h,true)})};d.prototype.createBackgroundShape=function(h){return new g({highlightStyle:{x:0,y:0,width:this.canvasWidth,height:this.canvasHeight,brushType:"fill",color:h}})};d.prototype.start=function(h){this.canvasWidth=h._width;this.canvasHeight=h._height;function i(k){h.storage.addHover(k)}function j(){h.refreshHover()}this.loadingTimer=this._start(i,j)};d.prototype._start=function(){return setInterval(function(){},10000)};d.prototype.stop=function(){clearInterval(this.loadingTimer)};d.prototype.setOptions=function(h){this.options=h||{}};d.prototype.adjust=function(h,i){if(h<=i[0]){h=i[0]}else{if(h>=i[1]){h=i[1]}}return h};d.prototype.getLocation=function(k,i,j){var h=k.x!=null?k.x:"center";switch(h){case"center":h=Math.floor((this.canvasWidth-i)/2);break;case"left":h=0;break;case"right":h=this.canvasWidth-i;break}var l=k.y!=null?k.y:"center";switch(l){case"center":l=Math.floor((this.canvasHeight-j)/2);break;case"top":l=0;break;case"bottom":l=this.canvasHeight-j;break}return{x:h,y:l,width:i,height:j}};return d});define("zrender/Layer",["require","./mixin/Transformable","./tool/util","./config"],function(d){var a=d("./mixin/Transformable");var b=d("./tool/util");var f=window.G_vmlCanvasManager;var c=d("./config");function e(){return false}function g(n,m,j){var k=document.createElement(m);var l=j.getWidth();var i=j.getHeight();k.style.position="absolute";k.style.left=0;k.style.top=0;k.style.width=l+"px";k.style.height=i+"px";k.width=l*c.devicePixelRatio;k.height=i*c.devicePixelRatio;k.setAttribute("data-zr-dom-id",n);return k}var h=function(j,i){this.id=j;this.dom=g(j,"canvas",i);this.dom.onselectstart=e;this.dom.style["-webkit-user-select"]="none";this.dom.style["user-select"]="none";this.dom.style["-webkit-touch-callout"]="none";this.dom.style["-webkit-tap-highlight-color"]="rgba(0,0,0,0)";this.dom.className=c.elementClassName;f&&f.initElement(this.dom);this.domBack=null;this.ctxBack=null;this.painter=i;this.unusedCount=0;this.config=null;this.dirty=true;this.elCount=0;this.clearColor=0;this.motionBlur=false;this.lastFrameAlpha=0.7;this.zoomable=false;this.panable=false;this.maxZoom=Infinity;this.minZoom=0;a.call(this)};h.prototype.initContext=function(){this.ctx=this.dom.getContext("2d");var i=c.devicePixelRatio;if(i!=1){this.ctx.scale(i,i)}};h.prototype.createBackBuffer=function(){if(f){return}this.domBack=g("back-"+this.id,"canvas",this.painter);this.ctxBack=this.domBack.getContext("2d");var i=c.devicePixelRatio;if(i!=1){this.ctxBack.scale(i,i)}};h.prototype.resize=function(j,i){var k=c.devicePixelRatio;this.dom.style.width=j+"px";this.dom.style.height=i+"px";this.dom.setAttribute("width",j*k);this.dom.setAttribute("height",i*k);if(k!=1){this.ctx.scale(k,k)}if(this.domBack){this.domBack.setAttribute("width",j*k);this.domBack.setAttribute("height",i*k);if(k!=1){this.ctxBack.scale(k,k)}}};h.prototype.clear=function(){var k=this.dom;var q=this.ctx;var j=k.width;var p=k.height;var m=this.clearColor&&!f;var o=this.motionBlur&&!f;var i=this.lastFrameAlpha;var n=c.devicePixelRatio;if(o){if(!this.domBack){this.createBackBuffer()}this.ctxBack.globalCompositeOperation="copy";this.ctxBack.drawImage(k,0,0,j/n,p/n)}q.clearRect(0,0,j/n,p/n);if(m){q.save();q.fillStyle=this.clearColor;q.fillRect(0,0,j/n,p/n);q.restore()}if(o){var l=this.domBack;q.save();q.globalAlpha=i;q.drawImage(l,0,0,j/n,p/n);q.restore()}};b.merge(h.prototype,a.prototype);return h});define("zrender/shape/Text",["require","../tool/area","./Base","../tool/util"],function(a){var d=a("../tool/area");var b=a("./Base");var c=function(e){b.call(this,e)};c.prototype={type:"text",brush:function(p,g){var e=this.style;if(g){e=this.getHighlightStyle(e,this.highlightStyle||{})}if(typeof e.text=="undefined"||e.text===false){return}p.save();this.doClip(p);this.setContext(p,e);this.setTransform(p);if(e.textFont){p.font=e.textFont}p.textAlign=e.textAlign||"start";p.textBaseline=e.textBaseline||"middle";var o=(e.text+"").split("\n");var n=d.getTextHeight("国",e.textFont);var k=this.getRect(e);var m=e.x;var j;if(e.textBaseline=="top"){j=k.y}else{if(e.textBaseline=="bottom"){j=k.y+n}else{j=k.y+n/2}}for(var h=0,f=o.length;h<f;h++){if(e.maxWidth){switch(e.brushType){case"fill":p.fillText(o[h],m,j,e.maxWidth);break;case"stroke":p.strokeText(o[h],m,j,e.maxWidth);break;case"both":p.fillText(o[h],m,j,e.maxWidth);p.strokeText(o[h],m,j,e.maxWidth);break;default:p.fillText(o[h],m,j,e.maxWidth)}}else{switch(e.brushType){case"fill":p.fillText(o[h],m,j);break;case"stroke":p.strokeText(o[h],m,j);break;case"both":p.fillText(o[h],m,j);p.strokeText(o[h],m,j);break;default:p.fillText(o[h],m,j)}}j+=n}p.restore();return},getRect:function(i){if(i.__rect){return i.__rect}var h=d.getTextWidth(i.text,i.textFont);var f=d.getTextHeight(i.text,i.textFont);var g=i.x;if(i.textAlign=="end"||i.textAlign=="right"){g-=h}else{if(i.textAlign=="center"){g-=h/2}}var e;if(i.textBaseline=="top"){e=i.y}else{if(i.textBaseline=="bottom"){e=i.y-f}else{e=i.y-f/2}}i.__rect={x:g,y:e,width:h,height:f};return i.__rect}};a("../tool/util").inherits(c,b);return c});define("zrender/shape/Rectangle",["require","./Base","../tool/util"],function(a){var c=a("./Base");var b=function(d){c.call(this,d)};b.prototype={type:"rectangle",_buildRadiusPath:function(o,f){var m=f.x;var l=f.y;var h=f.width;var n=f.height;var d=f.radius;var j;var i;var g;var e;if(typeof d==="number"){j=i=g=e=d}else{if(d instanceof Array){if(d.length===1){j=i=g=e=d[0]}else{if(d.length===2){j=g=d[0];i=e=d[1]}else{if(d.length===3){j=d[0];i=e=d[1];g=d[2]}else{j=d[0];i=d[1];g=d[2];e=d[3]}}}}else{j=i=g=e=0}}var k;if(j+i>h){k=j+i;j*=h/k;i*=h/k}if(g+e>h){k=g+e;g*=h/k;e*=h/k}if(i+g>n){k=i+g;i*=n/k;g*=n/k}if(j+e>n){k=j+e;j*=n/k;e*=n/k}o.moveTo(m+j,l);o.lineTo(m+h-i,l);i!==0&&o.quadraticCurveTo(m+h,l,m+h,l+i);o.lineTo(m+h,l+n-g);g!==0&&o.quadraticCurveTo(m+h,l+n,m+h-g,l+n);o.lineTo(m+e,l+n);e!==0&&o.quadraticCurveTo(m,l+n,m,l+n-e);o.lineTo(m,l+j);j!==0&&o.quadraticCurveTo(m,l,m+j,l)},buildPath:function(d,e){if(!e.radius){d.moveTo(e.x,e.y);d.lineTo(e.x+e.width,e.y);d.lineTo(e.x+e.width,e.y+e.height);d.lineTo(e.x,e.y+e.height);d.lineTo(e.x,e.y)}else{this._buildRadiusPath(d,e)}d.closePath();return},getRect:function(e){if(e.__rect){return e.__rect}var d;if(e.brushType=="stroke"||e.brushType=="fill"){d=e.lineWidth||1}else{d=0}e.__rect={x:Math.round(e.x-d/2),y:Math.round(e.y-d/2),width:e.width+d,height:e.height+d};return e.__rect}};a("../tool/util").inherits(b,c);return b});define("zrender/tool/area",["require","./util","./curve"],function(j){var c=j("./util");var x=j("./curve");var F;var a={};var m={};var v=0;var p=0;var l=5000;var b=Math.PI*2;function g(J){J%=b;if(J<0){J+=b}return J}function e(K,L,J,P){if(!L||!K){return false}var O=K.type;F=F||c.getContext();var N=I(K,L,J,P);if(typeof N!="undefined"){return N}if(K.buildPath&&F.isPointInPath){return u(K,F,L,J,P)}switch(O){case"ellipse":return true;case"trochoid":var M=L.location=="out"?L.r1+L.r2+L.d:L.r1-L.r2+L.d;return s(L,J,P,M);case"rose":return s(L,J,P,L.maxr);default:return false}}function I(L,O,J,Q){var P=L.type;switch(P){case"bezier-curve":if(typeof O.cpX2==="undefined"){return A(O.xStart,O.yStart,O.cpX1,O.cpY1,O.xEnd,O.yEnd,O.lineWidth,J,Q)}return E(O.xStart,O.yStart,O.cpX1,O.cpY1,O.cpX2,O.cpY2,O.xEnd,O.yEnd,O.lineWidth,J,Q);case"line":return C(O.xStart,O.yStart,O.xEnd,O.yEnd,O.lineWidth,J,Q);case"polyline":return q(O.pointList,O.lineWidth,J,Q);case"ring":return w(O.x,O.y,O.r0,O.r,J,Q);case"circle":return s(O.x,O.y,O.r,J,Q);case"sector":var M=O.startAngle*Math.PI/180;var K=O.endAngle*Math.PI/180;if(!O.clockWise){M=-M;K=-K}return o(O.x,O.y,O.r0,O.r,M,K,!O.clockWise,J,Q);case"path":return O.pathArray&&H(O.pathArray,Math.max(O.lineWidth,5),O.brushType,J,Q);case"polygon":case"star":case"isogon":return B(O.pointList,J,Q);case"text":var N=O.__rect||L.getRect(O);return h(N.x,N.y,N.width,N.height,J,Q);case"rectangle":case"image":return h(O.x,O.y,O.width,O.height,J,Q)}}function u(K,L,M,J,N){L.beginPath();K.buildPath(L,M);L.closePath();return L.isPointInPath(J,N)}function G(K,L,J,M){return !e(K,L,J,M)}function C(K,T,J,R,N,S,Q){if(N===0){return false}var L=Math.max(N,5);var P=0;var O=K;if(Q>T+L&&Q>R+L||Q<T-L&&Q<R-L||S>K+L&&S>J+L||S<K-L&&S<J-L){return false}if(K!==J){P=(T-R)/(K-J);O=(K*R-J*T)/(K-J)}else{return Math.abs(S-K)<=L/2}var M=P*S-Q+O;var U=M*M/(P*P+1);return U<=L/2*L/2}function E(M,V,L,U,K,S,J,Q,O,T,R){if(O===0){return false}var N=Math.max(O,5);if(R>V+N&&R>U+N&&R>S+N&&R>Q+N||R<V-N&&R<U-N&&R<S-N&&R<Q-N||T>M+N&&T>L+N&&T>K+N&&T>J+N||T<M-N&&T<L-N&&T<K-N&&T<J-N){return false}var P=x.cubicProjectPoint(M,V,L,U,K,S,J,Q,T,R,null);return P<=N/2}function A(L,T,K,R,J,Q,N,S,P){if(N===0){return false}var M=Math.max(N,5);if(P>T+M&&P>R+M&&P>Q+M||P<T-M&&P<R-M&&P<Q-M||S>L+M&&S>K+M&&S>J+M||S<L-M&&S<K-M&&S<J-M){return false}var O=x.quadraticProjectPoint(L,T,K,R,J,Q,S,P,null);return O<=M/2}function t(P,O,J,S,K,M,R,V,U){if(R===0){return false}var L=Math.max(R,5);V-=P;U-=O;var T=Math.sqrt(V*V+U*U);if(T-L>J||T+L<J){return false}if(Math.abs(S-K)>=b){return true}if(M){var Q=S;S=g(K);K=g(Q)}else{S=g(S);K=g(K)}if(S>K){K+=b}var N=Math.atan2(U,V);if(N<0){N+=b}return N>=S&&N<=K||N+b>=S&&N+b<=K}function q(S,N,Q,O){var N=Math.max(N,10);for(var M=0,L=S.length-1;M<L;M++){var K=S[M][0];var R=S[M][1];var J=S[M+1][0];var P=S[M+1][1];if(C(K,R,J,P,N,Q,O)){return true}}return false}function w(K,P,L,M,J,O){var N=(J-K)*(J-K)+(O-P)*(O-P);return N<M*M&&N>L*L}function h(L,N,M,K,J,O){return J>=L&&J<=L+M&&O>=N&&O<=N+K}function s(K,M,L,J,N){return(J-K)*(J-K)+(N-M)*(N-M)<L*L}function o(O,N,M,J,P,K,L,R,Q){return t(O,N,(M+J)/2,P,K,L,J-M,R,Q)}function B(U,R,P){var O=U.length;var T=0;for(var M=0,L=O-1;M<O;M++){var K=U[L][0];var S=U[L][1];var J=U[M][0];var Q=U[M][1];T+=n(K,S,J,Q,R,P);L=M}return T!==0}function n(L,Q,K,O,P,N){if(N>Q&&N>O||N<Q&&N<O){return 0}if(O==Q){return 0}var M=O<Q?1:-1;var R=(N-Q)/(O-Q);var J=R*(K-L)+L;return J>P?M:0}var f=[-1,-1,-1];var z=[-1,-1];function r(){var J=z[0];z[0]=z[1];z[1]=J}function y(aa,N,Y,M,X,L,W,K,Q,P){if(P>N&&P>M&&P>L&&P>K||P<N&&P<M&&P<L&&P<K){return 0}var J=x.cubicRootAt(N,M,L,K,P,f);if(J===0){return 0}else{var R=0;var U=-1;var O,T;for(var V=0;V<J;V++){var S=f[V];var Z=x.cubicAt(aa,Y,X,W,S);if(Z<Q){continue}if(U<0){U=x.cubicExtrema(N,M,L,K,z);if(z[1]<z[0]&&U>1){r()}O=x.cubicAt(N,M,L,K,z[0]);if(U>1){T=x.cubicAt(N,M,L,K,z[1])}}if(U==2){if(S<z[0]){R+=O<N?1:-1}else{if(S<z[1]){R+=T<O?1:-1}else{R+=K<T?1:-1}}}else{if(S<z[0]){R+=O<N?1:-1}else{R+=K<O?1:-1}}}return R}}function D(M,V,L,S,J,Q,T,P){if(P>V&&P>S&&P>Q||P<V&&P<S&&P<Q){return 0}var O=x.quadraticRootAt(V,S,Q,P,f);if(O===0){return 0}else{var W=x.quadraticExtremum(V,S,Q);if(W>=0&&W<=1){var U=0;var R=x.quadraticAt(V,S,Q,W);for(var N=0;N<O;N++){var K=x.quadraticAt(M,L,J,f[N]);if(K<T){continue}if(f[N]<W){U+=R<V?1:-1}else{U+=Q<R?1:-1}}return U}else{var K=x.quadraticAt(M,L,J,f[0]);if(K<T){return 0}return Q<V?1:-1}}}function k(Q,P,J,T,L,N,V,U){U-=P;if(U>J||U<-J){return 0}var S=Math.sqrt(J*J-U*U);f[0]=-S;f[1]=S;if(Math.abs(T-L)>=b){T=0;L=b;var M=N?1:-1;if(V>=f[0]+Q&&V<=f[1]+Q){return M}else{return 0}}if(N){var S=T;T=g(L);L=g(S)}else{T=g(T);L=g(L)}if(T>L){L+=b}var W=0;for(var R=0;R<2;R++){var K=f[R];if(K+Q>V){var O=Math.atan2(U,K);var M=N?1:-1;if(O<0){O=b+O}if(O>=T&&O<=L||O+b>=T&&O+b<=L){if(O>Math.PI/2&&O<Math.PI*1.5){M=-M}W+=M}}}return W}function H(aa,K,R,U,T){var W=0;var Y=0;var ai=0;var ag=0;var O=0;var J=true;var V=true;R=R||"fill";var ah=R==="stroke"||R==="both";var X=R==="fill"||R==="both";for(var ab=0;ab<aa.length;ab++){var ae=aa[ab];var Z=ae.points;if(J||ae.command==="M"){if(ab>0){if(X){W+=n(Y,ai,ag,O,U,T)}if(W!==0){return true}}ag=Z[Z.length-2];O=Z[Z.length-1];J=false;if(V&&ae.command!=="A"){V=false;Y=ag;ai=O}}switch(ae.command){case"M":Y=Z[0];ai=Z[1];break;case"L":if(ah){if(C(Y,ai,Z[0],Z[1],K,U,T)){return true}}if(X){W+=n(Y,ai,Z[0],Z[1],U,T)}Y=Z[0];ai=Z[1];break;case"C":if(ah){if(E(Y,ai,Z[0],Z[1],Z[2],Z[3],Z[4],Z[5],K,U,T)){return true}}if(X){W+=y(Y,ai,Z[0],Z[1],Z[2],Z[3],Z[4],Z[5],U,T)}Y=Z[4];ai=Z[5];break;case"Q":if(ah){if(A(Y,ai,Z[0],Z[1],Z[2],Z[3],K,U,T)){return true}}if(X){W+=D(Y,ai,Z[0],Z[1],Z[2],Z[3],U,T)}Y=Z[2];ai=Z[3];break;case"A":var N=Z[0];var L=Z[1];var Q=Z[2];var P=Z[3];var S=Z[4];var af=Z[5];var ad=Math.cos(S)*Q+N;var M=Math.sin(S)*P+L;if(!V){W+=n(Y,ai,ad,M)}else{V=false;ag=ad;O=M}var ac=(U-N)*P/Q+N;if(ah){if(t(N,L,P,S,S+af,1-Z[7],K,ac,T)){return true}}if(X){W+=k(N,L,P,S,S+af,1-Z[7],ac,T)}Y=Math.cos(S+af)*Q+N;ai=Math.sin(S+af)*P+L;break;case"z":if(ah){if(C(Y,ai,ag,O,K,U,T)){return true}}J=true;break}}if(X){W+=n(Y,ai,ag,O,U,T)}return W!==0}function i(O,N){var L=O+":"+N;if(a[L]){return a[L]}F=F||c.getContext();F.save();if(N){F.font=N}O=(O+"").split("\n");var M=0;for(var K=0,J=O.length;K<J;K++){M=Math.max(F.measureText(O[K]).width,M)}F.restore();a[L]=M;if(++v>l){v=0;a={}}return M}function d(M,L){var K=M+":"+L;if(m[K]){return m[K]}F=F||c.getContext();F.save();if(L){F.font=L}M=(M+"").split("\n");var J=(F.measureText("国").width+2)*M.length;F.restore();m[K]=J;if(++p>l){p=0;m={}}return J}return{isInside:e,isOutside:G,getTextWidth:i,getTextHeight:d,isInsidePath:H,isInsidePolygon:B,isInsideSector:o,isInsideCircle:s,isInsideLine:C,isInsideRect:h,isInsidePolyline:q,isInsideCubicStroke:E,isInsideQuadraticStroke:A}});define("zrender/shape/Base",["require","../tool/matrix","../tool/guid","../tool/util","../tool/log","../mixin/Transformable","../mixin/Eventful","../tool/area","../tool/color"],function(d){var e=window.G_vmlCanvasManager;var m=d("../tool/matrix");var l=d("../tool/guid");var i=d("../tool/util");var f=d("../tool/log");var a=d("../mixin/Transformable");var j=d("../mixin/Eventful");function k(z,w,u,s,p,o,n){if(p){z.font=p}z.textAlign=o;z.textBaseline=n;var t=g(w,u,s,p,o,n);w=(w+"").split("\n");var v=d("../tool/area").getTextHeight("国",p);switch(n){case"top":s=t.y;break;case"bottom":s=t.y+v;break;default:s=t.y+v/2}for(var r=0,q=w.length;r<q;r++){z.fillText(w[r],u,s);s+=v}}function g(v,t,s,r,q,p){var n=d("../tool/area");var o=n.getTextWidth(v,r);var u=n.getTextHeight("国",r);v=(v+"").split("\n");switch(q){case"end":case"right":t-=o;break;case"center":t-=o/2;break}switch(p){case"top":break;case"bottom":s-=u*v.length;break;default:s-=u*v.length/2}return{x:t,y:s,width:o,height:u*v.length}}var h=function(n){n=n||{};this.id=n.id||l();for(var o in n){this[o]=n[o]}this.style=this.style||{};this.highlightStyle=this.highlightStyle||null;this.parent=null;this.__dirty=true;this.__clipShapes=[];a.call(this);j.call(this)};h.prototype.invisible=false;h.prototype.ignore=false;h.prototype.zlevel=0;h.prototype.draggable=false;h.prototype.clickable=false;h.prototype.hoverable=true;h.prototype.z=0;h.prototype.brush=function(n,p){var o=this.beforeBrush(n,p);n.beginPath();this.buildPath(n,o);switch(o.brushType){case"both":n.fill();case"stroke":o.lineWidth>0&&n.stroke();break;default:n.fill()}this.drawText(n,o,this.style);this.afterBrush(n)};h.prototype.beforeBrush=function(n,p){var o=this.style;if(this.brushTypeOnly){o.brushType=this.brushTypeOnly}if(p){o=this.getHighlightStyle(o,this.highlightStyle||{},this.brushTypeOnly)}if(this.brushTypeOnly=="stroke"){o.strokeColor=o.strokeColor||o.color}n.save();this.doClip(n);this.setContext(n,o);this.setTransform(n);return o};h.prototype.afterBrush=function(n){n.restore()};var c=[["color","fillStyle"],["strokeColor","strokeStyle"],["opacity","globalAlpha"],["lineCap","lineCap"],["lineJoin","lineJoin"],["miterLimit","miterLimit"],["lineWidth","lineWidth"],["shadowBlur","shadowBlur"],["shadowColor","shadowColor"],["shadowOffsetX","shadowOffsetX"],["shadowOffsetY","shadowOffsetY"]];h.prototype.setContext=function(p,t){for(var s=0,o=c.length;s<o;s++){var n=c[s][0];var r=t[n];var q=c[s][1];if(typeof r!="undefined"){p[q]=r}}};var b=m.create();h.prototype.doClip=function(o){if(this.__clipShapes&&!e){for(var p=0;p<this.__clipShapes.length;p++){var q=this.__clipShapes[p];if(q.needTransform){var n=q.transform;m.invert(b,n);o.transform(n[0],n[1],n[2],n[3],n[4],n[5])}o.beginPath();q.buildPath(o,q.style);o.clip();if(q.needTransform){var n=b;o.transform(n[0],n[1],n[2],n[3],n[4],n[5])}}}};h.prototype.getHighlightStyle=function(r,p,q){var s={};for(var o in r){s[o]=r[o]}var n=d("../tool/color");var t=n.getHighlightColor();if(r.brushType!="stroke"){s.strokeColor=t;s.lineWidth=(r.lineWidth||1)+this.getHighlightZoom();s.brushType="both"}else{if(q!="stroke"){s.strokeColor=t;s.lineWidth=(r.lineWidth||1)+this.getHighlightZoom()}else{s.strokeColor=p.strokeColor||n.mix(r.strokeColor,n.toRGB(t))}}for(var o in p){if(typeof p[o]!="undefined"){s[o]=p[o]}}return s};h.prototype.getHighlightZoom=function(){return this.type!="text"?6:2};h.prototype.drift=function(o,n){this.position[0]+=o;this.position[1]+=n};h.prototype.buildPath=function(n,o){f("buildPath not implemented in "+this.type)};h.prototype.getRect=function(n){f("getRect not implemented in "+this.type)};h.prototype.isCover=function(n,p){var o=this.transformCoordToLocal(n,p);n=o[0];p=o[1];if(this.isCoverRect(n,p)){return d("../tool/area").isInside(this,this.style,n,p)}return false};h.prototype.isCoverRect=function(n,p){var o=this.style.__rect;if(!o){o=this.style.__rect=this.getRect(this.style)}return n>=o.x&&n<=o.x+o.width&&p>=o.y&&p<=o.y+o.height};h.prototype.drawText=function(y,A,t){if(typeof A.text=="undefined"||A.text===false){return}var r=A.textColor||A.color||A.strokeColor;y.fillStyle=r;var C=10;var z;var n;var E;var D;var q=A.textPosition||this.textPosition||"top";switch(q){case"inside":case"top":case"bottom":case"left":case"right":if(this.getRect){var o=(t||A).__rect||this.getRect(t||A);switch(q){case"inside":E=o.x+o.width/2;D=o.y+o.height/2;z="center";n="middle";if(A.brushType!="stroke"&&r==A.color){y.fillStyle="#fff"}break;case"left":E=o.x-C;D=o.y+o.height/2;z="end";n="middle";break;case"right":E=o.x+o.width+C;D=o.y+o.height/2;z="start";n="middle";break;case"top":E=o.x+o.width/2;D=o.y-C;z="center";n="bottom";break;case"bottom":E=o.x+o.width/2;D=o.y+o.height+C;z="center";n="top";break}}break;case"start":case"end":var x=A.pointList||[[A.xStart||0,A.yStart||0],[A.xEnd||0,A.yEnd||0]];var p=x.length;if(p<2){return}var s;var u;var v;var w;switch(q){case"start":s=x[1][0];u=x[0][0];v=x[1][1];w=x[0][1];break;case"end":s=x[p-2][0];u=x[p-1][0];v=x[p-2][1];w=x[p-1][1];break}E=u;D=w;var B=Math.atan((v-w)/(u-s))/Math.PI*180;if(u-s<0){B+=180}else{if(v-w<0){B+=360}}C=5;if(B>=30&&B<=150){z="center";n="bottom";D-=C}else{if(B>150&&B<210){z="right";n="middle";E-=C}else{if(B>=210&&B<=330){z="center";n="top";D+=C}else{z="left";n="middle";E+=C}}}break;case"specific":E=A.textX||0;D=A.textY||0;z="start";n="middle";break}if(E!=null&&D!=null){k(y,A.text,E,D,A.textFont,A.textAlign||z,A.textBaseline||n)}};h.prototype.modSelf=function(){this.__dirty=true;if(this.style){this.style.__rect=null}if(this.highlightStyle){this.highlightStyle.__rect=null}};h.prototype.isSilent=function(){return !(this.hoverable||this.draggable||this.clickable||this.onmousemove||this.onmouseover||this.onmouseout||this.onmousedown||this.onmouseup||this.onclick||this.ondragenter||this.ondragover||this.ondragleave||this.ondrop)};i.merge(h.prototype,a.prototype,true);i.merge(h.prototype,j.prototype,true);return h});define("zrender/tool/curve",["require","./vector"],function(g){var d=g("./vector");"use strict";var k=0.0001;var p=Math.sqrt(3);var j=1/3;var q=d.create();var o=d.create();var m=d.create();function f(w){return w>-k&&w<k}function n(w){return w>k||w<-k}function a(B,A,z,y,w){var x=1-w;return x*x*(x*B+3*w*A)+w*w*(w*y+3*x*z)}function b(B,A,z,y,w){var x=1-w;return 3*(((A-B)*x+2*(z-A)*w)*x+(y-z)*w*w)}function v(E,D,z,x,aa,J){var Z=x+3*(D-z)-E;var Y=3*(z-D*2+E);var X=3*(D-E);var V=E-aa;var S=Y*Y-3*Z*X;var R=Y*X-9*Z*V;var Q=X*X-3*Y*V;var U=0;if(f(S)&&f(R)){if(f(Y)){J[0]=0}else{var P=-X/Y;if(P>=0&&P<=1){J[U++]=P}}}else{var w=R*R-4*S*Q;if(f(w)){var N=R/S;var P=-Y/Z+N;var O=-N/2;if(P>=0&&P<=1){J[U++]=P}if(O>=0&&O<=1){J[U++]=O}}else{if(w>0){var y=Math.sqrt(w);var H=S*Y+1.5*Z*(-R+y);var G=S*Y+1.5*Z*(-R-y);if(H<0){H=-Math.pow(-H,j)}else{H=Math.pow(H,j)}if(G<0){G=-Math.pow(-G,j)}else{G=Math.pow(G,j)}var P=(-Y-(H+G))/(3*Z);if(P>=0&&P<=1){J[U++]=P}}else{var F=(2*S*Y-3*Z*R)/(2*Math.sqrt(S*S*S));var L=Math.acos(F)/3;var I=Math.sqrt(S);var W=Math.cos(L);var P=(-Y-2*I*W)/(3*Z);var O=(-Y+I*(W+p*Math.sin(L)))/(3*Z);var M=(-Y+I*(W-p*Math.sin(L)))/(3*Z);if(P>=0&&P<=1){J[U++]=P}if(O>=0&&O<=1){J[U++]=O}if(M>=0&&M<=1){J[U++]=M}}}}return U}function e(H,G,F,E,A){var C=6*F-12*G+6*H;var D=9*G+3*E-3*H-9*F;var B=3*G-3*H;var w=0;if(f(D)){if(n(C)){var z=-B/C;if(z>=0&&z<=1){A[w++]=z}}}else{var x=C*C-4*D*B;if(f(x)){A[0]=-C/(2*D)}else{if(x>0){var I=Math.sqrt(x);var z=(-C+I)/(2*D);var y=(-C-I)/(2*D);if(z>=0&&z<=1){A[w++]=z}if(y>=0&&y<=1){A[w++]=y}}}}return w}function c(F,E,D,C,G,x){var y=(E-F)*G+F;var w=(D-E)*G+E;var z=(C-D)*G+D;var H=(w-y)*G+y;var B=(z-w)*G+w;var A=(B-H)*G+H;x[0]=F;x[1]=y;x[2]=H;x[3]=A;x[4]=A;x[5]=B;x[6]=z;x[7]=C}function l(M,B,L,A,K,z,J,w,D,C,I){var E;var P=0.005;var O=Infinity;q[0]=D;q[1]=C;for(var N=0;N<1;N+=0.05){o[0]=a(M,L,K,J,N);o[1]=a(B,A,z,w,N);var R=d.distSquare(q,o);if(R<O){E=N;O=R}}O=Infinity;for(var H=0;H<32;H++){if(P<k){break}var F=E-P;var G=E+P;o[0]=a(M,L,K,J,F);o[1]=a(B,A,z,w,F);var R=d.distSquare(o,q);if(F>=0&&R<O){E=F;O=R}else{m[0]=a(M,L,K,J,G);m[1]=a(B,A,z,w,G);var Q=d.distSquare(m,q);if(G<=1&&Q<O){E=G;O=Q}else{P*=0.5}}}if(I){I[0]=a(M,L,K,J,E);I[1]=a(B,A,z,w,E)}return Math.sqrt(O)}function r(A,z,y,w){var x=1-w;return x*(x*A+2*w*z)+w*w*y}function u(z,y,x,w){return 2*((1-w)*(y-z)+w*(x-y))}function h(H,F,E,x,G){var D=H-2*F+E;var C=2*(F-H);var B=H-x;var w=0;if(f(D)){if(n(C)){var A=-B/C;if(A>=0&&A<=1){G[w++]=A}}}else{var y=C*C-4*D*B;if(f(y)){var A=-C/(2*D);if(A>=0&&A<=1){G[w++]=A}}else{if(y>0){var I=Math.sqrt(y);var A=(-C+I)/(2*D);var z=(-C-I)/(2*D);if(A>=0&&A<=1){G[w++]=A}if(z>=0&&z<=1){G[w++]=z}}}}return w}function s(z,y,x){var w=z+x-2*y;if(w===0){return 0.5}else{return(z-y)/w}}function t(D,C,B,y,x){var z=(C-D)*y+D;var A=(B-C)*y+C;var w=(A-z)*y+z;x[0]=D;x[1]=z;x[2]=w;x[3]=w;x[4]=A;x[5]=B}function i(K,A,J,z,I,w,C,B,H){var D;var N=0.005;var M=Infinity;q[0]=C;q[1]=B;for(var L=0;L<1;L+=0.05){o[0]=r(K,J,I,L);o[1]=r(A,z,w,L);var P=d.distSquare(q,o);if(P<M){D=L;M=P}}M=Infinity;for(var G=0;G<32;G++){if(N<k){break}var E=D-N;var F=D+N;o[0]=r(K,J,I,E);o[1]=r(A,z,w,E);var P=d.distSquare(o,q);if(E>=0&&P<M){D=E;M=P}else{m[0]=r(K,J,I,F);m[1]=r(A,z,w,F);var O=d.distSquare(m,q);if(F<=1&&O<M){D=F;M=O}else{N*=0.5}}}if(H){H[0]=r(K,J,I,D);H[1]=r(A,z,w,D)}return Math.sqrt(M)}return{cubicAt:a,cubicDerivativeAt:b,cubicRootAt:v,cubicExtrema:e,cubicSubdivide:c,cubicProjectPoint:l,quadraticAt:r,quadraticDerivativeAt:u,quadraticRootAt:h,quadraticExtremum:s,quadraticSubdivide:t,quadraticProjectPoint:i}});define("zrender/mixin/Transformable",["require","../tool/matrix","../tool/vector"],function(d){var h=d("../tool/matrix");var c=d("../tool/vector");var i=[0,0];var b=h.translate;var e=0.00005;function g(j){return j>-e&&j<e}function f(j){return j>e||j<-e}var a=function(){if(!this.position){this.position=[0,0]}if(typeof this.rotation=="undefined"){this.rotation=[0,0,0]}if(!this.scale){this.scale=[1,1,0,0]}this.needLocalTransform=false;this.needTransform=false};a.prototype={constructor:a,updateNeedTransform:function(){this.needLocalTransform=f(this.rotation[0])||f(this.position[0])||f(this.position[1])||f(this.scale[0]-1)||f(this.scale[1]-1)},updateTransform:function(){this.updateNeedTransform();var l=this.parent&&this.parent.needTransform;this.needTransform=this.needLocalTransform||l;if(!this.needTransform){return}var j=this.transform||h.create();h.identity(j);if(this.needLocalTransform){var n=this.scale;if(f(n[0])||f(n[1])){i[0]=-n[2]||0;i[1]=-n[3]||0;var k=f(i[0])||f(i[1]);if(k){b(j,j,i)}h.scale(j,j,n);if(k){i[0]=-i[0];i[1]=-i[1];b(j,j,i)}}if(this.rotation instanceof Array){if(this.rotation[0]!==0){i[0]=-this.rotation[1]||0;i[1]=-this.rotation[2]||0;var k=f(i[0])||f(i[1]);if(k){b(j,j,i)}h.rotate(j,j,this.rotation[0]);if(k){i[0]=-i[0];i[1]=-i[1];b(j,j,i)}}}else{if(this.rotation!==0){h.rotate(j,j,this.rotation)}}if(f(this.position[0])||f(this.position[1])){b(j,j,this.position)}}if(l){if(this.needLocalTransform){h.mul(j,this.parent.transform,j)}else{h.copy(j,this.parent.transform)}}this.transform=j;this.invTransform=this.invTransform||h.create();h.invert(this.invTransform,j)},setTransform:function(k){if(this.needTransform){var j=this.transform;k.transform(j[0],j[1],j[2],j[3],j[4],j[5])}},lookAt:function(){var j=c.create();return function(l){if(!this.transform){this.transform=h.create()}var k=this.transform;c.sub(j,l,this.position);if(g(j[0])&&g(j[1])){return}c.normalize(j,j);var n=this.scale;k[2]=j[0]*n[1];k[3]=j[1]*n[1];k[0]=j[1]*n[0];k[1]=-j[0]*n[0];k[4]=this.position[0];k[5]=this.position[1];this.decomposeTransform()}}(),decomposeTransform:function(){if(!this.transform){return}var k=this.transform;var p=k[0]*k[0]+k[1]*k[1];var j=this.position;var o=this.scale;var l=this.rotation;if(f(p-1)){p=Math.sqrt(p)}var n=k[2]*k[2]+k[3]*k[3];if(f(n-1)){n=Math.sqrt(n)}j[0]=k[4];j[1]=k[5];o[0]=p;o[1]=n;o[2]=o[3]=0;l[0]=Math.atan2(-k[1]/n,k[0]/p);l[1]=l[2]=0},transformCoordToLocal:function(j,l){var k=[j,l];if(this.needTransform&&this.invTransform){c.applyTransform(k,k,this.invTransform)}return k}};return a});define("zrender/Group",["require","./tool/guid","./tool/util","./mixin/Transformable","./mixin/Eventful"],function(e){var d=e("./tool/guid");var b=e("./tool/util");var a=e("./mixin/Transformable");var f=e("./mixin/Eventful");var c=function(g){g=g||{};this.id=g.id||d();for(var h in g){this[h]=g[h]}this.type="group";this.clipShape=null;this._children=[];this._storage=null;this.__dirty=true;a.call(this);f.call(this)};c.prototype.ignore=false;c.prototype.children=function(){return this._children.slice()};c.prototype.childAt=function(g){return this._children[g]};c.prototype.addChild=function(g){if(g==this){return}if(g.parent==this){return}if(g.parent){g.parent.removeChild(g)}this._children.push(g);g.parent=this;if(this._storage&&this._storage!==g._storage){this._storage.addToMap(g);if(g instanceof c){g.addChildrenToStorage(this._storage)}}};c.prototype.removeChild=function(h){var g=b.indexOf(this._children,h);if(g>=0){this._children.splice(g,1)}h.parent=null;if(this._storage){this._storage.delFromMap(h.id);if(h instanceof c){h.delChildrenFromStorage(this._storage)}}};c.prototype.clearChildren=function(){for(var g=0;g<this._children.length;g++){var h=this._children[g];if(this._storage){this._storage.delFromMap(h.id);if(h instanceof c){h.delChildrenFromStorage(this._storage)}}}this._children.length=0};c.prototype.eachChild=function(g,j){var l=!!j;for(var h=0;h<this._children.length;h++){var k=this._children[h];if(l){g.call(j,k)}else{g(k)}}};c.prototype.traverse=function(g,j){var l=!!j;for(var h=0;h<this._children.length;h++){var k=this._children[h];if(l){g.call(j,k)}else{g(k)}if(k.type==="group"){k.traverse(g,j)}}};c.prototype.addChildrenToStorage=function(j){for(var g=0;g<this._children.length;g++){var h=this._children[g];j.addToMap(h);if(h instanceof c){h.addChildrenToStorage(j)}}};c.prototype.delChildrenFromStorage=function(j){for(var g=0;g<this._children.length;g++){var h=this._children[g];j.delFromMap(h.id);if(h instanceof c){h.delChildrenFromStorage(j)}}};c.prototype.modSelf=function(){this.__dirty=true};b.merge(c.prototype,a.prototype,true);b.merge(c.prototype,f.prototype,true);return c});define("zrender/animation/Clip",["require","./easing"],function(b){var c=b("./easing");function a(d){this._targetPool=d.target||{};if(!(this._targetPool instanceof Array)){this._targetPool=[this._targetPool]}this._life=d.life||1000;this._delay=d.delay||0;this._startTime=new Date().getTime()+this._delay;this._endTime=this._startTime+this._life*1000;this.loop=typeof d.loop=="undefined"?false:d.loop;this.gap=d.gap||0;this.easing=d.easing||"Linear";this.onframe=d.onframe;this.ondestroy=d.ondestroy;this.onrestart=d.onrestart}a.prototype={step:function(f){var e=(f-this._startTime)/this._life;if(e<0){return}e=Math.min(e,1);var d=typeof this.easing=="string"?c[this.easing]:this.easing;var g=typeof d==="function"?d(e):e;this.fire("frame",g);if(e==1){if(this.loop){this.restart();return"restart"}this._needsRemove=true;return"destroy"}return null},restart:function(){var e=new Date().getTime();var d=(e-this._startTime)%this._life;this._startTime=new Date().getTime()-d+this.gap;this._needsRemove=false},fire:function(g,e){for(var f=0,d=this._targetPool.length;f<d;f++){if(this["on"+g]){this["on"+g](this._targetPool[f],e)}}},constructor:a};return a});define("zrender/animation/easing",[],function(){var a={Linear:function(b){return b},QuadraticIn:function(b){return b*b},QuadraticOut:function(b){return b*(2-b)},QuadraticInOut:function(b){if((b*=2)<1){return 0.5*b*b}return -0.5*(--b*(b-2)-1)},CubicIn:function(b){return b*b*b},CubicOut:function(b){return --b*b*b+1},CubicInOut:function(b){if((b*=2)<1){return 0.5*b*b*b}return 0.5*((b-=2)*b*b+2)},QuarticIn:function(b){return b*b*b*b},QuarticOut:function(b){return 1- --b*b*b*b},QuarticInOut:function(b){if((b*=2)<1){return 0.5*b*b*b*b}return -0.5*((b-=2)*b*b*b-2)},QuinticIn:function(b){return b*b*b*b*b},QuinticOut:function(b){return --b*b*b*b*b+1},QuinticInOut:function(b){if((b*=2)<1){return 0.5*b*b*b*b*b}return 0.5*((b-=2)*b*b*b*b+2)},SinusoidalIn:function(b){return 1-Math.cos(b*Math.PI/2)},SinusoidalOut:function(b){return Math.sin(b*Math.PI/2)},SinusoidalInOut:function(b){return 0.5*(1-Math.cos(Math.PI*b))},ExponentialIn:function(b){return b===0?0:Math.pow(1024,b-1)},ExponentialOut:function(b){return b===1?1:1-Math.pow(2,-10*b)},ExponentialInOut:function(b){if(b===0){return 0}if(b===1){return 1}if((b*=2)<1){return 0.5*Math.pow(1024,b-1)}return 0.5*(-Math.pow(2,-10*(b-1))+2)},CircularIn:function(b){return 1-Math.sqrt(1-b*b)},CircularOut:function(b){return Math.sqrt(1- --b*b)},CircularInOut:function(b){if((b*=2)<1){return -0.5*(Math.sqrt(1-b*b)-1)}return 0.5*(Math.sqrt(1-(b-=2)*b)+1)},ElasticIn:function(c){var d;var b=0.1;var e=0.4;if(c===0){return 0}if(c===1){return 1}if(!b||b<1){b=1;d=e/4}else{d=e*Math.asin(1/b)/(2*Math.PI)}return -(b*Math.pow(2,10*(c-=1))*Math.sin((c-d)*(2*Math.PI)/e))},ElasticOut:function(c){var d;var b=0.1;var e=0.4;if(c===0){return 0}if(c===1){return 1}if(!b||b<1){b=1;d=e/4}else{d=e*Math.asin(1/b)/(2*Math.PI)}return b*Math.pow(2,-10*c)*Math.sin((c-d)*(2*Math.PI)/e)+1},ElasticInOut:function(c){var d;var b=0.1;var e=0.4;if(c===0){return 0}if(c===1){return 1}if(!b||b<1){b=1;d=e/4}else{d=e*Math.asin(1/b)/(2*Math.PI)}if((c*=2)<1){return -0.5*(b*Math.pow(2,10*(c-=1))*Math.sin((c-d)*(2*Math.PI)/e))}return b*Math.pow(2,-10*(c-=1))*Math.sin((c-d)*(2*Math.PI)/e)*0.5+1},BackIn:function(b){var c=1.70158;return b*b*((c+1)*b-c)},BackOut:function(b){var c=1.70158;return --b*b*((c+1)*b+c)+1},BackInOut:function(b){var c=1.70158*1.525;if((b*=2)<1){return 0.5*(b*b*((c+1)*b-c))}return 0.5*((b-=2)*b*((c+1)*b+c)+2)},BounceIn:function(b){return 1-a.BounceOut(1-b)},BounceOut:function(b){if(b<1/2.75){return 7.5625*b*b}else{if(b<2/2.75){return 7.5625*(b-=1.5/2.75)*b+0.75}else{if(b<2.5/2.75){return 7.5625*(b-=2.25/2.75)*b+0.9375}else{return 7.5625*(b-=2.625/2.75)*b+0.984375}}}},BounceInOut:function(b){if(b<0.5){return a.BounceIn(b*2)*0.5}return a.BounceOut(b*2-1)*0.5+0.5}};return a});define("echarts/chart/base",["require","zrender/shape/Image","../util/shape/Icon","../util/shape/MarkLine","../util/shape/Symbol","zrender/shape/Polyline","zrender/shape/ShapeBundle","../config","../util/ecData","../util/ecAnimation","../util/ecEffect","../util/accMath","../component/base","../layout/EdgeBundling","zrender/tool/util","zrender/tool/area"],function(f){var d=f("zrender/shape/Image");var p=f("../util/shape/Icon");var b=f("../util/shape/MarkLine");var r=f("../util/shape/Symbol");var j=f("zrender/shape/Polyline");var q=f("zrender/shape/ShapeBundle");var i=f("../config");var o=f("../util/ecData");var h=f("../util/ecAnimation");var c=f("../util/ecEffect");var e=f("../util/accMath");var l=f("../component/base");var a=f("../layout/EdgeBundling");var n=f("zrender/tool/util");var g=f("zrender/tool/area");function m(s){return s.x!=null&&s.y!=null}function k(w,s,x,v,u){l.call(this,w,s,x,v,u);var t=this;this.selectedMap={};this.lastShapeList=[];this.shapeHandler={onclick:function(){t.isClick=true},ondragover:function(D){var z=D.target;z.highlightStyle=z.highlightStyle||{};var A=z.highlightStyle;var C=A.brushTyep;var B=A.strokeColor;var y=A.lineWidth;A.brushType="stroke";A.strokeColor=t.ecTheme.calculableColor||i.calculableColor;A.lineWidth=z.type==="icon"?30:10;t.zr.addHoverShape(z);setTimeout(function(){if(A){A.brushType=C;A.strokeColor=B;A.lineWidth=y}},20)},ondrop:function(y){if(o.get(y.dragged,"data")!=null){t.isDrop=true}},ondragend:function(){t.isDragend=true}}}k.prototype={setCalculable:function(s){s.dragEnableTime=this.ecTheme.DRAG_ENABLE_TIME||i.DRAG_ENABLE_TIME;s.ondragover=this.shapeHandler.ondragover;s.ondragend=this.shapeHandler.ondragend;s.ondrop=this.shapeHandler.ondrop;return s},ondrop:function(t,w){if(!this.isDrop||!t.target||w.dragIn){return}var A=t.target;var B=t.dragged;var v=o.get(A,"seriesIndex");var D=o.get(A,"dataIndex");var z=this.series;var y;var E=this.component.legend;if(D===-1){if(o.get(B,"seriesIndex")==v){w.dragOut=w.dragIn=w.needRefresh=true;this.isDrop=false;return}y={value:o.get(B,"value"),name:o.get(B,"name")};if(this.type===i.CHART_TYPE_PIE&&y.value<0){y.value=0}var s=false;var C=z[v].data;for(var x=0,u=C.length;x<u;x++){if(C[x].name===y.name&&C[x].value==="-"){z[v].data[x].value=y.value;s=true}}!s&&z[v].data.push(y);E&&E.add(y.name,B.style.color||B.style.strokeColor)}else{y=z[v].data[D]||"-";if(y.value!=null){if(y.value!="-"){z[v].data[D].value=e.accAdd(z[v].data[D].value,o.get(B,"value"))}else{z[v].data[D].value=o.get(B,"value")}if(this.type===i.CHART_TYPE_FUNNEL||this.type===i.CHART_TYPE_PIE){E&&E.getRelatedAmount(y.name)===1&&this.component.legend.del(y.name);y.name+=this.option.nameConnector+o.get(B,"name");E&&E.add(y.name,B.style.color||B.style.strokeColor)}}else{if(y!="-"){z[v].data[D]=e.accAdd(z[v].data[D],o.get(B,"value"))}else{z[v].data[D]=o.get(B,"value")}}}w.dragIn=w.dragIn||true;this.isDrop=false;var F=this;setTimeout(function(){F.zr.trigger("mousemove",t.event)},300);return},ondragend:function(z,s){if(!this.isDragend||!z.target||s.dragOut){return}var y=z.target;var t=o.get(y,"seriesIndex");var w=o.get(y,"dataIndex");var v=this.series;if(v[t].data[w].value!=null){v[t].data[w].value="-";var u=v[t].data[w].name;var x=this.component.legend;if(x&&x.getRelatedAmount(u)===0){x.del(u)}}else{v[t].data[w]="-"}s.dragOut=true;s.needRefresh=true;this.isDragend=false;return},onlegendSelected:function(v,s){var u=v.selected;for(var t in this.selectedMap){if(this.selectedMap[t]!=u[t]){s.needRefresh=true}this.selectedMap[t]=u[t]}return},_buildPosition:function(){this._symbol=this.option.symbolList;this._sIndex2ShapeMap={};this._sIndex2ColorMap={};this.selectedMap={};this.xMarkMap={};var v=this.series;var A={top:[],bottom:[],left:[],right:[],other:[]};var x;var z;var t;var s;for(var w=0,u=v.length;w<u;w++){if(v[w].type===this.type){v[w]=this.reformOption(v[w]);this.legendHoverLink=v[w].legendHoverLink||this.legendHoverLink;x=v[w].xAxisIndex;z=v[w].yAxisIndex;t=this.component.xAxis.getAxis(x);s=this.component.yAxis.getAxis(z);if(t.type===i.COMPONENT_TYPE_AXIS_CATEGORY){A[t.getPosition()].push(w)}else{if(s.type===i.COMPONENT_TYPE_AXIS_CATEGORY){A[s.getPosition()].push(w)}else{A.other.push(w)}}}}for(var y in A){if(A[y].length>0){this._buildSinglePosition(y,A[y])}}this.addShapeList()},_buildSinglePosition:function(s,y){var x=this._mapData(y);var w=x.locationMap;var v=x.maxDataLength;if(v===0||w.length===0){return}switch(s){case"bottom":case"top":this._buildHorizontal(y,v,w,this.xMarkMap);break;case"left":case"right":this._buildVertical(y,v,w,this.xMarkMap);break;case"other":this._buildOther(y,v,w,this.xMarkMap);break}for(var u=0,t=y.length;u<t;u++){this.buildMark(y[u])}},_mapData:function(z){var A=this.series;var B;var G=0;var D={};var w="__kener__stack__";var x;var u;var H=this.component.legend;var F=[];var C=0;var s;for(var y=0,v=z.length;y<v;y++){B=A[z[y]];u=B.name;this._sIndex2ShapeMap[z[y]]=this._sIndex2ShapeMap[z[y]]||this.query(B,"symbol")||this._symbol[y%this._symbol.length];if(H){this.selectedMap[u]=H.isSelected(u);this._sIndex2ColorMap[z[y]]=H.getColor(u);s=H.getItemShape(u);if(s){var t=s.style;if(this.type==i.CHART_TYPE_LINE){t.iconType="legendLineIcon";t.symbol=this._sIndex2ShapeMap[z[y]]}else{if(B.itemStyle.normal.barBorderWidth>0){var E=s.highlightStyle;t.brushType="both";t.x+=1;t.y+=1;t.width-=2;t.height-=2;t.strokeColor=E.strokeColor=B.itemStyle.normal.barBorderColor;E.lineWidth=3}}H.setItemShape(u,s)}}else{this.selectedMap[u]=true;this._sIndex2ColorMap[z[y]]=this.zr.getColor(z[y])}if(this.selectedMap[u]){x=B.stack||w+z[y];if(D[x]==null){D[x]=G;F[G]=[z[y]];G++}else{F[D[x]].push(z[y])}}C=Math.max(C,B.data.length)}return{locationMap:F,maxDataLength:C}},_calculMarkMapXY:function(u,F,H){var B=this.series;for(var A=0,w=F.length;A<w;A++){for(var v=0,t=F[A].length;v<t;v++){var z=F[A][v];var E=H=="xy"?0:"";var s=this.component.grid;var C=u[z];if(H.indexOf("x")!="-1"){if(C["counter"+E]>0){C["average"+E]=C["sum"+E]/C["counter"+E]}var G=this.component.xAxis.getAxis(B[z].xAxisIndex||0).getCoord(C["average"+E]);C["averageLine"+E]=[[G,s.getYend()],[G,s.getY()]];C["minLine"+E]=[[C["minX"+E],s.getYend()],[C["minX"+E],s.getY()]];C["maxLine"+E]=[[C["maxX"+E],s.getYend()],[C["maxX"+E],s.getY()]];C.isHorizontal=false}E=H=="xy"?1:"";if(H.indexOf("y")!="-1"){if(C["counter"+E]>0){C["average"+E]=C["sum"+E]/C["counter"+E]}var D=this.component.yAxis.getAxis(B[z].yAxisIndex||0).getCoord(C["average"+E]);C["averageLine"+E]=[[s.getX(),D],[s.getXend(),D]];C["minLine"+E]=[[s.getX(),C["minY"+E]],[s.getXend(),C["minY"+E]]];C["maxLine"+E]=[[s.getX(),C["maxY"+E]],[s.getXend(),C["maxY"+E]]];C.isHorizontal=true}}}},addLabel:function(t,A,z,u,y){var v=[z,A];var w=this.deepMerge(v,"itemStyle.normal.label");var B=this.deepMerge(v,"itemStyle.emphasis.label");var D=w.textStyle||{};var x=B.textStyle||{};if(w.show){var s=t.style;s.text=this._getLabelText(A,z,u,"normal");s.textPosition=w.position==null?y==="horizontal"?"right":"top":w.position;s.textColor=D.color;s.textFont=this.getFont(D);s.textAlign=D.align;s.textBaseline=D.baseline}if(B.show){var C=t.highlightStyle;C.text=this._getLabelText(A,z,u,"emphasis");C.textPosition=w.show?t.style.textPosition:B.position==null?y==="horizontal"?"right":"top":B.position;C.textColor=x.color;C.textFont=this.getFont(x);C.textAlign=x.align;C.textBaseline=x.baseline}return t},_getLabelText:function(v,x,t,s){var u=this.deepQuery([x,v],"itemStyle."+s+".label.formatter");if(!u&&s==="emphasis"){u=this.deepQuery([x,v],"itemStyle.normal.label.formatter")}var w=this.getDataFromOption(x,"-");if(u){if(typeof u==="function"){return u.call(this.myChart,{seriesName:v.name,series:v,name:t,value:w,data:x,status:s})}else{if(typeof u==="string"){u=u.replace("{a}","{a0}").replace("{b}","{b0}").replace("{c}","{c0}").replace("{a0}",v.name).replace("{b0}",t).replace("{c0}",this.numAddCommas(w));return u}}}else{if(w instanceof Array){return w[2]!=null?this.numAddCommas(w[2]):w[0]+" , "+w[1]}else{return this.numAddCommas(w)}}},buildMark:function(s){var t=this.series[s];if(this.selectedMap[t.name]){t.markLine&&this._buildMarkLine(s);t.markPoint&&this._buildMarkPoint(s)}},_buildMarkPoint:function(v){var y=(this.markAttachStyle||{})[v];var z=this.series[v];var x;var A;var C=n.clone(z.markPoint);for(var w=0,u=C.data.length;w<u;w++){x=C.data[w];A=this.getMarkCoord(v,x);x.x=x.x!=null?x.x:A[0];x.y=x.y!=null?x.y:A[1];if(x.type&&(x.type==="max"||x.type==="min")){x.value=A[3];x.name=x.name||x.type;x.symbolSize=x.symbolSize||g.getTextWidth(A[3],this.getFont())/2+5}}var t=this._markPoint(v,C);for(var w=0,u=t.length;w<u;w++){var s=t[w];s.zlevel=z.zlevel;s.z=z.z+1;for(var B in y){s[B]=n.clone(y[B])}this.shapeList.push(s)}if(this.type===i.CHART_TYPE_FORCE||this.type===i.CHART_TYPE_CHORD){for(var w=0,u=t.length;w<u;w++){this.zr.addShape(t[w])}}},_buildMarkLine:function(x){var A=(this.markAttachStyle||{})[x];var B=this.series[x];var C;var u=n.clone(B.markLine);for(var y=0,w=u.data.length;y<w;y++){var E=u.data[y];if(E.type&&(E.type==="max"||E.type==="min"||E.type==="average")){C=this.getMarkCoord(x,E);u.data[y]=[n.clone(E),{}];u.data[y][0].name=E.name||E.type;u.data[y][0].value=E.type!=="average"?C[3]:+C[3].toFixed(u.precision!=null?u.precision:this.deepQuery([this.ecTheme,i],"markLine.precision"));C=C[2];E=[{},{}]}else{C=[this.getMarkCoord(x,E[0]),this.getMarkCoord(x,E[1])]}if(C==null||C[0]==null||C[1]==null){continue}u.data[y][0].x=E[0].x!=null?E[0].x:C[0][0];u.data[y][0].y=E[0].y!=null?E[0].y:C[0][1];u.data[y][1].x=E[1].x!=null?E[1].x:C[1][0];u.data[y][1].y=E[1].y!=null?E[1].y:C[1][1]}var v=this._markLine(x,u);var D=u.large;if(D){var z=new q({style:{shapeList:v}});var t=v[0];if(t){n.merge(z.style,t.style);n.merge(z.highlightStyle={},t.highlightStyle);z.style.brushType="stroke";z.zlevel=B.zlevel;z.z=B.z+1;z.hoverable=false;for(var F in A){z[F]=n.clone(A[F])}}this.shapeList.push(z);this.zr.addShape(z);z._mark="largeLine";var G=u.effect;if(G.show){z.effect=G}}else{for(var y=0,w=v.length;y<w;y++){var s=v[y];s.zlevel=B.zlevel;s.z=B.z+1;for(var F in A){s[F]=n.clone(A[F])}this.shapeList.push(s)}if(this.type===i.CHART_TYPE_FORCE||this.type===i.CHART_TYPE_CHORD){for(var y=0,w=v.length;y<w;y++){this.zr.addShape(v[y])}}}},_markPoint:function(J,w){var E=this.series[J];var B=this.component;n.merge(n.merge(w,n.clone(this.ecTheme.markPoint||{})),n.clone(i.markPoint));w.name=E.name;var x=[];var K=w.data;var D;var y=B.dataRange;var t=B.legend;var H;var F;var v;var A;var z;var C;var s=this.zr.getWidth();var u=this.zr.getHeight();if(!w.large){for(var I=0,G=K.length;I<G;I++){if(K[I].x==null||K[I].y==null){continue}F=K[I].value!=null?K[I].value:"";if(t){H=t.getColor(E.name)}if(y){H=isNaN(F)?H:y.getColor(F);v=[K[I],w];A=this.deepQuery(v,"itemStyle.normal.color")||H;z=this.deepQuery(v,"itemStyle.emphasis.color")||A;if(A==null&&z==null){continue}}H=H==null?this.zr.getColor(J):H;K[I].tooltip=K[I].tooltip||w.tooltip||{trigger:"item"};K[I].name=K[I].name!=null?K[I].name:"";K[I].value=F;D=this.getSymbolShape(w,J,K[I],I,K[I].name,this.parsePercent(K[I].x,s),this.parsePercent(K[I].y,u),"pin",H,"rgba(0,0,0,0)","horizontal");D._mark="point";C=this.deepMerge([K[I],w],"effect");if(C.show){D.effect=C}if(E.type===i.CHART_TYPE_MAP){D._geo=this.getMarkGeo(K[I])}o.pack(D,E,J,K[I],I,K[I].name,F);x.push(D)}}else{D=this.getLargeMarkPointShape(J,w);D._mark="largePoint";D&&x.push(D)}return x},_markLine:function(){function s(u,t){u[t]=u[t] instanceof Array?u[t].length>1?u[t]:[u[t][0],u[t][0]]:[u[t],u[t]]}return function(Q,S){var K=this.series[Q];var F=this.component;var A=F.dataRange;var u=F.legend;n.merge(n.merge(S,n.clone(this.ecTheme.markLine||{})),n.clone(i.markLine));var O=u?u.getColor(K.name):this.zr.getColor(Q);s(S,"symbol");s(S,"symbolSize");s(S,"symbolRotate");var T=S.data;var w=[];var t=this.zr.getWidth();var v=this.zr.getHeight();for(var P=0;P<T.length;P++){var z=T[P];if(m(z[0])&&m(z[1])){var y=this.deepMerge(z);var x=[y,S];var N=O;var L=y.value!=null?y.value:"";if(A){N=isNaN(L)?N:A.getColor(L);var E=this.deepQuery(x,"itemStyle.normal.color")||N;var C=this.deepQuery(x,"itemStyle.emphasis.color")||E;if(E==null&&C==null){continue}}z[0].tooltip=y.tooltip||S.tooltip||{trigger:"item"};z[0].name=z[0].name||"";z[1].name=z[1].name||"";z[0].value=L;w.push({points:[[this.parsePercent(z[0].x,t),this.parsePercent(z[0].y,v)],[this.parsePercent(z[1].x,t),this.parsePercent(z[1].y,v)]],rawData:z,color:N})}}var I=this.query(S,"bundling.enable");if(I){var D=new a();D.maxTurningAngle=this.query(S,"bundling.maxTurningAngle")/180*Math.PI;w=D.run(w)}S.name=K.name;var H=[];for(var P=0,M=w.length;P<M;P++){var B=w[P];var R=B.rawEdge||B;var z=R.rawData;var L=z.value!=null?z.value:"";var J=this.getMarkLineShape(S,Q,z,P,B.points,I,R.color);J._mark="line";var G=this.deepMerge([z[0],z[1],S],"effect");if(G.show){J.effect=G;J.effect.large=S.large}if(K.type===i.CHART_TYPE_MAP){J._geo=[this.getMarkGeo(z[0]),this.getMarkGeo(z[1])]}o.pack(J,K,Q,z[0],P,z[0].name+(z[1].name!==""?" > "+z[1].name:""),L);H.push(J)}return H}}(),getMarkCoord:function(){return[0,0]},getSymbolShape:function(H,M,Q,O,R,z,w,L,K,D,A){var t=[Q,H];var I=this.getDataFromOption(Q,"-");L=this.deepQuery(t,"symbol")||L;var N=this.deepQuery(t,"symbolSize");N=typeof N==="function"?N(I):N;if(typeof N==="number"){N=[N,N]}var u=this.deepQuery(t,"symbolRotate");var P=this.deepMerge(t,"itemStyle.normal");var J=this.deepMerge(t,"itemStyle.emphasis");var s=P.borderWidth!=null?P.borderWidth:P.lineStyle&&P.lineStyle.width;if(s==null){s=L.match("empty")?2:0}var C=J.borderWidth!=null?J.borderWidth:J.lineStyle&&J.lineStyle.width;if(C==null){C=s+2}var B=this.getItemStyleColor(P.color,M,O,Q);var v=this.getItemStyleColor(J.color,M,O,Q);var G=N[0];var E=N[1];var F=new p({style:{iconType:L.replace("empty","").toLowerCase(),x:z-G,y:w-E,width:G*2,height:E*2,brushType:"both",color:L.match("empty")?D:B||K,strokeColor:P.borderColor||B||K,lineWidth:s},highlightStyle:{color:L.match("empty")?D:v||B||K,strokeColor:J.borderColor||P.borderColor||v||B||K,lineWidth:C},clickable:this.deepQuery(t,"clickable")});if(L.match("image")){F.style.image=L.replace(new RegExp("^image:\\/\\/"),"");F=new d({style:F.style,highlightStyle:F.highlightStyle,clickable:this.deepQuery(t,"clickable")})}if(u!=null){F.rotation=[u*Math.PI/180,z,w]}if(L.match("star")){F.style.iconType="star";F.style.n=L.replace("empty","").replace("star","")-0||5}if(L==="none"){F.invisible=true;F.hoverable=false}F=this.addLabel(F,H,Q,R,A);if(L.match("empty")){if(F.style.textColor==null){F.style.textColor=F.style.strokeColor}if(F.highlightStyle.textColor==null){F.highlightStyle.textColor=F.highlightStyle.strokeColor}}o.pack(F,H,M,Q,O,R);F._x=z;F._y=w;F._dataIndex=O;F._seriesIndex=M;return F},getMarkLineShape:function(J,I,N,L,H,O,F){var B=N[0].value!=null?N[0].value:"-";var A=N[1].value!=null?N[1].value:"-";var G=[N[0].symbol||J.symbol[0],N[1].symbol||J.symbol[1]];var K=[N[0].symbolSize||J.symbolSize[0],N[1].symbolSize||J.symbolSize[1]];K[0]=typeof K[0]==="function"?K[0](B):K[0];K[1]=typeof K[1]==="function"?K[1](A):K[1];var x=[this.query(N[0],"symbolRotate")||J.symbolRotate[0],this.query(N[1],"symbolRotate")||J.symbolRotate[1]];var u=[N[0],N[1],J];var M=this.deepMerge(u,"itemStyle.normal");M.color=this.getItemStyleColor(M.color,I,L,N);var E=this.deepMerge(u,"itemStyle.emphasis");E.color=this.getItemStyleColor(E.color,I,L,N);var w=M.lineStyle;var z=E.lineStyle;var s=w.width;if(s==null){s=M.borderWidth}var y=z.width;if(y==null){y=E.borderWidth!=null?E.borderWidth:s+2}var t=this.deepQuery(u,"smoothness");if(!this.deepQuery(u,"smooth")){t=0}var v=O?j:b;var C=new v({style:{symbol:G,symbolSize:K,symbolRotate:x,brushType:"both",lineType:w.type,shadowColor:w.shadowColor||w.color||M.borderColor||M.color||F,shadowBlur:w.shadowBlur,shadowOffsetX:w.shadowOffsetX,shadowOffsetY:w.shadowOffsetY,color:M.color||F,strokeColor:w.color||M.borderColor||M.color||F,lineWidth:s,symbolBorderColor:M.borderColor||M.color||F,symbolBorder:M.borderWidth},highlightStyle:{shadowColor:z.shadowColor,shadowBlur:z.shadowBlur,shadowOffsetX:z.shadowOffsetX,shadowOffsetY:z.shadowOffsetY,color:E.color||M.color||F,strokeColor:z.color||w.color||E.borderColor||M.borderColor||E.color||M.color||F,lineWidth:y,symbolBorderColor:E.borderColor||M.borderColor||E.color||M.color||F,symbolBorder:E.borderWidth==null?M.borderWidth+2:E.borderWidth},clickable:this.deepQuery(u,"clickable")});var D=C.style;if(O){D.pointList=H;D.smooth=t}else{D.xStart=H[0][0];D.yStart=H[0][1];D.xEnd=H[1][0];D.yEnd=H[1][1];D.curveness=t;C.updatePoints(C.style)}C=this.addLabel(C,J,N[0],N[0].name+" : "+N[1].name);return C},getLargeMarkPointShape:function(x,B){var z=this.series[x];var C=this.component;var y=B.data;var s;var A=C.dataRange;var F=C.legend;var w;var E;var u=[y[0],B];var G;var t;var H;if(F){w=F.getColor(z.name)}if(A){E=y[0].value!=null?y[0].value:"";w=isNaN(E)?w:A.getColor(E);G=this.deepQuery(u,"itemStyle.normal.color")||w;t=this.deepQuery(u,"itemStyle.emphasis.color")||G;if(G==null&&t==null){return}}w=this.deepMerge(u,"itemStyle.normal").color||w;var v=this.deepQuery(u,"symbol")||"circle";v=v.replace("empty","").replace(/\d/g,"");H=this.deepMerge([y[0],B],"effect");var D=window.devicePixelRatio||1;s=new r({style:{pointList:y,color:w,strokeColor:w,shadowColor:H.shadowColor||w,shadowBlur:(H.shadowBlur!=null?H.shadowBlur:8)*D,size:this.deepQuery(u,"symbolSize"),iconType:v,brushType:"fill",lineWidth:1},draggable:false,hoverable:false});if(H.show){s.effect=H}return s},backupShapeList:function(){if(this.shapeList&&this.shapeList.length>0){this.lastShapeList=this.shapeList;this.shapeList=[]}else{this.lastShapeList=[]}},addShapeList:function(){var t=this.option.animationThreshold/(this.canvasSupported?2:4);var A=this.lastShapeList;var v=this.shapeList;var D=A.length>0;var w=D?this.query(this.option,"animationDurationUpdate"):this.query(this.option,"animationDuration");var z=this.query(this.option,"animationEasing");var y;var C;var B={};var s={};if(this.option.animation&&!this.option.renderAsImage&&v.length<t&&!this.motionlessOnce){for(var x=0,u=A.length;x<u;x++){C=this._getAnimationKey(A[x]);if(C.match("undefined")){this.zr.delShape(A[x].id)}else{C+=A[x].type;if(B[C]){this.zr.delShape(A[x].id)}else{B[C]=A[x]}}}for(var x=0,u=v.length;x<u;x++){C=this._getAnimationKey(v[x]);if(C.match("undefined")){this.zr.addShape(v[x])}else{C+=v[x].type;s[C]=v[x]}}for(C in B){if(!s[C]){this.zr.delShape(B[C].id)}}for(C in s){if(B[C]){this.zr.delShape(B[C].id);this._animateMod(B[C],s[C],w,z,0,D)}else{y=(this.type==i.CHART_TYPE_LINE||this.type==i.CHART_TYPE_RADAR)&&C.indexOf("icon")!==0?w/2:0;this._animateMod(false,s[C],w,z,y,D)}}this.zr.refresh();this.animationEffect()}else{this.motionlessOnce=false;this.zr.delShape(A);for(var x=0,u=v.length;x<u;x++){this.zr.addShape(v[x])}}},_getAnimationKey:function(s){if(this.type!=i.CHART_TYPE_MAP&&this.type!=i.CHART_TYPE_TREEMAP&&this.type!=i.CHART_TYPE_VENN&&this.type!=i.CHART_TYPE_TREE){return o.get(s,"seriesIndex")+"_"+o.get(s,"dataIndex")+(s._mark?s._mark:"")+(this.type===i.CHART_TYPE_RADAR?o.get(s,"special"):"")}else{return o.get(s,"seriesIndex")+"_"+o.get(s,"dataIndex")+(s._mark?s._mark:"undefined")}},_animateMod:function(w,t,v,x,s,u){switch(t.type){case"polyline":case"half-smooth-polygon":h.pointList(this.zr,w,t,v,x);break;case"rectangle":h.rectangle(this.zr,w,t,v,x);break;case"image":case"icon":h.icon(this.zr,w,t,v,x,s);break;case"candle":if(!u){h.candle(this.zr,w,t,v,x)}else{this.zr.addShape(t)}break;case"ring":case"sector":case"circle":if(!u){h.ring(this.zr,w,t,v+(o.get(t,"dataIndex")||0)%20*100,x)}else{if(t.type==="sector"){h.sector(this.zr,w,t,v,x)}else{this.zr.addShape(t)}}break;case"text":h.text(this.zr,w,t,v,x);break;case"polygon":if(!u){h.polygon(this.zr,w,t,v,x)}else{h.pointList(this.zr,w,t,v,x)}break;case"ribbon":h.ribbon(this.zr,w,t,v,x);break;case"gauge-pointer":h.gaugePointer(this.zr,w,t,v,x);break;case"mark-line":h.markline(this.zr,w,t,v,x);break;case"bezier-curve":case"line":h.line(this.zr,w,t,v,x);break;default:this.zr.addShape(t);break}},animationMark:function(v,w,u){var u=u||this.shapeList;for(var t=0,s=u.length;t<s;t++){if(!u[t]._mark){continue}this._animateMod(false,u[t],v,w,0,true)}this.animationEffect(u)},animationEffect:function(w){!w&&this.clearEffectShape();w=w||this.shapeList;if(w==null){return}var s=i.EFFECT_ZLEVEL;if(this.canvasSupported){this.zr.modLayer(s,{motionBlur:true,lastFrameAlpha:0.95})}var u;for(var v=0,t=w.length;v<t;v++){u=w[v];if(!(u._mark&&u.effect&&u.effect.show&&c[u._mark])){continue}c[u._mark](this.zr,this.effectList,u,s);this.effectList[this.effectList.length-1]._mark=u._mark}},clearEffectShape:function(s){var u=this.effectList;if(this.zr&&u&&u.length>0){s&&this.zr.modLayer(i.EFFECT_ZLEVEL,{motionBlur:false});this.zr.delShape(u);for(var t=0;t<u.length;t++){if(u[t].effectAnimator){u[t].effectAnimator.stop()}}}this.effectList=[]},addMark:function(u,y,A){var x=this.series[u];if(this.selectedMap[x.name]){var t=this.query(this.option,"animationDurationUpdate");var z=this.query(this.option,"animationEasing");var w=x[A].data;var B=this.shapeList.length;x[A].data=y.data;this["_build"+A.replace("m","M")](u);if(this.option.animation&&!this.option.renderAsImage){this.animationMark(t,z,this.shapeList.slice(B))}else{for(var v=B,s=this.shapeList.length;v<s;v++){this.zr.addShape(this.shapeList[v])}this.zr.refreshNextFrame()}x[A].data=w}},delMark:function(v,s,A){A=A.replace("mark","").replace("large","").toLowerCase();var x=this.series[v];if(this.selectedMap[x.name]){var z=false;var u=[this.shapeList,this.effectList];var y=2;while(y--){for(var w=0,t=u[y].length;w<t;w++){if(u[y][w]._mark==A&&o.get(u[y][w],"seriesIndex")==v&&o.get(u[y][w],"name")==s){this.zr.delShape(u[y][w].id);u[y].splice(w,1);z=true;break}}}z&&this.zr.refreshNextFrame()}}};n.inherits(k,l);return k});define("zrender/shape/Circle",["require","./Base","../tool/util"],function(a){var b=a("./Base");var c=function(d){b.call(this,d)};c.prototype={type:"circle",buildPath:function(d,e){d.moveTo(e.x+e.r,e.y);d.arc(e.x,e.y,e.r,0,Math.PI*2,true);return},getRect:function(e){if(e.__rect){return e.__rect}var d;if(e.brushType=="stroke"||e.brushType=="fill"){d=e.lineWidth||1}else{d=0}e.__rect={x:Math.round(e.x-e.r-d/2),y:Math.round(e.y-e.r-d/2),width:e.r*2+d,height:e.r*2+d};return e.__rect}};a("../tool/util").inherits(c,b);return c});define("echarts/util/accMath",[],function(){function d(i,g){var j=i.toString();var h=g.toString();var f=0;try{f=h.split(".")[1].length}catch(k){}try{f-=j.split(".")[1].length}catch(k){}return(j.replace(".","")-0)/(h.replace(".","")-0)*Math.pow(10,f)}function c(i,g){var j=i.toString();var h=g.toString();var f=0;try{f+=j.split(".")[1].length}catch(k){}try{f+=h.split(".")[1].length}catch(k){}return(j.replace(".","")-0)*(h.replace(".","")-0)/Math.pow(10,f)}function b(j,i){var h=0;var g=0;try{h=j.toString().split(".")[1].length}catch(k){}try{g=i.toString().split(".")[1].length}catch(k){}var f=Math.pow(10,Math.max(h,g));return(Math.round(j*f)+Math.round(i*f))/f}function a(f,e){return b(f,-e)}return{accDiv:d,accMul:c,accAdd:b,accSub:a}});define("echarts/util/shape/Icon",["require","zrender/tool/util","zrender/shape/Star","zrender/shape/Heart","zrender/shape/Droplet","zrender/shape/Image","zrender/shape/Base"],function(n){var s=n("zrender/tool/util");function D(H,J){var F=J.x;var K=J.y;var I=J.width/16;var G=J.height/16;H.moveTo(F,K+J.height);H.lineTo(F+5*I,K+14*G);H.lineTo(F+J.width,K+3*G);H.lineTo(F+13*I,K);H.lineTo(F+2*I,K+11*G);H.lineTo(F,K+J.height);H.moveTo(F+6*I,K+10*G);H.lineTo(F+14*I,K+2*G);H.moveTo(F+10*I,K+13*G);H.lineTo(F+J.width,K+13*G);H.moveTo(F+13*I,K+10*G);H.lineTo(F+13*I,K+J.height)}function g(H,J){var F=J.x;var K=J.y;var I=J.width/16;var G=J.height/16;H.moveTo(F,K+J.height);H.lineTo(F+5*I,K+14*G);H.lineTo(F+J.width,K+3*G);H.lineTo(F+13*I,K);H.lineTo(F+2*I,K+11*G);H.lineTo(F,K+J.height);H.moveTo(F+6*I,K+10*G);H.lineTo(F+14*I,K+2*G);H.moveTo(F+10*I,K+13*G);H.lineTo(F+J.width,K+13*G)}function j(H,J){var F=J.x;var K=J.y;var I=J.width/16;var G=J.height/16;H.moveTo(F+4*I,K+15*G);H.lineTo(F+9*I,K+13*G);H.lineTo(F+14*I,K+8*G);H.lineTo(F+11*I,K+5*G);H.lineTo(F+6*I,K+10*G);H.lineTo(F+4*I,K+15*G);H.moveTo(F+5*I,K);H.lineTo(F+11*I,K);H.moveTo(F+5*I,K+G);H.lineTo(F+11*I,K+G);H.moveTo(F,K+2*G);H.lineTo(F+J.width,K+2*G);H.moveTo(F,K+5*G);H.lineTo(F+3*I,K+J.height);H.lineTo(F+13*I,K+J.height);H.lineTo(F+J.width,K+5*G)}function C(H,J){var F=J.x;var K=J.y;var I=J.width/16;var G=J.height/16;H.moveTo(F,K+3*G);H.lineTo(F+6*I,K+3*G);H.moveTo(F+3*I,K);H.lineTo(F+3*I,K+6*G);H.moveTo(F+3*I,K+8*G);H.lineTo(F+3*I,K+J.height);H.lineTo(F+J.width,K+J.height);H.lineTo(F+J.width,K+3*G);H.lineTo(F+8*I,K+3*G)}function t(H,J){var F=J.x;var K=J.y;var I=J.width/16;var G=J.height/16;H.moveTo(F+6*I,K);H.lineTo(F+2*I,K+3*G);H.lineTo(F+6*I,K+6*G);H.moveTo(F+2*I,K+3*G);H.lineTo(F+14*I,K+3*G);H.lineTo(F+14*I,K+11*G);H.moveTo(F+2*I,K+5*G);H.lineTo(F+2*I,K+13*G);H.lineTo(F+14*I,K+13*G);H.moveTo(F+10*I,K+10*G);H.lineTo(F+14*I,K+13*G);H.lineTo(F+10*I,K+J.height)}function h(H,J){var F=J.x;var L=J.y;var I=J.width/16;var G=J.height/16;var K=J.width/2;H.lineWidth=1.5;H.arc(F+K,L+K,K-I,0,Math.PI*2/3);H.moveTo(F+3*I,L+J.height);H.lineTo(F+0*I,L+12*G);H.lineTo(F+5*I,L+11*G);H.moveTo(F,L+8*G);H.arc(F+K,L+K,K-I,Math.PI,Math.PI*5/3);H.moveTo(F+13*I,L);H.lineTo(F+J.width,L+4*G);H.lineTo(F+11*I,L+5*G)}function w(H,J){var F=J.x;var K=J.y;var I=J.width/16;var G=J.height/16;H.moveTo(F,K);H.lineTo(F,K+J.height);H.lineTo(F+J.width,K+J.height);H.moveTo(F+2*I,K+14*G);H.lineTo(F+7*I,K+6*G);H.lineTo(F+11*I,K+11*G);H.lineTo(F+15*I,K+2*G)}function m(H,J){var F=J.x;var K=J.y;var I=J.width/16;var G=J.height/16;H.moveTo(F,K);H.lineTo(F,K+J.height);H.lineTo(F+J.width,K+J.height);H.moveTo(F+3*I,K+14*G);H.lineTo(F+3*I,K+6*G);H.lineTo(F+4*I,K+6*G);H.lineTo(F+4*I,K+14*G);H.moveTo(F+7*I,K+14*G);H.lineTo(F+7*I,K+2*G);H.lineTo(F+8*I,K+2*G);H.lineTo(F+8*I,K+14*G);H.moveTo(F+11*I,K+14*G);H.lineTo(F+11*I,K+9*G);H.lineTo(F+12*I,K+9*G);H.lineTo(F+12*I,K+14*G)}function u(H,J){var G=J.x;var L=J.y;var I=J.width-2;var F=J.height-2;var K=Math.min(I,F)/2;L+=2;H.moveTo(G+K+3,L+K-3);H.arc(G+K+3,L+K-3,K-1,0,-Math.PI/2,true);H.lineTo(G+K+3,L+K-3);H.moveTo(G+K,L);H.lineTo(G+K,L+K);H.arc(G+K,L+K,K,-Math.PI/2,Math.PI*2,true);H.lineTo(G+K,L+K);H.lineWidth=1.5}function E(H,J){var F=J.x;var K=J.y;var I=J.width/16;var G=J.height/16;K-=G;H.moveTo(F+1*I,K+2*G);H.lineTo(F+15*I,K+2*G);H.lineTo(F+14*I,K+3*G);H.lineTo(F+2*I,K+3*G);H.moveTo(F+3*I,K+6*G);H.lineTo(F+13*I,K+6*G);H.lineTo(F+12*I,K+7*G);H.lineTo(F+4*I,K+7*G);H.moveTo(F+5*I,K+10*G);H.lineTo(F+11*I,K+10*G);H.lineTo(F+10*I,K+11*G);H.lineTo(F+6*I,K+11*G);H.moveTo(F+7*I,K+14*G);H.lineTo(F+9*I,K+14*G);H.lineTo(F+8*I,K+15*G);H.lineTo(F+7*I,K+15*G)}function v(L,G){var J=G.x;var I=G.y;var H=G.width;var K=G.height;var N=H/16;var M=K/16;var F=Math.min(N,M)*2;L.moveTo(J+N+F,I+M+F);L.arc(J+N,I+M,F,Math.PI/4,Math.PI*3);L.lineTo(J+7*N-F,I+6*M-F);L.arc(J+7*N,I+6*M,F,Math.PI/4*5,Math.PI*4);L.arc(J+7*N,I+6*M,F/2,Math.PI/4*5,Math.PI*4);L.moveTo(J+7*N-F/2,I+6*M+F);L.lineTo(J+N+F,I+14*M-F);L.arc(J+N,I+14*M,F,-Math.PI/4,Math.PI*2);L.moveTo(J+7*N+F/2,I+6*M);L.lineTo(J+14*N-F,I+10*M-F/2);L.moveTo(J+16*N,I+10*M);L.arc(J+14*N,I+10*M,F,0,Math.PI*3);L.lineWidth=1.5}function b(H,J){var G=J.x;var L=J.y;var I=J.width;var F=J.height;var K=Math.min(I,F)/2;H.moveTo(G+I,L+F/2);H.arc(G+K,L+K,K,0,Math.PI*2);H.arc(G+K,L,K,Math.PI/4,Math.PI/5*4);H.arc(G,L+K,K,-Math.PI/3,Math.PI/3);H.arc(G+I,L+F,K,Math.PI,Math.PI/2*3);H.lineWidth=1.5}function y(M,F){var J=F.x;var I=F.y;var G=F.width;var L=F.height;var N=Math.round(L/3);var K=Math.round((N-2)/2);var H=3;while(H--){M.rect(J,I+N*H+K,G,2)}}function B(M,F){var J=F.x;var I=F.y;var G=F.width;var L=F.height;var N=Math.round(G/3);var K=Math.round((N-2)/2);var H=3;while(H--){M.rect(J+N*H+K,I,2,L)}}function l(G,I){var F=I.x;var J=I.y;var H=I.width/16;G.moveTo(F+H,J);G.lineTo(F+H,J+I.height);G.lineTo(F+15*H,J+I.height);G.lineTo(F+15*H,J);G.lineTo(F+H,J);G.moveTo(F+3*H,J+3*H);G.lineTo(F+13*H,J+3*H);G.moveTo(F+3*H,J+6*H);G.lineTo(F+13*H,J+6*H);G.moveTo(F+3*H,J+9*H);G.lineTo(F+13*H,J+9*H);G.moveTo(F+3*H,J+12*H);G.lineTo(F+9*H,J+12*H)}function i(H,J){var F=J.x;var K=J.y;var I=J.width/16;var G=J.height/16;H.moveTo(F,K);H.lineTo(F,K+J.height);H.lineTo(F+J.width,K+J.height);H.lineTo(F+J.width,K);H.lineTo(F,K);H.moveTo(F+4*I,K);H.lineTo(F+4*I,K+8*G);H.lineTo(F+12*I,K+8*G);H.lineTo(F+12*I,K);H.moveTo(F+6*I,K+11*G);H.lineTo(F+6*I,K+13*G);H.lineTo(F+10*I,K+13*G);H.lineTo(F+10*I,K+11*G);H.lineTo(F+6*I,K+11*G)}function c(H,J){var G=J.x;var K=J.y;var I=J.width;var F=J.height;H.moveTo(G,K+F/2);H.lineTo(G+I,K+F/2);H.moveTo(G+I/2,K);H.lineTo(G+I/2,K+F)}function o(G,I){var H=I.width/2;var F=I.height/2;var J=Math.min(H,F);G.moveTo(I.x+H+J,I.y+F);G.arc(I.x+H,I.y+F,J,0,Math.PI*2);G.closePath()}function x(F,G){F.rect(G.x,G.y,G.width,G.height);F.closePath()}function e(H,J){var I=J.width/2;var G=J.height/2;var F=J.x+I;var L=J.y+G;var K=Math.min(I,G);H.moveTo(F,L-K);H.lineTo(F+K,L+K);H.lineTo(F-K,L+K);H.lineTo(F,L-K);H.closePath()}function r(H,J){var I=J.width/2;var G=J.height/2;var F=J.x+I;var L=J.y+G;var K=Math.min(I,G);H.moveTo(F,L-K);H.lineTo(F+K,L);H.lineTo(F,L+K);H.lineTo(F-K,L);H.lineTo(F,L-K);H.closePath()}function a(G,I){var F=I.x;var J=I.y;var H=I.width/16;G.moveTo(F+8*H,J);G.lineTo(F+H,J+I.height);G.lineTo(F+8*H,J+I.height/4*3);G.lineTo(F+15*H,J+I.height);G.lineTo(F+8*H,J);G.closePath()}function k(G,J){var H=n("zrender/shape/Star");var I=J.width/2;var F=J.height/2;H.prototype.buildPath(G,{x:J.x+I,y:J.y+F,r:Math.min(I,F),n:J.n||5})}function f(F,H){var G=n("zrender/shape/Heart");G.prototype.buildPath(F,{x:H.x+H.width/2,y:H.y+H.height*0.2,a:H.width/2,b:H.height*0.8})}function A(F,G){var H=n("zrender/shape/Droplet");H.prototype.buildPath(F,{x:G.x+G.width*0.5,y:G.y+G.height*0.5,a:G.width*0.5,b:G.height*0.8})}function z(H,J){var G=J.x;var L=J.y-J.height/2*1.5;var I=J.width/2;var F=J.height/2;var K=Math.min(I,F);H.arc(G+I,L+F,K,Math.PI/5*4,Math.PI/5);H.lineTo(G+I,L+F+K*1.5);H.closePath()}function q(G,I,F){var J=n("zrender/shape/Image");this._imageShape=this._imageShape||new J({style:{}});for(var H in I){this._imageShape.style[H]=I[H]}this._imageShape.brush(G,false,F)}var p=n("zrender/shape/Base");function d(F){p.call(this,F)}d.prototype={type:"icon",iconLibrary:{mark:D,markUndo:g,markClear:j,dataZoom:C,dataZoomReset:t,restore:h,lineChart:w,barChart:m,pieChart:u,funnelChart:E,forceChart:v,chordChart:b,stackChart:y,tiledChart:B,dataView:l,saveAsImage:i,cross:c,circle:o,rectangle:x,triangle:e,diamond:r,arrow:a,star:k,heart:f,droplet:A,pin:z,image:q},brush:function(H,K,F){var I=K?this.highlightStyle:this.style;I=I||{};var G=I.iconType||this.style.iconType;if(G==="image"){var J=n("zrender/shape/Image");J.prototype.brush.call(this,H,K,F)}else{var I=this.beforeBrush(H,K);H.beginPath();this.buildPath(H,I,F);switch(I.brushType){case"both":H.fill();case"stroke":I.lineWidth>0&&H.stroke();break;default:H.fill()}this.drawText(H,I,this.style);this.afterBrush(H)}},buildPath:function(G,H,F){if(this.iconLibrary[H.iconType]){this.iconLibrary[H.iconType].call(this,G,H,F)}else{G.moveTo(H.x,H.y);G.lineTo(H.x+H.width,H.y);G.lineTo(H.x+H.width,H.y+H.height);G.lineTo(H.x,H.y+H.height);G.lineTo(H.x,H.y);G.closePath()}return},getRect:function(F){if(F.__rect){return F.__rect}F.__rect={x:Math.round(F.x),y:Math.round(F.y-(F.iconType=="pin"?F.height/2*1.5:0)),width:F.width,height:F.height*(F.iconType==="pin"?1.25:1)};return F.__rect},isCover:function(F,J){var H=this.transformCoordToLocal(F,J);F=H[0];J=H[1];var G=this.style.__rect;if(!G){G=this.style.__rect=this.getRect(this.style)}var I=G.height<8||G.width<8?4:0;return F>=G.x-I&&F<=G.x+G.width+I&&J>=G.y-I&&J<=G.y+G.height+I}};s.inherits(d,p);return d});define("echarts/util/shape/MarkLine",["require","zrender/shape/Base","./Icon","zrender/shape/Line","zrender/shape/BezierCurve","zrender/tool/area","zrender/shape/util/dashedLineTo","zrender/tool/util","zrender/tool/curve"],function(g){var i=g("zrender/shape/Base");var e=g("./Icon");var d=g("zrender/shape/Line");var j=new d({});var c=g("zrender/shape/BezierCurve");var f=new c({});var b=g("zrender/tool/area");var l=g("zrender/shape/util/dashedLineTo");var h=g("zrender/tool/util");var a=g("zrender/tool/curve");function k(m){i.call(this,m);if(this.style.curveness>0){this.updatePoints(this.style)}if(this.highlightStyle.curveness>0){this.updatePoints(this.highlightStyle)}}k.prototype={type:"mark-line",brush:function(m,o){var n=this.style;if(o){n=this.getHighlightStyle(n,this.highlightStyle||{})}m.save();this.setContext(m,n);this.setTransform(m);m.save();m.beginPath();this.buildPath(m,n);m.stroke();m.restore();this.brushSymbol(m,n,0);this.brushSymbol(m,n,1);this.drawText(m,n,this.style);m.restore()},buildPath:function(n,o){var q=o.lineType||"solid";n.moveTo(o.xStart,o.yStart);if(o.curveness>0){var m=null;switch(q){case"dashed":m=[5,5];break;case"dotted":m=[1,1];break}if(m&&n.setLineDash){n.setLineDash(m)}n.quadraticCurveTo(o.cpX1,o.cpY1,o.xEnd,o.yEnd)}else{if(q=="solid"){n.lineTo(o.xEnd,o.yEnd)}else{var p=(o.lineWidth||1)*(o.lineType=="dashed"?5:1);l(n,o.xStart,o.yStart,o.xEnd,o.yEnd,p)}}},updatePoints:function(m){var q=m.curveness||0;var r=1;var p=m.xStart;var u=m.yStart;var n=m.xEnd;var s=m.yEnd;var o=(p+n)/2-r*(u-s)*q;var t=(u+s)/2-r*(n-p)*q;m.cpX1=o;m.cpY1=t},brushSymbol:function(u,A,t){if(A.symbol[t]=="none"){return}u.save();u.beginPath();u.lineWidth=A.symbolBorder;u.strokeStyle=A.symbolBorderColor;var v=A.symbol[t].replace("empty","").toLowerCase();if(A.symbol[t].match("empty")){u.fillStyle="#fff"}var C=A.xStart;var o=A.yStart;var z=A.xEnd;var m=A.yEnd;var q=t===0?C:z;var p=t===0?o:m;var G=A.curveness||0;var w=A.symbolRotate[t]!=null?A.symbolRotate[t]-0:0;w=w/180*Math.PI;if(v=="arrow"&&w===0){if(G===0){var F=t===0?-1:1;w=Math.PI/2+Math.atan2(F*(m-o),F*(z-C))}else{var B=A.cpX1;var n=A.cpY1;var D=a.quadraticDerivativeAt;var s=D(C,B,z,t);var r=D(o,n,m,t);w=Math.PI/2+Math.atan2(r,s)}}u.translate(q,p);if(w!==0){u.rotate(w)}var E=A.symbolSize[t];e.prototype.buildPath(u,{x:-E,y:-E,width:E*2,height:E*2,iconType:v});u.closePath();u.fill();u.stroke();u.restore()},getRect:function(m){m.curveness>0?f.getRect(m):j.getRect(m);return m.__rect},isCover:function(m,o){var n=this.transformCoordToLocal(m,o);m=n[0];o=n[1];if(this.isCoverRect(m,o)){return this.style.curveness>0?b.isInside(f,this.style,m,o):b.isInside(j,this.style,m,o)}return false}};h.inherits(k,i);return k});define("echarts/util/shape/Symbol",["require","zrender/shape/Base","zrender/shape/Polygon","zrender/tool/util","./normalIsCover"],function(c){var d=c("zrender/shape/Base");var a=c("zrender/shape/Polygon");var f=new a({});var b=c("zrender/tool/util");function e(g){d.call(this,g)}e.prototype={type:"symbol",buildPath:function(t,A){var s=A.pointList;var z=s.length;if(z===0){return}var l=10000;var k=Math.ceil(z/l);var m;var B;var p=s[0] instanceof Array;var q=A.size?A.size:2;var r=q;var u=q/2;var g=Math.PI*2;var h;var o;var n;for(var v=0;v<k;v++){t.beginPath();m=v*l;B=m+l;B=B>z?z:B;for(var w=m;w<B;w++){if(A.random){h=A["randomMap"+w%20]/100;r=q*h*h;u=r/2}if(p){o=s[w][0];n=s[w][1]}else{o=s[w].x;n=s[w].y}if(r<3){t.rect(o-u,n-u,r,r)}else{switch(A.iconType){case"circle":t.moveTo(o,n);t.arc(o,n,u,0,g,true);break;case"diamond":t.moveTo(o,n-u);t.lineTo(o+u/3,n-u/3);t.lineTo(o+u,n);t.lineTo(o+u/3,n+u/3);t.lineTo(o,n+u);t.lineTo(o-u/3,n+u/3);t.lineTo(o-u,n);t.lineTo(o-u/3,n-u/3);t.lineTo(o,n-u);break;default:t.rect(o-u,n-u,r,r)}}}t.closePath();if(v<k-1){switch(A.brushType){case"both":t.fill();A.lineWidth>0&&t.stroke();break;case"stroke":A.lineWidth>0&&t.stroke();break;default:t.fill()}}}},getRect:function(g){return g.__rect||f.getRect(g)},isCover:c("./normalIsCover")};b.inherits(e,d);return e});define("zrender/shape/Polyline",["require","./Base","./util/smoothSpline","./util/smoothBezier","./util/dashedLineTo","./Polygon","../tool/util"],function(c){var d=c("./Base");var f=c("./util/smoothSpline");var e=c("./util/smoothBezier");var a=c("./util/dashedLineTo");var b=function(g){this.brushTypeOnly="stroke";this.textPosition="end";d.call(this,g)};b.prototype={type:"polyline",buildPath:function(r,h){var g=h.pointList;if(g.length<2){return}var o=Math.min(h.pointList.length,Math.round(h.pointListLength||h.pointList.length));if(h.smooth&&h.smooth!=="spline"){if(!h.controlPointList){this.updateControlPoints(h)}var q=h.controlPointList;r.moveTo(g[0][0],g[0][1]);var n;var l;var k;for(var m=0;m<o-1;m++){n=q[m*2];l=q[m*2+1];k=g[m+1];r.bezierCurveTo(n[0],n[1],l[0],l[1],k[0],k[1])}}else{if(h.smooth==="spline"){g=f(g);o=g.length}if(!h.lineType||h.lineType=="solid"){r.moveTo(g[0][0],g[0][1]);for(var m=1;m<o;m++){r.lineTo(g[m][0],g[m][1])}}else{if(h.lineType=="dashed"||h.lineType=="dotted"){var j=(h.lineWidth||1)*(h.lineType=="dashed"?5:1);r.moveTo(g[0][0],g[0][1]);for(var m=1;m<o;m++){a(r,g[m-1][0],g[m-1][1],g[m][0],g[m][1],j)}}}}return},updateControlPoints:function(g){g.controlPointList=e(g.pointList,g.smooth,false,g.smoothConstraint)},getRect:function(g){return c("./Polygon").prototype.getRect(g)}};c("../tool/util").inherits(b,d);return b});define("zrender/shape/ShapeBundle",["require","./Base","../tool/util"],function(a){var b=a("./Base");var c=function(d){b.call(this,d)};c.prototype={constructor:c,type:"shape-bundle",brush:function(d,h){var g=this.beforeBrush(d,h);d.beginPath();for(var f=0;f<g.shapeList.length;f++){var e=g.shapeList[f];var j=e.style;if(h){j=e.getHighlightStyle(j,e.highlightStyle||{},e.brushTypeOnly)}e.buildPath(d,j)}switch(g.brushType){case"both":d.fill();case"stroke":g.lineWidth>0&&d.stroke();break;default:d.fill()}this.drawText(d,g,this.style);this.afterBrush(d)},getRect:function(g){if(g.__rect){return g.__rect}var d=Infinity;var j=-Infinity;var l=Infinity;var h=-Infinity;for(var f=0;f<g.shapeList.length;f++){var e=g.shapeList[f];var k=e.getRect(e.style);var d=Math.min(k.x,d);var l=Math.min(k.y,l);var j=Math.max(k.x+k.width,j);var h=Math.max(k.y+k.height,h)}g.__rect={x:d,y:l,width:j-d,height:h-l};return g.__rect},isCover:function(d,h){var g=this.transformCoordToLocal(d,h);d=g[0];h=g[1];if(this.isCoverRect(d,h)){for(var f=0;f<this.style.shapeList.length;f++){var e=this.style.shapeList[f];if(e.isCover(d,h)){return true}}}return false}};a("../tool/util").inherits(c,b);return c});define("echarts/util/ecAnimation",["require","zrender/tool/util","zrender/tool/curve","zrender/shape/Polygon"],function(f){var h=f("zrender/tool/util");var a=f("zrender/tool/curve");function c(v,B,C,t,w){var D=C.style.pointList;var q=D.length;var s;if(!B){s=[];if(C._orient!="vertical"){var z=D[0][1];for(var u=0;u<q;u++){s[u]=[D[u][0],z]}}else{var A=D[0][0];for(var u=0;u<q;u++){s[u]=[A,D[u][1]]}}if(C.type=="half-smooth-polygon"){s[q-1]=h.clone(D[q-1]);s[q-2]=h.clone(D[q-2])}B={style:{pointList:s}}}s=B.style.pointList;var r=s.length;if(r==q){C.style.pointList=s}else{if(r<q){C.style.pointList=s.concat(D.slice(r))}else{C.style.pointList=s.slice(0,q)}}v.addShape(C);C.__animating=true;v.animate(C.id,"style").when(t,{pointList:D}).during(function(){if(C.updateControlPoints){C.updateControlPoints(C.style)}}).done(function(){C.__animating=false}).start(w)}function n(t,s){var q=arguments.length;for(var r=2;r<q;r++){var u=arguments[r];t.style[u]=s.style[u]}}function l(w,y,z,u,x){var s=z.style;if(!y){y={position:z.position,style:{x:s.x,y:z._orient=="vertical"?s.y+s.height:s.y,width:z._orient=="vertical"?s.width:0,height:z._orient!="vertical"?s.height:0}}}var r=s.x;var A=s.y;var v=s.width;var q=s.height;var t=[z.position[0],z.position[1]];n(z,y,"x","y","width","height");z.position=y.position;w.addShape(z);if(t[0]!=y.position[0]||t[1]!=y.position[1]){w.animate(z.id,"").when(u,{position:t}).start(x)}z.__animating=true;w.animate(z.id,"style").when(u,{x:r,y:A,width:v,height:q}).done(function(){z.__animating=false}).start(x)}function b(t,u,q,s,w){if(!u){var v=q.style.y;u={style:{y:[v[0],v[0],v[0],v[0]]}}}var r=q.style.y;q.style.y=u.style.y;t.addShape(q);q.__animating=true;t.animate(q.id,"style").when(s,{y:r}).done(function(){q.__animating=false}).start(w)}function i(u,A,B,t,v){var z=B.style.x;var w=B.style.y;var s=B.style.r0;var q=B.style.r;B.__animating=true;if(B._animationAdd!="r"){B.style.r0=0;B.style.r=0;B.rotation=[Math.PI*2,z,w];u.addShape(B);u.animate(B.id,"style").when(t,{r0:s,r:q}).done(function(){B.__animating=false}).start(v);u.animate(B.id,"").when(t,{rotation:[0,z,w]}).start(v)}else{B.style.r0=B.style.r;u.addShape(B);u.animate(B.id,"style").when(t,{r0:s}).done(function(){B.__animating=false}).start(v)}}function g(u,v,r,t,w){if(!v){if(r._animationAdd!="r"){v={style:{startAngle:r.style.startAngle,endAngle:r.style.startAngle}}}else{v={style:{r0:r.style.r}}}}var s=r.style.startAngle;var q=r.style.endAngle;n(r,v,"startAngle","endAngle");u.addShape(r);r.__animating=true;u.animate(r.id,"style").when(t,{startAngle:s,endAngle:q}).done(function(){r.__animating=false}).start(w)}function o(t,u,r,s,w){if(!u){u={style:{x:r.style.textAlign=="left"?r.style.x+100:r.style.x-100,y:r.style.y}}}var q=r.style.x;var v=r.style.y;n(r,u,"x","y");t.addShape(r);r.__animating=true;t.animate(r.id,"style").when(s,{x:q,y:v}).done(function(){r.__animating=false}).start(w)}function k(u,v,r,t,z){var s=f("zrender/shape/Polygon").prototype.getRect(r.style);var q=s.x+s.width/2;var w=s.y+s.height/2;r.scale=[0.1,0.1,q,w];u.addShape(r);r.__animating=true;u.animate(r.id,"").when(t,{scale:[1,1,q,w]}).done(function(){r.__animating=false}).start(z)}function e(t,v,w,q,u){if(!v){v={style:{source0:0,source1:w.style.source1>0?360:-360,target0:0,target1:w.style.target1>0?360:-360}}}var y=w.style.source0;var x=w.style.source1;var s=w.style.target0;var r=w.style.target1;if(v.style){n(w,v,"source0","source1","target0","target1")}t.addShape(w);w.__animating=true;t.animate(w.id,"style").when(q,{source0:y,source1:x,target0:s,target1:r}).done(function(){w.__animating=false}).start(u)}function d(s,u,q,r,v){if(!u){u={style:{angle:q.style.startAngle}}}var t=q.style.angle;q.style.angle=u.style.angle;s.addShape(q);q.__animating=true;s.animate(q.id,"style").when(r,{angle:t}).done(function(){q.__animating=false}).start(v)}function j(u,v,s,t,z,r){s.style._x=s.style.x;s.style._y=s.style.y;s.style._width=s.style.width;s.style._height=s.style.height;if(!v){var q=s._x||0;var w=s._y||0;s.scale=[0.01,0.01,q,w];u.addShape(s);s.__animating=true;u.animate(s.id,"").delay(r).when(t,{scale:[1,1,q,w]}).done(function(){s.__animating=false}).start(z||"QuinticOut")}else{l(u,v,s,t,z)}}function p(s,w,x,r,t){if(!w){w={style:{xStart:x.style.xStart,yStart:x.style.yStart,xEnd:x.style.xStart,yEnd:x.style.yStart}}}var u=x.style.xStart;var q=x.style.xEnd;var y=x.style.yStart;var v=x.style.yEnd;n(x,w,"xStart","xEnd","yStart","yEnd");s.addShape(x);x.__animating=true;s.animate(x.id,"style").when(r,{xStart:u,xEnd:q,yStart:y,yEnd:v}).done(function(){x.__animating=false}).start(t)}function m(y,E,G,u,z){z=z||"QuinticOut";G.__animating=true;y.addShape(G);var t=G.style;var F=function(){G.__animating=false};var s=t.xStart;var D=t.yStart;var q=t.xEnd;var A=t.yEnd;if(t.curveness>0){G.updatePoints(t);var w={p:0};var r=t.cpX1;var C=t.cpY1;var B=[];var x=[];var v=a.quadraticSubdivide;y.animation.animate(w).when(u,{p:1}).during(function(){v(s,r,q,w.p,B);v(D,C,A,w.p,x);t.cpX1=B[1];t.cpY1=x[1];t.xEnd=B[2];t.yEnd=x[2];y.modShape(G)}).done(F).start(z)}else{y.animate(G.id,"style").when(0,{xEnd:s,yEnd:D}).when(u,{xEnd:q,yEnd:A}).done(F).start(z)}}return{pointList:c,rectangle:l,candle:b,ring:i,sector:g,text:o,polygon:k,ribbon:e,gaugePointer:d,icon:j,line:p,markline:m}});define("echarts/util/ecEffect",["require","../util/ecData","zrender/shape/Circle","zrender/shape/Image","zrender/tool/curve","../util/shape/Icon","../util/shape/Symbol","zrender/shape/ShapeBundle","zrender/shape/Polyline","zrender/tool/vector","zrender/tool/env"],function(h){var d=h("../util/ecData");var c=h("zrender/shape/Circle");var b=h("zrender/shape/Image");var a=h("zrender/tool/curve");var f=h("../util/shape/Icon");var g=h("../util/shape/Symbol");var m=h("zrender/shape/ShapeBundle");var j=h("zrender/shape/Polyline");var l=h("zrender/tool/vector");var k=h("zrender/tool/env").canvasSupported;function n(A,r,B,y){var D=B.effect;var u=D.color||B.style.strokeColor||B.style.color;var z=D.shadowColor||u;var E=D.scaleSize;var q=D.bounceDistance;var x=typeof D.shadowBlur!="undefined"?D.shadowBlur:E;var p;if(B.type!=="image"){p=new f({zlevel:y,style:{brushType:"stroke",iconType:B.style.iconType!="droplet"?B.style.iconType:"circle",x:x+1,y:x+1,n:B.style.n,width:B.style._width*E,height:B.style._height*E,lineWidth:1,strokeColor:u,shadowColor:z,shadowBlur:x},draggable:false,hoverable:false});if(B.style.iconType=="pin"){p.style.y+=p.style.height/2*1.5}if(k){p.style.image=A.shapeToImage(p,p.style.width+x*2+2,p.style.height+x*2+2).style.image;p=new b({zlevel:p.zlevel,style:p.style,draggable:false,hoverable:false})}}else{p=new b({zlevel:y,style:B.style,draggable:false,hoverable:false})}d.clone(B,p);p.position=B.position;r.push(p);A.addShape(p);var C=B.type!=="image"?window.devicePixelRatio||1:1;var w=(p.style.width/C-B.style._width)/2;p.style.x=B.style._x-w;p.style.y=B.style._y-w;if(B.style.iconType=="pin"){p.style.y-=B.style.height/2*1.5}var t=(D.period+Math.random()*10)*100;A.modShape(B.id,{invisible:true});var v=p.style.x+p.style.width/2/C;var s=p.style.y+p.style.height/2/C;if(D.type==="scale"){A.modShape(p.id,{scale:[0.1,0.1,v,s]});A.animate(p.id,"",D.loop).when(t,{scale:[1,1,v,s]}).done(function(){B.effect.show=false;A.delShape(p.id)}).start()}else{A.animate(p.id,"style",D.loop).when(t,{y:p.style.y-q}).when(t*2,{y:p.style.y}).done(function(){B.effect.show=false;A.delShape(p.id)}).start()}}function e(x,q,y,v){var C=y.effect;var s=C.color||y.style.strokeColor||y.style.color;var D=C.scaleSize;var w=C.shadowColor||s;var t=typeof C.shadowBlur!="undefined"?C.shadowBlur:D*2;var z=window.devicePixelRatio||1;var p=new g({zlevel:v,position:y.position,scale:y.scale,style:{pointList:y.style.pointList,iconType:y.style.iconType,color:s,strokeColor:s,shadowColor:w,shadowBlur:t*z,random:true,brushType:"fill",lineWidth:1,size:y.style.size},draggable:false,hoverable:false});q.push(p);x.addShape(p);x.modShape(y.id,{invisible:true});var r=Math.round(C.period*100);var B={};var A={};for(var u=0;u<20;u++){p.style["randomMap"+u]=0;B={};B["randomMap"+u]=100;A={};A["randomMap"+u]=0;p.style["randomMap"+u]=Math.random()*100;x.animate(p.id,"style",true).when(r,B).when(r*2,A).when(r*3,B).when(r*4,B).delay(Math.random()*r*u).start()}}function o(t,r,s,q,y){var C=s.effect;var I=s.style;var K=C.color||I.strokeColor||I.color;var G=C.shadowColor||I.strokeColor||K;var F=I.lineWidth*C.scaleSize;var D=typeof C.shadowBlur!="undefined"?C.shadowBlur:F;var A=new c({zlevel:q,style:{x:D,y:D,r:F,color:K,shadowColor:G,shadowBlur:D},hoverable:false});var z=0;if(k&&!y){var q=A.zlevel;A=t.shapeToImage(A,(F+D)*2,(F+D)*2);A.zlevel=q;A.hoverable=false;z=D}if(!y){d.clone(s,A);A.position=s.position;r.push(A);t.addShape(A)}var P=function(){if(!y){s.effect.show=false;t.delShape(A.id)}A.effectAnimator=null};if(s instanceof j){var E=[0];var H=0;var J=I.pointList;var O=I.controlPointList;for(var L=1;L<J.length;L++){if(O){var S=O[(L-1)*2];var R=O[(L-1)*2+1];H+=l.dist(J[L-1],S)+l.dist(S,R)+l.dist(R,J[L])}else{H+=l.dist(J[L-1],J[L])}E.push(H)}var B={p:0};var T=t.animation.animate(B,{loop:C.loop});for(var L=0;L<E.length;L++){T.when(E[L]*C.period,{p:L})}T.during(function(){var W=Math.floor(B.p);var U,ab;if(W==J.length-1){U=J[W][0];ab=J[W][1]}else{var V=B.p-W;var aa=J[W];var Z=J[W+1];if(O){var Y=O[W*2];var X=O[W*2+1];U=a.cubicAt(aa[0],Y[0],X[0],Z[0],V);ab=a.cubicAt(aa[1],Y[1],X[1],Z[1],V)}else{U=(Z[0]-aa[0])*V+aa[0];ab=(Z[1]-aa[1])*V+aa[1]}}A.style.x=U;A.style.y=ab;if(!y){t.modShape(A)}}).done(P).start();T.duration=H*C.period;A.effectAnimator=T}else{var Q=I.xStart-z;var w=I.yStart-z;var M=I.xEnd-z;var u=I.yEnd-z;A.style.x=Q;A.style.y=w;var x=(M-Q)*(M-Q)+(u-w)*(u-w);var p=Math.round(Math.sqrt(Math.round(x*C.period*C.period)));if(s.style.curveness>0){var N=I.cpX1-z;var v=I.cpY1-z;A.effectAnimator=t.animation.animate(A,{loop:C.loop}).when(p,{p:1}).during(function(V,U){A.style.x=a.quadraticAt(Q,N,M,U);A.style.y=a.quadraticAt(w,v,u,U);if(!y){t.modShape(A)}}).done(P).start()}else{A.effectAnimator=t.animation.animate(A.style,{loop:C.loop}).when(p,{x:M,y:u}).during(function(){if(!y){t.modShape(A)}}).done(P).start()}A.effectAnimator.duration=p}return A}function i(z,s,A,x){var r=new m({style:{shapeList:[]},zlevel:x,hoverable:false});var u=A.style.shapeList;var D=A.effect;r.position=A.position;var v=0;var C=[];for(var w=0;w<u.length;w++){u[w].effect=D;var p=o(z,null,u[w],x,true);var y=p.effectAnimator;r.style.shapeList.push(p);if(y.duration>v){v=y.duration}if(w===0){r.style.color=p.style.color;r.style.shadowBlur=p.style.shadowBlur;r.style.shadowColor=p.style.shadowColor}C.push(y)}s.push(r);z.addShape(r);var q=function(){for(var E=0;E<C.length;E++){C[E].stop()}};if(v){r.__dummy=0;var t=z.animate(r.id,"",D.loop).when(v,{__dummy:1}).during(function(){z.modShape(r)}).done(function(){A.effect.show=false;z.delShape(r.id)}).start();var B=t.stop;t.stop=function(){q();B.call(this)}}}return{point:n,largePoint:e,line:o,largeLine:i}});define("echarts/component/base",["require","../config","../util/ecData","../util/ecQuery","../util/number","zrender/tool/util","zrender/tool/env"],function(c){var a=c("../config");var f=c("../util/ecData");var e=c("../util/ecQuery");var g=c("../util/number");var b=c("zrender/tool/util");function d(l,h,m,k,j){this.ecTheme=l;this.messageCenter=h;this.zr=m;this.option=k;this.series=k.series;this.myChart=j;this.component=j.component;this.shapeList=[];this.effectList=[];var i=this;i._onlegendhoverlink=function(q){if(i.legendHoverLink){var p=q.target;var n;for(var o=i.shapeList.length-1;o>=0;o--){n=i.type==a.CHART_TYPE_PIE||i.type==a.CHART_TYPE_FUNNEL?f.get(i.shapeList[o],"name"):(f.get(i.shapeList[o],"series")||{}).name;if(n==p&&!i.shapeList[o].invisible&&!i.shapeList[o].__animating){i.zr.addHoverShape(i.shapeList[o])}}}};h&&h.bind(a.EVENT.LEGEND_HOVERLINK,this._onlegendhoverlink)}d.prototype={canvasSupported:c("zrender/tool/env").canvasSupported,_getZ:function(h){if(this[h]!=null){return this[h]}var i=this.ecTheme[this.type];if(i&&i[h]!=null){return i[h]}i=a[this.type];if(i&&i[h]!=null){return i[h]}return 0},getZlevelBase:function(){return this._getZ("zlevel")},getZBase:function(){return this._getZ("z")},reformOption:function(h){h=b.merge(b.merge(h||{},b.clone(this.ecTheme[this.type]||{})),b.clone(a[this.type]||{}));this.z=h.z;this.zlevel=h.zlevel;return h},reformCssArray:function(h){if(h instanceof Array){switch(h.length+""){case"4":return h;case"3":return[h[0],h[1],h[2],h[1]];case"2":return[h[0],h[1],h[0],h[1]];case"1":return[h[0],h[0],h[0],h[0]];case"0":return[0,0,0,0]}}else{return[h,h,h,h]}},getShapeById:function(k){for(var j=0,h=this.shapeList.length;j<h;j++){if(this.shapeList[j].id===k){return this.shapeList[j]}}return null},getFont:function(i){var h=this.getTextStyle(b.clone(i));return h.fontStyle+" "+h.fontWeight+" "+h.fontSize+"px "+h.fontFamily},getTextStyle:function(h){return b.merge(b.merge(h||{},this.ecTheme.textStyle),a.textStyle)},getItemStyleColor:function(j,h,i,k){return typeof j==="function"?j.call(this.myChart,{seriesIndex:h,series:this.series[h],dataIndex:i,data:k}):j},getDataFromOption:function(i,h){return i!=null?i.value!=null?i.value:i:h},subPixelOptimize:function(i,h){if(h%2===1){i=Math.floor(i)+0.5}else{i=Math.round(i)}return i},resize:function(){this.refresh&&this.refresh();this.clearEffectShape&&this.clearEffectShape(true);var h=this;setTimeout(function(){h.animationEffect&&h.animationEffect()},200)},clear:function(){this.clearEffectShape&&this.clearEffectShape();this.zr&&this.zr.delShape(this.shapeList);this.shapeList=[]},dispose:function(){this.onbeforDispose&&this.onbeforDispose();this.clear();this.shapeList=null;this.effectList=null;this.messageCenter&&this.messageCenter.unbind(a.EVENT.LEGEND_HOVERLINK,this._onlegendhoverlink);this.onafterDispose&&this.onafterDispose()},query:e.query,deepQuery:e.deepQuery,deepMerge:e.deepMerge,parsePercent:g.parsePercent,parseCenter:g.parseCenter,parseRadius:g.parseRadius,numAddCommas:g.addCommas,getPrecision:g.getPrecision};return d});define("echarts/layout/EdgeBundling",["require","../data/KDTree","zrender/tool/vector"],function(b){var h=b("../data/KDTree");var i=b("zrender/tool/vector");var j=i.create;var c=i.distSquare;var l=i.dist;var a=i.copy;var k=i.clone;function m(q,o){q=q.array;o=o.array;var n=o[0]-q[0];var s=o[1]-q[1];var r=o[2]-q[2];var p=o[3]-q[3];return n*n+s*s+r*r+p*p}function d(n){this.points=[n.mp0,n.mp1];this.group=n}function g(o){var n=o.points;if(n[0][1]<n[1][1]||o instanceof d){this.array=[n[0][0],n[0][1],n[1][0],n[1][1]];this._startPoint=n[0];this._endPoint=n[1]}else{this.array=[n[1][0],n[1][1],n[0][0],n[0][1]];this._startPoint=n[1];this._endPoint=n[0]}this.ink=l(n[0],n[1]);this.edge=o;this.group=null}g.prototype.getStartPoint=function(){return this._startPoint};g.prototype.getEndPoint=function(){return this._endPoint};function e(){this.edgeList=[];this.mp0=j();this.mp1=j();this.ink=0}e.prototype.addEdge=function(n){n.group=this;this.edgeList.push(n)};e.prototype.removeEdge=function(n){n.group=null;this.edgeList.splice(this.edgeList.indexOf(n),1)};function f(){this.maxNearestEdge=6;this.maxTurningAngle=Math.PI/4;this.maxIteration=20}f.prototype={constructor:f,run:function(w){var t=this._iterate(w);var p=0;while(p++<this.maxIteration){var o=[];for(var q=0;q<t.groups.length;q++){o.push(new d(t.groups[q]))}var s=this._iterate(o);if(s.savedInk<=0){break}else{t=s}}var u=[];function v(y,x){return c(y,x)<1e-10}function n(x,A){var z=[];var B=0;for(var y=0;y<x.length;y++){if(!(B>0&&v(x[y],z[B-1]))){z[B++]=k(x[y])}}if(A[0]&&!v(z[0],A[0])){z=z.reverse()}return z}var r=function(x,B){var E;for(var A=0;A<x.length;A++){var D=x[A];if(D.edgeList[0]&&D.edgeList[0].edge instanceof d){var y=[];for(var z=0;z<D.edgeList.length;z++){y.push(D.edgeList[z].edge.group)}if(!B){E=[]}else{E=B.slice()}E.unshift(D.mp0);E.push(D.mp1);r(y,E)}else{for(var z=0;z<D.edgeList.length;z++){var C=D.edgeList[z];if(!B){E=[]}else{E=B.slice()}E.unshift(D.mp0);E.push(D.mp1);E.unshift(C.getStartPoint());E.push(C.getEndPoint());u.push({points:n(E,C.edge.points),rawEdge:C.edge})}}}};r(t.groups);return u},_iterate:function(q){var n=[];var E=[];var F=0;for(var B=0;B<q.length;B++){var s=new g(q[B]);n.push(s)}var z=new h(n,4);var C=[];var y=j();var x=j();var p=0;var w=j();var v=j();var t=0;for(var B=0;B<n.length;B++){var s=n[B];if(s.group){continue}z.nearestN(s,this.maxNearestEdge,m,C);var D=0;var r=null;var H=null;for(var A=0;A<C.length;A++){var o=C[A];var G=0;if(o.group){if(o.group!==H){H=o.group;p=this._calculateGroupEdgeInk(o.group,s,y,x);G=o.group.ink+s.ink-p}}else{p=this._calculateEdgeEdgeInk(s,o,y,x);G=o.ink+s.ink-p}if(G>D){D=G;r=o;a(v,x);a(w,y);t=p}}if(r){F+=D;var u;if(!r.group){u=new e();E.push(u);u.addEdge(r)}u=r.group;a(u.mp0,w);a(u.mp1,v);u.ink=t;r.group.addEdge(s)}else{var u=new e();E.push(u);a(u.mp0,s.getStartPoint());a(u.mp1,s.getEndPoint());u.ink=s.ink;u.addEdge(s)}}return{groups:E,edges:n,savedInk:F}},_calculateEdgeEdgeInk:function(){var n=[];var o=[];return function(t,s,r,q){n[0]=t.getStartPoint();n[1]=s.getStartPoint();o[0]=t.getEndPoint();o[1]=s.getEndPoint();this._calculateMeetPoints(n,o,r,q);var p=l(n[0],r)+l(r,q)+l(q,o[0])+l(n[1],r)+l(q,o[1]);return p}}(),_calculateGroupEdgeInk:function(u,q,t,s){var p=[];var n=[];for(var r=0;r<u.edgeList.length;r++){var o=u.edgeList[r];p.push(o.getStartPoint());n.push(o.getEndPoint())}p.push(q.getStartPoint());n.push(q.getEndPoint());this._calculateMeetPoints(p,n,t,s);var v=l(t,s);for(var r=0;r<p.length;r++){v+=l(p[r],t)+l(n[r],s)}return v},_calculateMeetPoints:function(){var o=j();var n=j();return function(t,u,r,q){i.set(o,0,0);i.set(n,0,0);var p=t.length;for(var s=0;s<p;s++){i.add(o,o,t[s])}i.scale(o,o,1/p);p=u.length;for(var s=0;s<p;s++){i.add(n,n,u[s])}i.scale(n,n,1/p);this._limitTurningAngle(t,o,n,r);this._limitTurningAngle(u,n,o,q)}}(),_limitTurningAngle:function(){var o=j();var q=j();var p=j();var n=j();return function(x,E,D,v){var C=Math.cos(this.maxTurningAngle);var A=Math.tan(this.maxTurningAngle);i.sub(o,E,D);i.normalize(o,o);i.copy(v,E);var u=0;for(var w=0;w<x.length;w++){var s=x[w];i.sub(q,s,E);var y=i.len(q);i.scale(q,q,1/y);var z=i.dot(q,o);if(z<C){i.scaleAndAdd(p,E,o,y*z);var r=l(p,s);var B=r/A;i.scaleAndAdd(n,p,o,-B);var t=c(n,E);if(t>u){u=t;i.copy(v,n)}}}}}()};return f});define("zrender/shape/Star",["require","../tool/math","./Base","../tool/util"],function(b){var e=b("../tool/math");var a=e.sin;var f=e.cos;var g=Math.PI;var d=b("./Base");var c=function(h){d.call(this,h)};c.prototype={type:"star",buildPath:function(z,k){var m=k.n;if(!m||m<2){return}var v=k.x;var t=k.y;var j=k.r;var o=k.r0;if(o==null){o=m>4?j*f(2*g/m)/f(g/m):j/3}var w=g/m;var l=-g/2;var s=v+j*f(l);var A=t+j*a(l);l+=w;var h=k.pointList=[];h.push([s,A]);for(var q=0,p=m*2-1,u;q<p;q++){u=q%2===0?o:j;h.push([v+u*f(l),t+u*a(l)]);l+=w}h.push([s,A]);z.moveTo(h[0][0],h[0][1]);for(var q=0;q<h.length;q++){z.lineTo(h[q][0],h[q][1])}z.closePath();return},getRect:function(i){if(i.__rect){return i.__rect}var h;if(i.brushType=="stroke"||i.brushType=="fill"){h=i.lineWidth||1}else{h=0}i.__rect={x:Math.round(i.x-i.r-h/2),y:Math.round(i.y-i.r-h/2),width:i.r*2+h,height:i.r*2+h};return i.__rect}};b("../tool/util").inherits(c,d);return c});define("zrender/shape/Heart",["require","./Base","./util/PathProxy","../tool/area","../tool/util"],function(b){var c=b("./Base");var a=b("./util/PathProxy");var e=b("../tool/area");var d=function(f){c.call(this,f);this._pathProxy=new a()};d.prototype={type:"heart",buildPath:function(f,g){var h=this._pathProxy||new a();h.begin(f);h.moveTo(g.x,g.y);h.bezierCurveTo(g.x+g.a/2,g.y-g.b*2/3,g.x+g.a*2,g.y+g.b/3,g.x,g.y+g.b);h.bezierCurveTo(g.x-g.a*2,g.y+g.b/3,g.x-g.a/2,g.y-g.b*2/3,g.x,g.y);h.closePath();return},getRect:function(f){if(f.__rect){return f.__rect}if(!this._pathProxy.isEmpty()){this.buildPath(null,f)}return this._pathProxy.fastBoundingRect()},isCover:function(f,h){var g=this.transformCoordToLocal(f,h);f=g[0];h=g[1];if(this.isCoverRect(f,h)){return e.isInsidePath(this._pathProxy.pathCommands,this.style.lineWidth,this.style.brushType,f,h)}}};b("../tool/util").inherits(d,c);return d});define("zrender/shape/Droplet",["require","./Base","./util/PathProxy","../tool/area","../tool/util"],function(b){var c=b("./Base");var a=b("./util/PathProxy");var d=b("../tool/area");var e=function(f){c.call(this,f);this._pathProxy=new a()};e.prototype={type:"droplet",buildPath:function(f,g){var h=this._pathProxy||new a();h.begin(f);h.moveTo(g.x,g.y+g.a);h.bezierCurveTo(g.x+g.a,g.y+g.a,g.x+g.a*3/2,g.y-g.a/3,g.x,g.y-g.b);h.bezierCurveTo(g.x-g.a*3/2,g.y-g.a/3,g.x-g.a,g.y+g.a,g.x,g.y+g.a);h.closePath()},getRect:function(f){if(f.__rect){return f.__rect}if(!this._pathProxy.isEmpty()){this.buildPath(null,f)}return this._pathProxy.fastBoundingRect()},isCover:function(f,h){var g=this.transformCoordToLocal(f,h);f=g[0];h=g[1];if(this.isCoverRect(f,h)){return d.isInsidePath(this._pathProxy.pathCommands,this.style.lineWidth,this.style.brushType,f,h)}}};b("../tool/util").inherits(e,c);return e});define("zrender/tool/math",[],function(){var d=Math.PI/180;function c(g,f){return Math.sin(f?g*d:g)}function e(g,f){return Math.cos(f?g*d:g)}function a(f){return f*d}function b(f){return f/d}return{sin:c,cos:e,degreeToRadian:a,radianToDegree:b}});define("zrender/shape/util/PathProxy",["require","../../tool/vector"],function(d){var c=d("../../tool/vector");var a=function(f,e){this.command=f;this.points=e||null};var b=function(){this.pathCommands=[];this._ctx=null;this._min=[];this._max=[]};b.prototype.fastBoundingRect=function(){var l=this._min;var q=this._max;l[0]=l[1]=Infinity;q[0]=q[1]=-Infinity;for(var o=0;o<this.pathCommands.length;o++){var n=this.pathCommands[o];var g=n.points;switch(n.command){case"M":c.min(l,l,g);c.max(q,q,g);break;case"L":c.min(l,l,g);c.max(q,q,g);break;case"C":for(var m=0;m<6;m+=2){l[0]=Math.min(l[0],l[0],g[m]);l[1]=Math.min(l[1],l[1],g[m+1]);q[0]=Math.max(q[0],q[0],g[m]);q[1]=Math.max(q[1],q[1],g[m+1])}break;case"Q":for(var m=0;m<4;m+=2){l[0]=Math.min(l[0],l[0],g[m]);l[1]=Math.min(l[1],l[1],g[m+1]);q[0]=Math.max(q[0],q[0],g[m]);q[1]=Math.max(q[1],q[1],g[m+1])}break;case"A":var k=g[0];var h=g[1];var f=g[2];var e=g[3];l[0]=Math.min(l[0],l[0],k-f);l[1]=Math.min(l[1],l[1],h-e);q[0]=Math.max(q[0],q[0],k+f);q[1]=Math.max(q[1],q[1],h+e);break}}return{x:l[0],y:l[1],width:q[0]-l[0],height:q[1]-l[1]}};b.prototype.begin=function(e){this._ctx=e||null;this.pathCommands.length=0;return this};b.prototype.moveTo=function(e,f){this.pathCommands.push(new a("M",[e,f]));if(this._ctx){this._ctx.moveTo(e,f)}return this};b.prototype.lineTo=function(e,f){this.pathCommands.push(new a("L",[e,f]));if(this._ctx){this._ctx.lineTo(e,f)}return this};b.prototype.bezierCurveTo=function(h,j,f,i,e,g){this.pathCommands.push(new a("C",[h,j,f,i,e,g]));if(this._ctx){this._ctx.bezierCurveTo(h,j,f,i,e,g)}return this};b.prototype.quadraticCurveTo=function(f,h,e,g){this.pathCommands.push(new a("Q",[f,h,e,g]));if(this._ctx){this._ctx.quadraticCurveTo(f,h,e,g)}return this};b.prototype.arc=function(e,j,h,g,f,i){this.pathCommands.push(new a("A",[e,j,h,h,g,f-g,0,i?0:1]));if(this._ctx){this._ctx.arc(e,j,h,g,f,i)}return this};b.prototype.arcTo=function(g,i,f,h,e){if(this._ctx){this._ctx.arcTo(g,i,f,h,e)}return this};b.prototype.rect=function(e,i,f,g){if(this._ctx){this._ctx.rect(e,i,f,g)}return this};b.prototype.closePath=function(){this.pathCommands.push(new a("z"));if(this._ctx){this._ctx.closePath()}return this};b.prototype.isEmpty=function(){return this.pathCommands.length===0};b.PathSegment=a;return b});define("zrender/shape/Line",["require","./Base","./util/dashedLineTo","../tool/util"],function(b){var c=b("./Base");var a=b("./util/dashedLineTo");var d=function(e){this.brushTypeOnly="stroke";this.textPosition="end";c.call(this,e)};d.prototype={type:"line",buildPath:function(e,f){if(!f.lineType||f.lineType=="solid"){e.moveTo(f.xStart,f.yStart);e.lineTo(f.xEnd,f.yEnd)}else{if(f.lineType=="dashed"||f.lineType=="dotted"){var g=(f.lineWidth||1)*(f.lineType=="dashed"?5:1);a(e,f.xStart,f.yStart,f.xEnd,f.yEnd,g)}}},getRect:function(f){if(f.__rect){return f.__rect}var e=f.lineWidth||1;f.__rect={x:Math.min(f.xStart,f.xEnd)-e,y:Math.min(f.yStart,f.yEnd)-e,width:Math.abs(f.xStart-f.xEnd)+e,height:Math.abs(f.yStart-f.yEnd)+e};return f.__rect}};b("../tool/util").inherits(d,c);return d});define("zrender/shape/BezierCurve",["require","./Base","../tool/util"],function(a){var b=a("./Base");var c=function(d){this.brushTypeOnly="stroke";this.textPosition="end";b.call(this,d)};c.prototype={type:"bezier-curve",buildPath:function(d,e){d.moveTo(e.xStart,e.yStart);if(typeof e.cpX2!="undefined"&&typeof e.cpY2!="undefined"){d.bezierCurveTo(e.cpX1,e.cpY1,e.cpX2,e.cpY2,e.xEnd,e.yEnd)}else{d.quadraticCurveTo(e.cpX1,e.cpY1,e.xEnd,e.yEnd)}},getRect:function(f){if(f.__rect){return f.__rect}var k=Math.min(f.xStart,f.xEnd,f.cpX1);var i=Math.min(f.yStart,f.yEnd,f.cpY1);var g=Math.max(f.xStart,f.xEnd,f.cpX1);var e=Math.max(f.yStart,f.yEnd,f.cpY1);var h=f.cpX2;var j=f.cpY2;if(typeof h!="undefined"&&typeof j!="undefined"){k=Math.min(k,h);i=Math.min(i,j);g=Math.max(g,h);e=Math.max(e,j)}var d=f.lineWidth||1;f.__rect={x:k-d,y:i-d,width:g-k+d,height:e-i+d};return f.__rect}};a("../tool/util").inherits(c,b);return c});define("zrender/shape/util/dashedLineTo",[],function(){var a=[5,5];return function(k,d,j,b,h,c){if(k.setLineDash){a[0]=a[1]=c;k.setLineDash(a);k.moveTo(d,j);k.lineTo(b,h);return}c=typeof c!="number"?5:c;var m=b-d;var l=h-j;var f=Math.floor(Math.sqrt(m*m+l*l)/c);m=m/f;l=l/f;var g=true;for(var e=0;e<f;++e){if(g){k.moveTo(d,j)}else{k.lineTo(d,j)}g=!g;d+=m;j+=l}k.lineTo(b,h)}});define("zrender/shape/Polygon",["require","./Base","./util/smoothSpline","./util/smoothBezier","./util/dashedLineTo","../tool/util"],function(c){var d=c("./Base");var f=c("./util/smoothSpline");var e=c("./util/smoothBezier");var a=c("./util/dashedLineTo");var b=function(g){d.call(this,g)};b.prototype={type:"polygon",buildPath:function(s,h){var g=h.pointList;if(g.length<2){return}if(h.smooth&&h.smooth!=="spline"){var t=e(g,h.smooth,true,h.smoothConstraint);s.moveTo(g[0][0],g[0][1]);var q;var n;var k;var r=g.length;for(var o=0;o<r;o++){q=t[o*2];n=t[o*2+1];k=g[(o+1)%r];s.bezierCurveTo(q[0],q[1],n[0],n[1],k[0],k[1])}}else{if(h.smooth==="spline"){g=f(g,true)}if(!h.lineType||h.lineType=="solid"){s.moveTo(g[0][0],g[0][1]);for(var o=1,m=g.length;o<m;o++){s.lineTo(g[o][0],g[o][1])}s.lineTo(g[0][0],g[0][1])}else{if(h.lineType=="dashed"||h.lineType=="dotted"){var j=h._dashLength||(h.lineWidth||1)*(h.lineType=="dashed"?5:1);h._dashLength=j;s.moveTo(g[0][0],g[0][1]);for(var o=1,m=g.length;o<m;o++){a(s,g[o-1][0],g[o-1][1],g[o][0],g[o][1],j)}a(s,g[g.length-1][0],g[g.length-1][1],g[0][0],g[0][1],j)}}}s.closePath();return},getRect:function(k){if(k.__rect){return k.__rect}var o=Number.MAX_VALUE;var j=Number.MIN_VALUE;var m=Number.MAX_VALUE;var g=Number.MIN_VALUE;var h=k.pointList;for(var p=0,n=h.length;p<n;p++){if(h[p][0]<o){o=h[p][0]}if(h[p][0]>j){j=h[p][0]}if(h[p][1]<m){m=h[p][1]}if(h[p][1]>g){g=h[p][1]}}var q;if(k.brushType=="stroke"||k.brushType=="fill"){q=k.lineWidth||1}else{q=0}k.__rect={x:Math.round(o-q/2),y:Math.round(m-q/2),width:j-o+q,height:g-m+q};return k.__rect}};c("../tool/util").inherits(b,d);return b});define("echarts/util/shape/normalIsCover",[],function(){return function(a,c){var b=this.transformCoordToLocal(a,c);a=b[0];c=b[1];return this.isCoverRect(a,c)}});define("zrender/shape/util/smoothSpline",["require","../../tool/vector"],function(c){var a=c("../../tool/vector");function b(k,j,h,g,l,e,d){var i=(h-k)*0.5;var f=(g-j)*0.5;return(2*(j-h)+i+f)*d+(-3*(j-h)-2*i-f)*e+i*l+j}return function(s,d,f){var l=s.length;var m=[];var e=0;for(var k=1;k<l;k++){e+=a.distance(s[k-1],s[k])}var g=e/5;g=g<l?l:g;for(var k=0;k<g;k++){var n=k/(g-1)*(d?l:l-1);var q=Math.floor(n);var p=n-q;var u;var t=s[q%l];var r;var o;if(!d){u=s[q===0?q:q-1];r=s[q>l-2?l-1:q+1];o=s[q>l-3?l-1:q+2]}else{u=s[(q-1+l)%l];r=s[(q+1)%l];o=s[(q+2)%l]}var j=p*p;var h=p*j;m.push([b(u[0],t[0],r[0],o[0],p,j,h),b(u[1],t[1],r[1],o[1],p,j,h)])}return m}});define("zrender/shape/util/smoothBezier",["require","../../tool/vector"],function(b){var a=b("../../tool/vector");return function(p,l,x,c){var h=[];var j=[];var g=[];var e=[];var o;var t;var k=!!c;var n,q;if(k){n=[Infinity,Infinity];q=[-Infinity,-Infinity];for(var r=0,s=p.length;r<s;r++){a.min(n,n,p[r]);a.max(q,q,p[r])}a.min(n,n,c[0]);a.max(q,q,c[1])}for(var r=0,s=p.length;r<s;r++){var m=p[r];var o;var t;if(x){o=p[r?r-1:s-1];t=p[(r+1)%s]}else{if(r===0||r===s-1){h.push(a.clone(p[r]));continue}else{o=p[r-1];t=p[r+1]}}a.sub(j,t,o);a.scale(j,j,l);var d=a.distance(m,o);var y=a.distance(m,t);var f=d+y;if(f!==0){d/=f;y/=f}a.scale(g,j,-d);a.scale(e,j,y);var w=a.add([],m,g);var u=a.add([],m,e);if(k){a.max(w,w,n);a.min(w,w,q);a.max(u,u,n);a.min(u,u,q)}h.push(w);h.push(u)}if(x){h.push(a.clone(h.shift()))}return h}});define("echarts/util/ecQuery",["require","zrender/tool/util"],function(b){var a=b("zrender/tool/util");function d(i,h){if(typeof i=="undefined"){return}if(!h){return i}h=h.split(".");var g=h.length;var f=0;while(f<g){i=i[h[f]];if(typeof i=="undefined"){return}f++}return i}function c(k,j){var h;for(var g=0,f=k.length;g<f;g++){h=d(k[g],j);if(typeof h!="undefined"){return h}}}function e(i,h){var g;var f=i.length;while(f--){var j=d(i[f],h);if(typeof j!="undefined"){if(typeof g=="undefined"){g=a.clone(j)}else{a.merge(g,j,true)}}}return g}return{query:d,deepQuery:c,deepMerge:e}});define("echarts/util/number",[],function(){function f(g){return g.replace(/^\s+/,"").replace(/\s+$/,"")}function b(g,h){if(typeof g==="string"){if(f(g).match(/%$/)){return parseFloat(g)/100*h}return parseFloat(g)}return g}function e(h,g){return[b(g[0],h.getWidth()),b(g[1],h.getHeight())]}function d(i,g){if(!(g instanceof Array)){g=[0,g]}var h=Math.min(i.getWidth(),i.getHeight())/2;return[b(g[0],h),b(g[1],h)]}function a(g){if(isNaN(g)){return"-"}g=(g+"").split(".");return g[0].replace(/(\d{1,3})(?=(?:\d{3})+(?!\d))/g,"$1,")+(g.length>1?"."+g[1]:"")}function c(i){var h=1;var g=0;while(Math.round(i*h)/h!==i){h*=10;g++}return g}return{parsePercent:b,parseCenter:e,parseRadius:d,addCommas:a,getPrecision:c}});define("echarts/data/KDTree",["require","./quickSelect"],function(c){var d=c("./quickSelect");function b(e,f){this.left=null;this.right=null;this.axis=e;this.data=f}var a=function(e,f){if(!e.length){return}if(!f){f=e[0].array.length}this.dimension=f;this.root=this._buildTree(e,0,e.length-1,0);this._stack=[];this._nearstNList=[]};a.prototype._buildTree=function(h,k,e,g){if(e<k){return null}var j=Math.floor((k+e)/2);j=d(h,k,e,j,function(m,l){return m.array[g]-l.array[g]});var f=h[j];var i=new b(g,f);g=(g+1)%this.dimension;if(e>k){i.left=this._buildTree(h,k,j-1,g);i.right=this._buildTree(h,j+1,e,g)}return i};a.prototype.nearest=function(f,m){var n=this.root;var h=this._stack;var k=0;var j=Infinity;var g=null;if(n.data!==f){j=m(n.data,f);g=n}if(f.array[n.axis]<n.data.array[n.axis]){n.right&&(h[k++]=n.right);n.left&&(h[k++]=n.left)}else{n.left&&(h[k++]=n.left);n.right&&(h[k++]=n.right)}while(k--){n=h[k];var l=f.array[n.axis]-n.data.array[n.axis];var i=l<0;var e=false;l=l*l;if(l<j){l=m(n.data,f);if(l<j&&n.data!==f){j=l;g=n}e=true}if(i){if(e){n.right&&(h[k++]=n.right)}n.left&&(h[k++]=n.left)}else{if(e){n.left&&(h[k++]=n.left)}n.right&&(h[k++]=n.right)}}return g.data};a.prototype._addNearest=function(h,j,g){var f=this._nearstNList;for(var e=h-1;e>0;e--){if(j>=f[e-1].dist){break}else{f[e].dist=f[e-1].dist;f[e].node=f[e-1].node}}f[e].dist=j;f[e].node=g};a.prototype.nearestN=function(k,j,p,f){if(j<=0){f.length=0;return f}var r=this.root;var l=this._stack;var n=0;var e=this._nearstNList;for(var h=0;h<j;h++){if(!e[h]){e[h]={}}e[h].dist=0;e[h].node=null}var o=p(r.data,k);var q=0;if(r.data!==k){q++;this._addNearest(q,o,r)}if(k.array[r.axis]<r.data.array[r.axis]){r.right&&(l[n++]=r.right);r.left&&(l[n++]=r.left)}else{r.left&&(l[n++]=r.left);r.right&&(l[n++]=r.right)}while(n--){r=l[n];var o=k.array[r.axis]-r.data.array[r.axis];var m=o<0;var g=false;o=o*o;if(q<j||o<e[q-1].dist){o=p(r.data,k);if((q<j||o<e[q-1].dist)&&r.data!==k){if(q<j){q++}this._addNearest(q,o,r)}g=true}if(m){if(g){r.right&&(l[n++]=r.right)}r.left&&(l[n++]=r.left)}else{if(g){r.left&&(l[n++]=r.left)}r.right&&(l[n++]=r.right)}}for(var h=0;h<q;h++){f[h]=e[h].node.data}f.length=q;return f};return a});define("echarts/data/quickSelect",["require"],function(b){function e(g,f){return g-f}function d(i,h,f){var g=i[h];i[h]=i[f];i[f]=g}function a(m,n,j,k,l){var g=n;while(j>n){var g=Math.round((j+n)/2);var f=m[g];d(m,g,j);g=n;for(var h=n;h<=j-1;h++){if(l(f,m[h])>=0){d(m,h,g);g++}}d(m,j,g);if(g===k){return g}else{if(g<k){n=g+1}else{j=g-1}}}return n}function c(i,j,f,g,h){if(arguments.length<=3){g=j;if(arguments.length==2){h=e}else{h=f}j=0;f=i.length-1}return a(i,j,f,g,h)}return c});define("echarts/component/dataView",["require","./base","../config","zrender/tool/util","../component"],function(c){var d=c("./base");var a=c("../config");var b=c("zrender/tool/util");function e(i,f,j,h,g){d.call(this,i,f,j,h,g);this.dom=g.dom;this._tDom=document.createElement("div");this._textArea=document.createElement("textArea");this._buttonRefresh=document.createElement("button");this._buttonClose=document.createElement("button");this._hasShow=false;this._zrHeight=j.getHeight();this._zrWidth=j.getWidth();this._tDom.className="echarts-dataview";this.hide();this.dom.firstChild.appendChild(this._tDom);if(window.addEventListener){this._tDom.addEventListener("click",this._stop);this._tDom.addEventListener("mousewheel",this._stop);this._tDom.addEventListener("mousemove",this._stop);this._tDom.addEventListener("mousedown",this._stop);this._tDom.addEventListener("mouseup",this._stop);this._tDom.addEventListener("touchstart",this._stop);this._tDom.addEventListener("touchmove",this._stop);this._tDom.addEventListener("touchend",this._stop)}else{this._tDom.attachEvent("onclick",this._stop);this._tDom.attachEvent("onmousewheel",this._stop);this._tDom.attachEvent("onmousemove",this._stop);this._tDom.attachEvent("onmousedown",this._stop);this._tDom.attachEvent("onmouseup",this._stop)}}e.prototype={type:a.COMPONENT_TYPE_DATAVIEW,_lang:["Data View","close","refresh"],_gCssText:"position:absolute;display:block;overflow:hidden;transition:height 0.8s,background-color 1s;-moz-transition:height 0.8s,background-color 1s;-webkit-transition:height 0.8s,background-color 1s;-o-transition:height 0.8s,background-color 1s;z-index:1;left:0;top:0;",hide:function(){this._sizeCssText="width:"+this._zrWidth+"px;height:"+0+"px;background-color:#f0ffff;";this._tDom.style.cssText=this._gCssText+this._sizeCssText},show:function(h){this._hasShow=true;var i=this.query(this.option,"toolbox.feature.dataView.lang")||this._lang;this.option=h;this._tDom.innerHTML='<p style="padding:8px 0;margin:0 0 10px 0;border-bottom:1px solid #eee">'+(i[0]||this._lang[0])+"</p>";var g=this.query(this.option,"toolbox.feature.dataView.optionToContent");if(typeof g!="function"){this._textArea.value=this._optionToContent()}else{this._textArea=document.createElement("div");this._textArea.innerHTML=g(this.option)}this._textArea.style.cssText="display:block;margin:0 0 8px 0;padding:4px 6px;overflow:auto;width:100%;height:"+(this._zrHeight-100)+"px;";this._tDom.appendChild(this._textArea);this._buttonClose.style.cssText="float:right;padding:1px 6px;";this._buttonClose.innerHTML=i[1]||this._lang[1];var f=this;this._buttonClose.onclick=function(){f.hide()};this._tDom.appendChild(this._buttonClose);if(this.query(this.option,"toolbox.feature.dataView.readOnly")===false){this._buttonRefresh.style.cssText="float:right;margin-right:10px;padding:1px 6px;";this._buttonRefresh.innerHTML=i[2]||this._lang[2];this._buttonRefresh.onclick=function(){f._save()};this._textArea.readOnly=false;this._textArea.style.cursor="default"}else{this._buttonRefresh.style.cssText="display:none";this._textArea.readOnly=true;this._textArea.style.cursor="text"}this._tDom.appendChild(this._buttonRefresh);this._sizeCssText="width:"+this._zrWidth+"px;height:"+this._zrHeight+"px;background-color:#fff;";this._tDom.style.cssText=this._gCssText+this._sizeCssText},_optionToContent:function(){var n;var h;var g;var o;var m;var f;var q=[];var p="";if(this.option.xAxis){if(this.option.xAxis instanceof Array){q=this.option.xAxis}else{q=[this.option.xAxis]}for(n=0,o=q.length;n<o;n++){if((q[n].type||"category")=="category"){f=[];for(h=0,g=q[n].data.length;h<g;h++){f.push(this.getDataFromOption(q[n].data[h]))}p+=f.join(", ")+"\n\n"}}}if(this.option.yAxis){if(this.option.yAxis instanceof Array){q=this.option.yAxis}else{q=[this.option.yAxis]}for(n=0,o=q.length;n<o;n++){if(q[n].type=="category"){f=[];for(h=0,g=q[n].data.length;h<g;h++){f.push(this.getDataFromOption(q[n].data[h]))}p+=f.join(", ")+"\n\n"}}}var l=this.option.series;var r;for(n=0,o=l.length;n<o;n++){f=[];for(h=0,g=l[n].data.length;h<g;h++){m=l[n].data[h];if(l[n].type==a.CHART_TYPE_PIE||l[n].type==a.CHART_TYPE_MAP){r=(m.name||"-")+":"}else{r=""}if(l[n].type==a.CHART_TYPE_SCATTER){m=this.getDataFromOption(m).join(", ")}f.push(r+this.getDataFromOption(m))}p+=(l[n].name||"-")+" : \n";p+=f.join(l[n].type==a.CHART_TYPE_SCATTER?"\n":", ");p+="\n\n"}return p},_save:function(){var j=this.query(this.option,"toolbox.feature.dataView.contentToOption");if(typeof j!="function"){var m=this._textArea.value.split("\n");var k=[];for(var h=0,f=m.length;h<f;h++){m[h]=this._trim(m[h]);if(m[h]!==""){k.push(m[h])}}this._contentToOption(k)}else{j(this._textArea,this.option)}this.hide();var g=this;setTimeout(function(){g.messageCenter&&g.messageCenter.dispatch(a.EVENT.DATA_VIEW_CHANGED,null,{option:g.option},g.myChart)},g.canvasSupported?800:100)},_contentToOption:function(o){var m;var g;var f;var n;var l;var q=[];var s=0;var p;var r;if(this.option.xAxis){if(this.option.xAxis instanceof Array){q=this.option.xAxis}else{q=[this.option.xAxis]}for(m=0,n=q.length;m<n;m++){if((q[m].type||"category")=="category"){p=o[s].split(",");for(g=0,f=q[m].data.length;g<f;g++){r=this._trim(p[g]||"");l=q[m].data[g];if(typeof q[m].data[g].value!="undefined"){q[m].data[g].value=r}else{q[m].data[g]=r}}s++}}}if(this.option.yAxis){if(this.option.yAxis instanceof Array){q=this.option.yAxis}else{q=[this.option.yAxis]}for(m=0,n=q.length;m<n;m++){if(q[m].type=="category"){p=o[s].split(",");for(g=0,f=q[m].data.length;g<f;g++){r=this._trim(p[g]||"");l=q[m].data[g];if(typeof q[m].data[g].value!="undefined"){q[m].data[g].value=r}else{q[m].data[g]=r}}s++}}}var h=this.option.series;for(m=0,n=h.length;m<n;m++){s++;if(h[m].type==a.CHART_TYPE_SCATTER){for(var g=0,f=h[m].data.length;g<f;g++){p=o[s];r=p.replace(" ","").split(",");if(typeof h[m].data[g].value!="undefined"){h[m].data[g].value=r}else{h[m].data[g]=r}s++}}else{p=o[s].split(",");for(var g=0,f=h[m].data.length;g<f;g++){r=(p[g]||"").replace(/.*:/,"");r=this._trim(r);r=r!="-"&&r!==""?r-0:"-";if(typeof h[m].data[g].value!="undefined"){h[m].data[g].value=r}else{h[m].data[g]=r}}s++}}},_trim:function(g){var f=new RegExp("(^[\\s\\t\\xa0\\u3000]+)|([\\u3000\\xa0\\s\\t]+$)","g");return g.replace(f,"")},_stop:function(f){f=f||window.event;if(f.stopPropagation){f.stopPropagation()}else{f.cancelBubble=true}},resize:function(){this._zrHeight=this.zr.getHeight();this._zrWidth=this.zr.getWidth();if(this._tDom.offsetHeight>10){this._sizeCssText="width:"+this._zrWidth+"px;height:"+this._zrHeight+"px;background-color:#fff;";this._tDom.style.cssText=this._gCssText+this._sizeCssText;this._textArea.style.cssText="display:block;margin:0 0 8px 0;padding:4px 6px;overflow:auto;width:100%;height:"+(this._zrHeight-100)+"px;"}},dispose:function(){if(window.removeEventListener){this._tDom.removeEventListener("click",this._stop);this._tDom.removeEventListener("mousewheel",this._stop);this._tDom.removeEventListener("mousemove",this._stop);this._tDom.removeEventListener("mousedown",this._stop);this._tDom.removeEventListener("mouseup",this._stop);this._tDom.removeEventListener("touchstart",this._stop);this._tDom.removeEventListener("touchmove",this._stop);this._tDom.removeEventListener("touchend",this._stop)}else{this._tDom.detachEvent("onclick",this._stop);this._tDom.detachEvent("onmousewheel",this._stop);this._tDom.detachEvent("onmousemove",this._stop);this._tDom.detachEvent("onmousedown",this._stop);this._tDom.detachEvent("onmouseup",this._stop)}this._buttonRefresh.onclick=null;this._buttonClose.onclick=null;if(this._hasShow){this._tDom.removeChild(this._textArea);this._tDom.removeChild(this._buttonRefresh);this._tDom.removeChild(this._buttonClose)}this._textArea=null;this._buttonRefresh=null;this._buttonClose=null;this.dom.firstChild.removeChild(this._tDom);this._tDom=null}};b.inherits(e,d);c("../component").define("dataView",e);return e});define("echarts/util/shape/Cross",["require","zrender/shape/Base","zrender/shape/Line","zrender/tool/util","./normalIsCover"],function(b){var c=b("zrender/shape/Base");var e=b("zrender/shape/Line");var a=b("zrender/tool/util");function d(f){c.call(this,f)}d.prototype={type:"cross",buildPath:function(f,g){var h=g.rect;g.xStart=h.x;g.xEnd=h.x+h.width;g.yStart=g.yEnd=g.y;e.prototype.buildPath(f,g);g.xStart=g.xEnd=g.x;g.yStart=h.y;g.yEnd=h.y+h.height;e.prototype.buildPath(f,g)},getRect:function(f){return f.rect},isCover:b("./normalIsCover")};a.inherits(d,c);return d});define("zrender/shape/Sector",["require","../tool/math","../tool/computeBoundingBox","../tool/vector","./Base","../tool/util"],function(b){var g=b("../tool/math");var i=b("../tool/computeBoundingBox");var e=b("../tool/vector");var c=b("./Base");var a=e.create();var j=e.create();var h=e.create();var f=e.create();var d=function(k){c.call(this,k)};d.prototype={type:"sector",buildPath:function(v,l){var u=l.x;var s=l.y;var n=l.r0||0;var k=l.r;var p=l.startAngle;var m=l.endAngle;var o=l.clockWise||false;p=g.degreeToRadian(p);m=g.degreeToRadian(m);if(!o){p=-p;m=-m}var t=g.cos(p);var q=g.sin(p);v.moveTo(t*n+u,q*n+s);v.lineTo(t*k+u,q*k+s);v.arc(u,s,k,p,m,!o);v.lineTo(g.cos(m)*n+u,g.sin(m)*n+s);if(n!==0){v.arc(u,s,n,m,p,o)}v.closePath();return},getRect:function(o){if(o.__rect){return o.__rect}var k=o.x;var s=o.y;var m=o.r0||0;var p=o.r;var n=g.degreeToRadian(o.startAngle);var l=g.degreeToRadian(o.endAngle);var q=o.clockWise;if(!q){n=-n;l=-l}if(m>1){i.arc(k,s,m,n,l,!q,a,h)}else{a[0]=h[0]=k;a[1]=h[1]=s}i.arc(k,s,p,n,l,!q,j,f);e.min(a,a,j);e.max(h,h,f);o.__rect={x:a[0],y:a[1],width:h[0]-a[0],height:h[1]-a[1]};return o.__rect}};b("../tool/util").inherits(d,c);return d});define("echarts/util/shape/Candle",["require","zrender/shape/Base","zrender/tool/util","./normalIsCover"],function(b){var c=b("zrender/shape/Base");var a=b("zrender/tool/util");function d(e){c.call(this,e)}d.prototype={type:"candle",_numberOrder:function(f,e){return e-f},buildPath:function(e,g){var f=a.clone(g.y).sort(this._numberOrder);e.moveTo(g.x,f[3]);e.lineTo(g.x,f[2]);e.moveTo(g.x-g.width/2,f[2]);e.rect(g.x-g.width/2,f[2],g.width,f[1]-f[2]);e.moveTo(g.x,f[1]);e.lineTo(g.x,f[0])},getRect:function(g){if(!g.__rect){var e=0;if(g.brushType=="stroke"||g.brushType=="fill"){e=g.lineWidth||1}var f=a.clone(g.y).sort(this._numberOrder);g.__rect={x:Math.round(g.x-g.width/2-e/2),y:Math.round(f[3]-e/2),width:g.width+e,height:f[0]-f[3]+e}}return g.__rect},isCover:b("./normalIsCover")};a.inherits(d,c);return d});define("zrender/tool/computeBoundingBox",["require","./vector","./curve"],function(d){var g=d("./vector");var c=d("./curve");function i(s,n,r){if(s.length===0){return}var m=s[0][0];var t=s[0][0];var q=s[0][1];var k=s[0][1];for(var o=1;o<s.length;o++){var l=s[o];if(l[0]<m){m=l[0]}if(l[0]>t){t=l[0]}if(l[1]<q){q=l[1]}if(l[1]>k){k=l[1]}}n[0]=m;n[1]=q;r[0]=t;r[1]=k}function b(w,u,t,r,n,q){var l=[];c.cubicExtrema(w[0],u[0],t[0],r[0],l);for(var o=0;o<l.length;o++){l[o]=c.cubicAt(w[0],u[0],t[0],r[0],l[o])}var v=[];c.cubicExtrema(w[1],u[1],t[1],r[1],v);for(var o=0;o<v.length;o++){v[o]=c.cubicAt(w[1],u[1],t[1],r[1],v[o])}l.push(w[0],r[0]);v.push(w[1],r[1]);var m=Math.min.apply(null,l);var s=Math.max.apply(null,l);var p=Math.min.apply(null,v);var k=Math.max.apply(null,v);n[0]=m;n[1]=p;q[0]=s;q[1]=k}function f(v,u,t,n,r){var p=c.quadraticExtremum(v[0],u[0],t[0]);var o=c.quadraticExtremum(v[1],u[1],t[1]);p=Math.max(Math.min(p,1),0);o=Math.max(Math.min(o,1),0);var k=1-p;var w=1-o;var m=k*k*v[0]+2*k*p*u[0]+p*p*t[0];var s=k*k*v[1]+2*k*p*u[1]+p*p*t[1];var l=w*w*v[0]+2*w*o*u[0]+o*o*t[0];var q=w*w*v[1]+2*w*o*u[1]+o*o*t[1];n[0]=Math.min(v[0],t[0],m,l);n[1]=Math.min(v[1],t[1],s,q);r[0]=Math.max(v[0],t[0],m,l);r[1]=Math.max(v[1],t[1],s,q)}var a=g.create();var e=g.create();var j=g.create();var h=function(u,s,k,q,l,m,o,t){if(Math.abs(q-l)>=Math.PI*2){o[0]=u-k;o[1]=s-k;t[0]=u+k;t[1]=s+k;return}a[0]=Math.cos(q)*k+u;a[1]=Math.sin(q)*k+s;e[0]=Math.cos(l)*k+u;e[1]=Math.sin(l)*k+s;g.min(o,a,e);g.max(t,a,e);q=q%(Math.PI*2);if(q<0){q=q+Math.PI*2}l=l%(Math.PI*2);if(l<0){l=l+Math.PI*2}if(q>l&&!m){l+=Math.PI*2}else{if(q<l&&m){q+=Math.PI*2}}if(m){var p=l;l=q;q=p}for(var n=0;n<l;n+=Math.PI/2){if(n>q){j[0]=Math.cos(n)*k+u;j[1]=Math.sin(n)*k+s;g.min(o,j,o);g.max(t,j,t)}}};i.cubeBezier=b;i.quadraticBezier=f;i.arc=h;return i});define("echarts/util/shape/Chain",["require","zrender/shape/Base","./Icon","zrender/shape/util/dashedLineTo","zrender/tool/util","zrender/tool/matrix"],function(d){var e=d("zrender/shape/Base");var f=d("./Icon");var a=d("zrender/shape/util/dashedLineTo");var b=d("zrender/tool/util");var c=d("zrender/tool/matrix");function g(h){e.call(this,h)}g.prototype={type:"chain",brush:function(h,j){var i=this.style;if(j){i=this.getHighlightStyle(i,this.highlightStyle||{})}h.save();this.setContext(h,i);this.setTransform(h);h.save();h.beginPath();this.buildLinePath(h,i);h.stroke();h.restore();this.brushSymbol(h,i);h.restore();return},buildLinePath:function(j,l){var i=l.x;var n=l.y+5;var k=l.width;var h=l.height/2-10;j.moveTo(i,n);j.lineTo(i,n+h);j.moveTo(i+k,n);j.lineTo(i+k,n+h);j.moveTo(i,n+h/2);if(!l.lineType||l.lineType=="solid"){j.lineTo(i+k,n+h/2)}else{if(l.lineType=="dashed"||l.lineType=="dotted"){var m=(l.lineWidth||1)*(l.lineType=="dashed"?5:1);a(j,i,n+h/2,i+k,n+h/2,m)}}},brushSymbol:function(k,n){var p=n.y+n.height/4;k.save();var m=n.chainPoint;var j;for(var h=0,i=m.length;h<i;h++){j=m[h];if(j.symbol!="none"){k.beginPath();var o=j.symbolSize;f.prototype.buildPath(k,{iconType:j.symbol,x:j.x-o,y:p-o,width:o*2,height:o*2,n:j.n});k.fillStyle=j.isEmpty?"#fff":n.strokeColor;k.closePath();k.fill();k.stroke()}if(j.showLabel){k.font=j.textFont;k.fillStyle=j.textColor;k.textAlign=j.textAlign;k.textBaseline=j.textBaseline;if(j.rotation){k.save();this._updateTextTransform(k,j.rotation);k.fillText(j.name,j.textX,j.textY);k.restore()}else{k.fillText(j.name,j.textX,j.textY)}}}k.restore()},_updateTextTransform:function(h,l){var k=c.create();c.identity(k);if(l[0]!==0){var j=l[1]||0;var i=l[2]||0;if(j||i){c.translate(k,k,[-j,-i])}c.rotate(k,k,l[0]);if(j||i){c.translate(k,k,[j,i])}}h.transform.apply(h,k)},isCover:function(h,j){var i=this.style;if(h>=i.x&&h<=i.x+i.width&&j>=i.y&&j<=i.y+i.height){return true}else{return false}}};b.inherits(g,e);return g});define("zrender/shape/Ring",["require","./Base","../tool/util"],function(b){var c=b("./Base");var a=function(d){c.call(this,d)};a.prototype={type:"ring",buildPath:function(d,e){d.arc(e.x,e.y,e.r,0,Math.PI*2,false);d.moveTo(e.x+e.r0,e.y);d.arc(e.x,e.y,e.r0,0,Math.PI*2,true);return},getRect:function(e){if(e.__rect){return e.__rect}var d;if(e.brushType=="stroke"||e.brushType=="fill"){d=e.lineWidth||1}else{d=0}e.__rect={x:Math.round(e.x-e.r-d/2),y:Math.round(e.y-e.r-d/2),width:e.r*2+d,height:e.r*2+d};return e.__rect}};b("../tool/util").inherits(a,c);return a});define("echarts/component/axis",["require","./base","zrender/shape/Line","../config","../util/ecData","zrender/tool/util","zrender/tool/color","./categoryAxis","./valueAxis","../component"],function(d){var f=d("./base");var g=d("zrender/shape/Line");var a=d("../config");var e=d("../util/ecData");var b=d("zrender/tool/util");var h=d("zrender/tool/color");function c(m,j,n,l,k,i){f.call(this,m,j,n,l,k);this.axisType=i;this._axisList=[];this.refresh(l)}c.prototype={type:a.COMPONENT_TYPE_AXIS,axisBase:{_buildAxisLine:function(){var i=this.option.axisLine.lineStyle.width;var j=i/2;var m={_axisShape:"axisLine",zlevel:this.getZlevelBase(),z:this.getZBase()+3,hoverable:false};var k=this.grid;switch(this.option.position){case"left":m.style={xStart:k.getX()-j,yStart:k.getYend(),xEnd:k.getX()-j,yEnd:k.getY(),lineCap:"round"};break;case"right":m.style={xStart:k.getXend()+j,yStart:k.getYend(),xEnd:k.getXend()+j,yEnd:k.getY(),lineCap:"round"};break;case"bottom":m.style={xStart:k.getX(),yStart:k.getYend()+j,xEnd:k.getXend(),yEnd:k.getYend()+j,lineCap:"round"};break;case"top":m.style={xStart:k.getX(),yStart:k.getY()-j,xEnd:k.getXend(),yEnd:k.getY()-j,lineCap:"round"};break}var l=m.style;if(this.option.name!==""){l.text=this.option.name;l.textPosition=this.option.nameLocation;l.textFont=this.getFont(this.option.nameTextStyle);if(this.option.nameTextStyle.align){l.textAlign=this.option.nameTextStyle.align}if(this.option.nameTextStyle.baseline){l.textBaseline=this.option.nameTextStyle.baseline}if(this.option.nameTextStyle.color){l.textColor=this.option.nameTextStyle.color}}l.strokeColor=this.option.axisLine.lineStyle.color;l.lineWidth=i;if(this.isHorizontal()){l.yStart=l.yEnd=this.subPixelOptimize(l.yEnd,i)}else{l.xStart=l.xEnd=this.subPixelOptimize(l.xEnd,i)}l.lineType=this.option.axisLine.lineStyle.type;m=new g(m);this.shapeList.push(m)},_axisLabelClickable:function(i,j){if(i){e.pack(j,undefined,-1,undefined,-1,j.style.text);j.hoverable=true;j.clickable=true;j.highlightStyle={color:h.lift(j.style.color,1),brushType:"fill"};return j}else{return j}},refixAxisShape:function(o,n){if(!this.option.axisLine.onZero){return}var m;if(this.isHorizontal()&&n!=null){for(var k=0,j=this.shapeList.length;k<j;k++){if(this.shapeList[k]._axisShape==="axisLine"){this.shapeList[k].style.yStart=this.shapeList[k].style.yEnd=this.subPixelOptimize(n,this.shapeList[k].stylelineWidth);this.zr.modShape(this.shapeList[k].id)}else{if(this.shapeList[k]._axisShape==="axisTick"){m=this.shapeList[k].style.yEnd-this.shapeList[k].style.yStart;this.shapeList[k].style.yStart=n-m;this.shapeList[k].style.yEnd=n;this.zr.modShape(this.shapeList[k].id)}}}}if(!this.isHorizontal()&&o!=null){for(var k=0,j=this.shapeList.length;k<j;k++){if(this.shapeList[k]._axisShape==="axisLine"){this.shapeList[k].style.xStart=this.shapeList[k].style.xEnd=this.subPixelOptimize(o,this.shapeList[k].stylelineWidth);this.zr.modShape(this.shapeList[k].id)}else{if(this.shapeList[k]._axisShape==="axisTick"){m=this.shapeList[k].style.xEnd-this.shapeList[k].style.xStart;this.shapeList[k].style.xStart=o;this.shapeList[k].style.xEnd=o+m;this.zr.modShape(this.shapeList[k].id)}}}}},getPosition:function(){return this.option.position},isHorizontal:function(){return this.option.position==="bottom"||this.option.position==="top"}},reformOption:function(m){if(!m||m instanceof Array&&m.length===0){m=[{type:a.COMPONENT_TYPE_AXIS_VALUE}]}else{if(!(m instanceof Array)){m=[m]}}if(m.length>2){m=[m[0],m[1]]}if(this.axisType==="xAxis"){if(!m[0].position||m[0].position!="bottom"&&m[0].position!="top"){m[0].position="bottom"}if(m.length>1){m[1].position=m[0].position==="bottom"?"top":"bottom"}for(var k=0,j=m.length;k<j;k++){m[k].type=m[k].type||"category";m[k].xAxisIndex=k;m[k].yAxisIndex=-1}}else{if(!m[0].position||m[0].position!="left"&&m[0].position!="right"){m[0].position="left"}if(m.length>1){m[1].position=m[0].position==="left"?"right":"left"}for(var k=0,j=m.length;k<j;k++){m[k].type=m[k].type||"value";m[k].xAxisIndex=-1;m[k].yAxisIndex=k}}return m},refresh:function(l){var o;if(l){this.option=l;if(this.axisType==="xAxis"){this.option.xAxis=this.reformOption(l.xAxis);o=this.option.xAxis}else{this.option.yAxis=this.reformOption(l.yAxis);o=this.option.yAxis}this.series=l.series}var m=d("./categoryAxis");var n=d("./valueAxis");var j=Math.max(o&&o.length||0,this._axisList.length);for(var k=0;k<j;k++){if(this._axisList[k]&&l&&(!o[k]||this._axisList[k].type!=o[k].type)){this._axisList[k].dispose&&this._axisList[k].dispose();this._axisList[k]=false}if(this._axisList[k]){this._axisList[k].refresh&&this._axisList[k].refresh(o?o[k]:false,this.series)}else{if(o&&o[k]){this._axisList[k]=o[k].type==="category"?new m(this.ecTheme,this.messageCenter,this.zr,o[k],this.myChart,this.axisBase):new n(this.ecTheme,this.messageCenter,this.zr,o[k],this.myChart,this.axisBase,this.series)}}}},getAxis:function(i){return this._axisList[i]},getAxisCount:function(){return this._axisList.length},clear:function(){for(var k=0,j=this._axisList.length;k<j;k++){this._axisList[k].dispose&&this._axisList[k].dispose()}this._axisList=[]}};b.inherits(c,f);d("../component").define("axis",c);return c});define("echarts/component/grid",["require","./base","zrender/shape/Rectangle","../config","zrender/tool/util","../component"],function(d){var e=d("./base");var f=d("zrender/shape/Rectangle");var a=d("../config");a.grid={zlevel:0,z:0,x:80,y:60,x2:80,y2:60,backgroundColor:"rgba(0,0,0,0)",borderWidth:1,borderColor:"#ccc"};var c=d("zrender/tool/util");function b(j,g,k,i,h){e.call(this,j,g,k,i,h);this.refresh(i)}b.prototype={type:a.COMPONENT_TYPE_GRID,getX:function(){return this._x},getY:function(){return this._y},getWidth:function(){return this._width},getHeight:function(){return this._height},getXend:function(){return this._x+this._width},getYend:function(){return this._y+this._height},getArea:function(){return{x:this._x,y:this._y,width:this._width,height:this._height}},getBbox:function(){return[[this._x,this._y],[this.getXend(),this.getYend()]]},refixAxisShape:function(i){var l;var k;var h=i.xAxis._axisList.concat(i.yAxis?i.yAxis._axisList:[]);var g=h.length;var j;while(g--){j=h[g];if(j.type==a.COMPONENT_TYPE_AXIS_VALUE&&j._min<0&&j._max>=0){j.isHorizontal()?l=j.getCoord(0):k=j.getCoord(0)}}if(typeof l!="undefined"||typeof k!="undefined"){g=h.length;while(g--){h[g].refixAxisShape(l,k)}}},refresh:function(j){if(j||this._zrWidth!=this.zr.getWidth()||this._zrHeight!=this.zr.getHeight()){this.clear();this.option=j||this.option;this.option.grid=this.reformOption(this.option.grid);var g=this.option.grid;this._zrWidth=this.zr.getWidth();this._zrHeight=this.zr.getHeight();this._x=this.parsePercent(g.x,this._zrWidth);this._y=this.parsePercent(g.y,this._zrHeight);var h=this.parsePercent(g.x2,this._zrWidth);var i=this.parsePercent(g.y2,this._zrHeight);if(typeof g.width=="undefined"){this._width=this._zrWidth-this._x-h}else{this._width=this.parsePercent(g.width,this._zrWidth)}this._width=this._width<=0?10:this._width;if(typeof g.height=="undefined"){this._height=this._zrHeight-this._y-i}else{this._height=this.parsePercent(g.height,this._zrHeight)}this._height=this._height<=0?10:this._height;this._x=this.subPixelOptimize(this._x,g.borderWidth);this._y=this.subPixelOptimize(this._y,g.borderWidth);this.shapeList.push(new f({zlevel:this.getZlevelBase(),z:this.getZBase(),hoverable:false,style:{x:this._x,y:this._y,width:this._width,height:this._height,brushType:g.borderWidth>0?"both":"fill",color:g.backgroundColor,strokeColor:g.borderColor,lineWidth:g.borderWidth}}));this.zr.addShape(this.shapeList[0])}}};c.inherits(b,e);d("../component").define("grid",b);return b});define("echarts/component/dataZoom",["require","./base","zrender/shape/Rectangle","zrender/shape/Polygon","../util/shape/Icon","../config","../util/date","zrender/tool/util","../component"],function(b){var e=b("./base");var h=b("zrender/shape/Rectangle");var d=b("zrender/shape/Polygon");var a=b("../util/shape/Icon");var g=b("../config");g.dataZoom={zlevel:0,z:4,show:false,orient:"horizontal",backgroundColor:"rgba(0,0,0,0)",dataBackgroundColor:"#eee",fillerColor:"rgba(144,197,237,0.2)",handleColor:"rgba(70,130,180,0.8)",handleSize:8,showDetail:true,realtime:true};var i=b("../util/date");var c=b("zrender/tool/util");function f(n,j,o,m,l){e.call(this,n,j,o,m,l);var k=this;k._ondrift=function(q,p){return k.__ondrift(this,q,p)};k._ondragend=function(){return k.__ondragend()};this._fillerSize=30;this._isSilence=false;this._zoom={};this.option.dataZoom=this.reformOption(this.option.dataZoom);this.zoomOption=this.option.dataZoom;this._handleSize=this.zoomOption.handleSize;if(!this.myChart.canvasSupported){this.zoomOption.realtime=false}this._location=this._getLocation();this._zoom=this._getZoom();this._backupData();if(this.option.dataZoom.show){this._buildShape()}this._syncData()}f.prototype={type:g.COMPONENT_TYPE_DATAZOOM,_buildShape:function(){this._buildBackground();this._buildFiller();this._buildHandle();this._buildFrame();for(var k=0,j=this.shapeList.length;k<j;k++){this.zr.addShape(this.shapeList[k])}this._syncFrameShape()},_getLocation:function(){var k;var n;var m;var j;var l=this.component.grid;if(this.zoomOption.orient=="horizontal"){m=this.zoomOption.width||l.getWidth();j=this.zoomOption.height||this._fillerSize;k=this.zoomOption.x!=null?this.zoomOption.x:l.getX();n=this.zoomOption.y!=null?this.zoomOption.y:this.zr.getHeight()-j-2}else{m=this.zoomOption.width||this._fillerSize;j=this.zoomOption.height||l.getHeight();k=this.zoomOption.x!=null?this.zoomOption.x:2;n=this.zoomOption.y!=null?this.zoomOption.y:l.getY()}return{x:k,y:n,width:m,height:j}},_getZoom:function(){var u=this.option.series;var o=this.option.xAxis;if(o&&!(o instanceof Array)){o=[o];this.option.xAxis=o}var m=this.option.yAxis;if(m&&!(m instanceof Array)){m=[m];this.option.yAxis=m}var y=[];var w;var z;var p=this.zoomOption.xAxisIndex;if(o&&p==null){w=[];for(var v=0,q=o.length;v<q;v++){if(o[v].type=="category"||o[v].type==null){w.push(v)}}}else{if(p instanceof Array){w=p}else{if(p!=null){w=[p]}else{w=[]}}}p=this.zoomOption.yAxisIndex;if(m&&p==null){z=[];for(var v=0,q=m.length;v<q;v++){if(m[v].type=="category"){z.push(v)}}}else{if(p instanceof Array){z=p}else{if(p!=null){z=[p]}else{z=[]}}}var x;for(var v=0,q=u.length;v<q;v++){x=u[v];if(x.type!=g.CHART_TYPE_LINE&&x.type!=g.CHART_TYPE_BAR&&x.type!=g.CHART_TYPE_SCATTER&&x.type!=g.CHART_TYPE_K){continue}for(var t=0,s=w.length;t<s;t++){if(w[t]==(x.xAxisIndex||0)){y.push(v);break}}for(var t=0,s=z.length;t<s;t++){if(z[t]==(x.yAxisIndex||0)){y.push(v);break}}if(this.zoomOption.xAxisIndex==null&&this.zoomOption.yAxisIndex==null&&x.data&&this.getDataFromOption(x.data[0]) instanceof Array&&(x.type==g.CHART_TYPE_SCATTER||x.type==g.CHART_TYPE_LINE||x.type==g.CHART_TYPE_BAR)){y.push(v)}}var n=this._zoom.start!=null?this._zoom.start:this.zoomOption.start!=null?this.zoomOption.start:0;var r=this._zoom.end!=null?this._zoom.end:this.zoomOption.end!=null?this.zoomOption.end:100;if(n>r){n=n+r;r=n-r;n=n-r}var A=Math.round((r-n)/100*(this.zoomOption.orient=="horizontal"?this._location.width:this._location.height));return{start:n,end:r,start2:0,end2:100,size:A,xAxisIndex:w,yAxisIndex:z,seriesIndex:y,scatterMap:this._zoom.scatterMap||{}}},_backupData:function(){this._originalData={xAxis:{},yAxis:{},series:{}};var k=this.option.xAxis;var q=this._zoom.xAxisIndex;for(var o=0,m=q.length;o<m;o++){this._originalData.xAxis[q[o]]=k[q[o]].data}var j=this.option.yAxis;var s=this._zoom.yAxisIndex;for(var o=0,m=s.length;o<m;o++){this._originalData.yAxis[s[o]]=j[s[o]].data}var p=this.option.series;var n=this._zoom.seriesIndex;var r;for(var o=0,m=n.length;o<m;o++){r=p[n[o]];this._originalData.series[n[o]]=r.data;if(r.data&&this.getDataFromOption(r.data[0]) instanceof Array&&(r.type==g.CHART_TYPE_SCATTER||r.type==g.CHART_TYPE_LINE||r.type==g.CHART_TYPE_BAR)){this._backupScale();this._calculScatterMap(n[o])}}},_calculScatterMap:function(k){this._zoom.scatterMap=this._zoom.scatterMap||{};this._zoom.scatterMap[k]=this._zoom.scatterMap[k]||{};var n=b("../component");var j=n.get("axis");var o=c.clone(this.option.xAxis);if(o[0].type=="category"){o[0].type="value"}if(o[1]&&o[1].type=="category"){o[1].type="value"}var m=new j(this.ecTheme,null,false,{xAxis:o,series:this.option.series},this,"xAxis");var l=this.option.series[k].xAxisIndex||0;this._zoom.scatterMap[k].x=m.getAxis(l).getExtremum();m.dispose();o=c.clone(this.option.yAxis);if(o[0].type=="category"){o[0].type="value"}if(o[1]&&o[1].type=="category"){o[1].type="value"}m=new j(this.ecTheme,null,false,{yAxis:o,series:this.option.series},this,"yAxis");l=this.option.series[k].yAxisIndex||0;this._zoom.scatterMap[k].y=m.getAxis(l).getExtremum();m.dispose()},_buildBackground:function(){var v=this._location.width;var t=this._location.height;this.shapeList.push(new h({zlevel:this.getZlevelBase(),z:this.getZBase(),hoverable:false,style:{x:this._location.x,y:this._location.y,width:v,height:t,color:this.zoomOption.backgroundColor}}));var m=0;var o=this._originalData.xAxis;var k=this._zoom.xAxisIndex;for(var B=0,A=k.length;B<A;B++){m=Math.max(m,o[k[B]].length)}var j=this._originalData.yAxis;var u=this._zoom.yAxisIndex;for(var B=0,A=u.length;B<A;B++){m=Math.max(m,j[u[B]].length)}var C=this._zoom.seriesIndex[0];var E=this._originalData.series[C];var D=Number.MIN_VALUE;var s=Number.MAX_VALUE;var w;for(var B=0,A=E.length;B<A;B++){w=this.getDataFromOption(E[B],0);if(this.option.series[C].type==g.CHART_TYPE_K){w=w[1]}if(isNaN(w)){w=0}D=Math.max(D,w);s=Math.min(s,w)}var r=D-s;var z=[];var q=v/(m-(m>1?1:0));var p=t/(m-(m>1?1:0));var n=1;if(this.zoomOption.orient=="horizontal"&&q<1){n=Math.floor(m*3/v)}else{if(this.zoomOption.orient=="vertical"&&p<1){n=Math.floor(m*3/t)}}for(var B=0,A=m;B<A;B+=n){w=this.getDataFromOption(E[B],0);if(this.option.series[C].type==g.CHART_TYPE_K){w=w[1]}if(isNaN(w)){w=0}if(this.zoomOption.orient=="horizontal"){z.push([this._location.x+q*B,this._location.y+t-1-Math.round((w-s)/r*(t-10))])}else{z.push([this._location.x+1+Math.round((w-s)/r*(v-10)),this._location.y+p*(A-B-1)])}}if(this.zoomOption.orient=="horizontal"){z.push([this._location.x+v,this._location.y+t]);z.push([this._location.x,this._location.y+t])}else{z.push([this._location.x,this._location.y]);z.push([this._location.x,this._location.y+t])}this.shapeList.push(new d({zlevel:this.getZlevelBase(),z:this.getZBase(),style:{pointList:z,color:this.zoomOption.dataBackgroundColor},hoverable:false}))},_buildFiller:function(){this._fillerShae={zlevel:this.getZlevelBase(),z:this.getZBase(),draggable:true,ondrift:this._ondrift,ondragend:this._ondragend,_type:"filler"};if(this.zoomOption.orient=="horizontal"){this._fillerShae.style={x:this._location.x+Math.round(this._zoom.start/100*this._location.width)+this._handleSize,y:this._location.y,width:this._zoom.size-this._handleSize*2,height:this._location.height,color:this.zoomOption.fillerColor,text:":::",textPosition:"inside"}}else{this._fillerShae.style={x:this._location.x,y:this._location.y+Math.round(this._zoom.start/100*this._location.height)+this._handleSize,width:this._location.width,height:this._zoom.size-this._handleSize*2,color:this.zoomOption.fillerColor,text:"::",textPosition:"inside"}}this._fillerShae.highlightStyle={brushType:"fill",color:"rgba(0,0,0,0)"};this._fillerShae=new h(this._fillerShae);this.shapeList.push(this._fillerShae)},_buildHandle:function(){var j=this.zoomOption.showDetail?this._getDetail():{start:"",end:""};this._startShape={zlevel:this.getZlevelBase(),z:this.getZBase(),draggable:true,style:{iconType:"rectangle",x:this._location.x,y:this._location.y,width:this._handleSize,height:this._handleSize,color:this.zoomOption.handleColor,text:"=",textPosition:"inside"},highlightStyle:{text:j.start,brushType:"fill",textPosition:"left"},ondrift:this._ondrift,ondragend:this._ondragend};if(this.zoomOption.orient=="horizontal"){this._startShape.style.height=this._location.height;this._endShape=c.clone(this._startShape);this._startShape.style.x=this._fillerShae.style.x-this._handleSize,this._endShape.style.x=this._fillerShae.style.x+this._fillerShae.style.width;this._endShape.highlightStyle.text=j.end;this._endShape.highlightStyle.textPosition="right"}else{this._startShape.style.width=this._location.width;this._endShape=c.clone(this._startShape);this._startShape.style.y=this._fillerShae.style.y+this._fillerShae.style.height;this._startShape.highlightStyle.textPosition="bottom";this._endShape.style.y=this._fillerShae.style.y-this._handleSize;this._endShape.highlightStyle.text=j.end;this._endShape.highlightStyle.textPosition="top"}this._startShape=new a(this._startShape);this._endShape=new a(this._endShape);this.shapeList.push(this._startShape);this.shapeList.push(this._endShape)},_buildFrame:function(){var j=this.subPixelOptimize(this._location.x,1);var k=this.subPixelOptimize(this._location.y,1);this._startFrameShape={zlevel:this.getZlevelBase(),z:this.getZBase(),hoverable:false,style:{x:j,y:k,width:this._location.width-(j>this._location.x?1:0),height:this._location.height-(k>this._location.y?1:0),lineWidth:1,brushType:"stroke",strokeColor:this.zoomOption.handleColor}};this._endFrameShape=c.clone(this._startFrameShape);this._startFrameShape=new h(this._startFrameShape);this._endFrameShape=new h(this._endFrameShape);this.shapeList.push(this._startFrameShape);this.shapeList.push(this._endFrameShape);return},_syncHandleShape:function(){if(this.zoomOption.orient=="horizontal"){this._startShape.style.x=this._fillerShae.style.x-this._handleSize;this._endShape.style.x=this._fillerShae.style.x+this._fillerShae.style.width;this._zoom.start=(this._startShape.style.x-this._location.x)/this._location.width*100;this._zoom.end=(this._endShape.style.x+this._handleSize-this._location.x)/this._location.width*100}else{this._startShape.style.y=this._fillerShae.style.y+this._fillerShae.style.height;this._endShape.style.y=this._fillerShae.style.y-this._handleSize;this._zoom.start=(this._location.y+this._location.height-this._startShape.style.y)/this._location.height*100;this._zoom.end=(this._location.y+this._location.height-this._endShape.style.y-this._handleSize)/this._location.height*100}this.zr.modShape(this._startShape.id);this.zr.modShape(this._endShape.id);this._syncFrameShape();this.zr.refreshNextFrame()},_syncFillerShape:function(){var k;var j;if(this.zoomOption.orient=="horizontal"){k=this._startShape.style.x;j=this._endShape.style.x;this._fillerShae.style.x=Math.min(k,j)+this._handleSize;this._fillerShae.style.width=Math.abs(k-j)-this._handleSize;this._zoom.start=(Math.min(k,j)-this._location.x)/this._location.width*100;this._zoom.end=(Math.max(k,j)+this._handleSize-this._location.x)/this._location.width*100}else{k=this._startShape.style.y;j=this._endShape.style.y;this._fillerShae.style.y=Math.min(k,j)+this._handleSize;this._fillerShae.style.height=Math.abs(k-j)-this._handleSize;this._zoom.start=(this._location.y+this._location.height-Math.max(k,j))/this._location.height*100;this._zoom.end=(this._location.y+this._location.height-Math.min(k,j)-this._handleSize)/this._location.height*100}this.zr.modShape(this._fillerShae.id);this._syncFrameShape();this.zr.refreshNextFrame()},_syncFrameShape:function(){if(this.zoomOption.orient=="horizontal"){this._startFrameShape.style.width=this._fillerShae.style.x-this._location.x;this._endFrameShape.style.x=this._fillerShae.style.x+this._fillerShae.style.width;this._endFrameShape.style.width=this._location.x+this._location.width-this._endFrameShape.style.x}else{this._startFrameShape.style.y=this._fillerShae.style.y+this._fillerShae.style.height;this._startFrameShape.style.height=this._location.y+this._location.height-this._startFrameShape.style.y;this._endFrameShape.style.height=this._fillerShae.style.y-this._location.y}this.zr.modShape(this._startFrameShape.id);this.zr.modShape(this._endFrameShape.id)},_syncShape:function(){if(!this.zoomOption.show){return}if(this.zoomOption.orient=="horizontal"){this._startShape.style.x=this._location.x+this._zoom.start/100*this._location.width;this._endShape.style.x=this._location.x+this._zoom.end/100*this._location.width-this._handleSize;this._fillerShae.style.x=this._startShape.style.x+this._handleSize;this._fillerShae.style.width=this._endShape.style.x-this._startShape.style.x-this._handleSize}else{this._startShape.style.y=this._location.y+this._location.height-this._zoom.start/100*this._location.height;this._endShape.style.y=this._location.y+this._location.height-this._zoom.end/100*this._location.height-this._handleSize;this._fillerShae.style.y=this._endShape.style.y+this._handleSize;this._fillerShae.style.height=this._startShape.style.y-this._endShape.style.y-this._handleSize}this.zr.modShape(this._startShape.id);this.zr.modShape(this._endShape.id);this.zr.modShape(this._fillerShae.id);this._syncFrameShape();this.zr.refresh()},_syncData:function(l){var p;var q;var k;var n;var o;for(var m in this._originalData){p=this._originalData[m];for(var j in p){o=p[j];if(o==null){continue}n=o.length;q=Math.floor(this._zoom.start/100*n);k=Math.ceil(this._zoom.end/100*n);if(!(this.getDataFromOption(o[0]) instanceof Array)||this.option[m][j].type==g.CHART_TYPE_K){this.option[m][j].data=o.slice(q,k)}else{this._setScale();this.option[m][j].data=this._synScatterData(j,o)}}}if(!this._isSilence&&(this.zoomOption.realtime||l)){this.messageCenter.dispatch(g.EVENT.DATA_ZOOM,null,{zoom:this._zoom},this.myChart)}},_synScatterData:function(n,p){if(this._zoom.start===0&&this._zoom.end==100&&this._zoom.start2===0&&this._zoom.end2==100){return p}var w=[];var m=this._zoom.scatterMap[n];var s;var r;var j;var v;var u;if(this.zoomOption.orient=="horizontal"){s=m.x.max-m.x.min;r=this._zoom.start/100*s+m.x.min;j=this._zoom.end/100*s+m.x.min;s=m.y.max-m.y.min;v=this._zoom.start2/100*s+m.y.min;u=this._zoom.end2/100*s+m.y.min}else{s=m.x.max-m.x.min;r=this._zoom.start2/100*s+m.x.min;j=this._zoom.end2/100*s+m.x.min;s=m.y.max-m.y.min;v=this._zoom.start/100*s+m.y.min;u=this._zoom.end/100*s+m.y.min}var q;if(q=m.x.dataMappingMethods){r=q.coord2Value(r);j=q.coord2Value(j)}if(q=m.y.dataMappingMethods){v=q.coord2Value(v);u=q.coord2Value(u)}var t;for(var o=0,k=p.length;o<k;o++){t=p[o].value||p[o];if(t[0]>=r&&t[0]<=j&&t[1]>=v&&t[1]<=u){w.push(p[o])}}return w},_setScale:function(){var k=this._zoom.start!==0||this._zoom.end!==100||this._zoom.start2!==0||this._zoom.end2!==100;var o={xAxis:this.option.xAxis,yAxis:this.option.yAxis};for(var n in o){for(var m=0,j=o[n].length;m<j;m++){o[n][m].scale=k||o[n][m]._scale}}},_backupScale:function(){var n={xAxis:this.option.xAxis,yAxis:this.option.yAxis};for(var m in n){for(var k=0,j=n[m].length;k<j;k++){n[m][k]._scale=n[m][k].scale}}},_getDetail:function(){var y=["xAxis","yAxis"];for(var r=0,m=y.length;r<m;r++){var s=this._originalData[y[r]];for(var w in s){var q=s[w];if(q==null){continue}var k=q.length;var j=Math.floor(this._zoom.start/100*k);var n=Math.ceil(this._zoom.end/100*k);n-=n>0?1:0;return{start:this.getDataFromOption(q[j]),end:this.getDataFromOption(q[n])}}}y=this.zoomOption.orient=="horizontal"?"xAxis":"yAxis";var p=this._zoom.seriesIndex[0];var z=this.option.series[p][y+"Index"]||0;var x=this.option[y][z].type;var o=this._zoom.scatterMap[p][y.charAt(0)].min;var t=this._zoom.scatterMap[p][y.charAt(0)].max;var u=t-o;if(x=="value"){return{start:o+u*this._zoom.start/100,end:o+u*this._zoom.end/100}}else{if(x=="time"){t=o+u*this._zoom.end/100;o=o+u*this._zoom.start/100;var v=i.getAutoFormatter(o,t).formatter;return{start:i.format(v,o),end:i.format(v,t)}}}return{start:"",end:""}},__ondrift:function(l,k,j){if(this.zoomOption.zoomLock){l=this._fillerShae}var n=l._type=="filler"?this._handleSize:0;if(this.zoomOption.orient=="horizontal"){if(l.style.x+k-n<=this._location.x){l.style.x=this._location.x+n}else{if(l.style.x+k+l.style.width+n>=this._location.x+this._location.width){l.style.x=this._location.x+this._location.width-l.style.width-n}else{l.style.x+=k}}}else{if(l.style.y+j-n<=this._location.y){l.style.y=this._location.y+n}else{if(l.style.y+j+l.style.height+n>=this._location.y+this._location.height){l.style.y=this._location.y+this._location.height-l.style.height-n}else{l.style.y+=j}}}if(l._type=="filler"){this._syncHandleShape()}else{this._syncFillerShape()}if(this.zoomOption.realtime){this._syncData()}if(this.zoomOption.showDetail){var m=this._getDetail();this._startShape.style.text=this._startShape.highlightStyle.text=m.start;this._endShape.style.text=this._endShape.highlightStyle.text=m.end;this._startShape.style.textPosition=this._startShape.highlightStyle.textPosition;this._endShape.style.textPosition=this._endShape.highlightStyle.textPosition}return true},__ondragend:function(){if(this.zoomOption.showDetail){this._startShape.style.text=this._endShape.style.text="=";this._startShape.style.textPosition=this._endShape.style.textPosition="inside";this.zr.modShape(this._startShape.id);this.zr.modShape(this._endShape.id);this.zr.refreshNextFrame()}this.isDragend=true},ondragend:function(k,j){if(!this.isDragend||!k.target){return}!this.zoomOption.realtime&&this._syncData();j.dragOut=true;j.dragIn=true;if(!this._isSilence&&!this.zoomOption.realtime){this.messageCenter.dispatch(g.EVENT.DATA_ZOOM,null,{zoom:this._zoom},this.myChart)}j.needRefresh=false;this.isDragend=false;return},ondataZoom:function(k,j){j.needRefresh=true;return},absoluteZoom:function(j){this._zoom.start=j.start;this._zoom.end=j.end;this._zoom.start2=j.start2;this._zoom.end2=j.end2;this._syncShape();this._syncData(true);return},rectZoom:function(q){if(!q){this._zoom.start=this._zoom.start2=0;this._zoom.end=this._zoom.end2=100;this._syncShape();this._syncData(true);return this._zoom}var k=this.component.grid.getArea();var p={x:q.x,y:q.y,width:q.width,height:q.height};if(p.width<0){p.x+=p.width;p.width=-p.width}if(p.height<0){p.y+=p.height;p.height=-p.height}if(p.x>k.x+k.width||p.y>k.y+k.height){return false}if(p.x<k.x){p.x=k.x}if(p.x+p.width>k.x+k.width){p.width=k.x+k.width-p.x}if(p.y+p.height>k.y+k.height){p.height=k.y+k.height-p.y}var o;var m=(p.x-k.x)/k.width;var n=1-(p.x+p.width-k.x)/k.width;var j=1-(p.y+p.height-k.y)/k.height;var l=(p.y-k.y)/k.height;if(this.zoomOption.orient=="horizontal"){o=this._zoom.end-this._zoom.start;this._zoom.start+=o*m;this._zoom.end-=o*n;o=this._zoom.end2-this._zoom.start2;this._zoom.start2+=o*j;this._zoom.end2-=o*l}else{o=this._zoom.end-this._zoom.start;this._zoom.start+=o*j;this._zoom.end-=o*l;o=this._zoom.end2-this._zoom.start2;this._zoom.start2+=o*m;this._zoom.end2-=o*n}this._syncShape();this._syncData(true);return this._zoom},syncBackupData:function(o){var m;var u=this._originalData.series;var n=o.series;var t;for(var s=0,p=n.length;s<p;s++){t=n[s].data||n[s].eventList;if(u[s]){m=Math.floor(this._zoom.start/100*u[s].length)}else{m=0}for(var r=0,q=t.length;r<q;r++){if(u[s]){u[s][r+m]=t[r]}}}},syncOption:function(j){this.silence(true);this.option=j;this.option.dataZoom=this.reformOption(this.option.dataZoom);this.zoomOption=this.option.dataZoom;if(!this.myChart.canvasSupported){this.zoomOption.realtime=false}this.clear();this._location=this._getLocation();this._zoom=this._getZoom();this._backupData();if(this.option.dataZoom&&this.option.dataZoom.show){this._buildShape()}this._syncData();this.silence(false)},silence:function(j){this._isSilence=j},getRealDataIndex:function(k,l){if(!this._originalData||this._zoom.start===0&&this._zoom.end==100){return l}var j=this._originalData.series;if(j[k]){return Math.floor(this._zoom.start/100*j[k].length)+l}return -1},resize:function(){this.clear();this._location=this._getLocation();this._zoom=this._getZoom();if(this.option.dataZoom.show){this._buildShape()}}};c.inherits(f,e);b("../component").define("dataZoom",f);return f});define("echarts/component/categoryAxis",["require","./base","zrender/shape/Text","zrender/shape/Line","zrender/shape/Rectangle","../config","zrender/tool/util","zrender/tool/area","../component"],function(c){var f=c("./base");var d=c("zrender/shape/Text");var b=c("zrender/shape/Line");var h=c("zrender/shape/Rectangle");var g=c("../config");g.categoryAxis={zlevel:0,z:0,show:true,position:"bottom",name:"",nameLocation:"end",nameTextStyle:{},boundaryGap:true,axisLine:{show:true,onZero:true,lineStyle:{color:"#48b",width:2,type:"solid"}},axisTick:{show:true,interval:"auto",inside:false,length:5,lineStyle:{color:"#333",width:1}},axisLabel:{show:true,interval:"auto",rotate:0,margin:8,textStyle:{color:"#333"}},splitLine:{show:true,lineStyle:{color:["#ccc"],width:1,type:"solid"}},splitArea:{show:false,areaStyle:{color:["rgba(250,250,250,0.3)","rgba(200,200,200,0.3)"]}}};var e=c("zrender/tool/util");var i=c("zrender/tool/area");function a(n,j,o,m,l,k){if(m.data.length<1){console.error("option.data.length < 1.");return}f.call(this,n,j,o,m,l);this.grid=this.component.grid;for(var p in k){this[p]=k[p]}this.refresh(m)}a.prototype={type:g.COMPONENT_TYPE_AXIS_CATEGORY,_getReformedLabel:function(j){var l=this.getDataFromOption(this.option.data[j]);var k=this.option.data[j].formatter||this.option.axisLabel.formatter;if(k){if(typeof k=="function"){l=k.call(this.myChart,l)}else{if(typeof k=="string"){l=k.replace("{value}",l)}}}return l},_getInterval:function(){var k=this.option.axisLabel.interval;if(k=="auto"){var v=this.option.axisLabel.textStyle.fontSize;var p=this.option.data;var j=this.option.data.length;if(this.isHorizontal()){if(j>3){var u=this.getGap();var l=false;var r;var n;var m=Math.floor(0.5/u);m=m<1?1:m;k=Math.floor(15/u);while(!l&&k<j){k+=m;l=true;r=Math.floor(u*k);for(var o=Math.floor((j-1)/k)*k;o>=0;o-=k){if(this.option.axisLabel.rotate!==0){n=v}else{if(p[o].textStyle){n=i.getTextWidth(this._getReformedLabel(o),this.getFont(e.merge(p[o].textStyle,this.option.axisLabel.textStyle)))}else{var t=this._getReformedLabel(o)+"";var q=(t.match(/\w/g)||"").length;var s=t.length-q;n=q*v*2/3+s*v}}if(r<n){l=false;break}}}}else{k=1}}else{if(j>3){var u=this.getGap();k=Math.floor(11/u);while(u*k-6<v&&k<j){k++}}else{k=1}}}else{k=typeof k=="function"?1:k-0+1}return k},_buildShape:function(){this._interval=this._getInterval();if(!this.option.show){return}this.option.splitArea.show&&this._buildSplitArea();this.option.splitLine.show&&this._buildSplitLine();this.option.axisLine.show&&this._buildAxisLine();this.option.axisTick.show&&this._buildAxisTick();this.option.axisLabel.show&&this._buildAxisLabel();for(var k=0,j=this.shapeList.length;k<j;k++){this.zr.addShape(this.shapeList[k])}},_buildAxisTick:function(){var w;var p=this.option.data;var l=this.option.data.length;var B=this.option.axisTick;var m=B.length;var n=B.lineStyle.color;var s=B.lineStyle.width;var u=typeof B.interval=="function"?B.interval:B.interval=="auto"?typeof this.option.axisLabel.interval=="function"?this.option.axisLabel.interval:false:false;var k=u?1:B.interval=="auto"?this._interval:B.interval-0+1;var q=B.onGap;var A=q?this.getGap()/2:typeof q=="undefined"?this.option.boundaryGap?this.getGap()/2:0:0;var z=A>0?-k:0;if(this.isHorizontal()){var r=this.option.position=="bottom"?B.inside?this.grid.getYend()-m-1:this.grid.getYend()+1:B.inside?this.grid.getY()+1:this.grid.getY()-m-1;var v;for(var o=z;o<l;o+=k){if(u&&!u(o,p[o])){continue}v=this.subPixelOptimize(this.getCoordByIndex(o)+(o>=0?A:0),s);w={_axisShape:"axisTick",zlevel:this.getZlevelBase(),z:this.getZBase(),hoverable:false,style:{xStart:v,yStart:r,xEnd:v,yEnd:r+m,strokeColor:n,lineWidth:s}};this.shapeList.push(new b(w))}}else{var j=this.option.position=="left"?B.inside?this.grid.getX()+1:this.grid.getX()-m-1:B.inside?this.grid.getXend()-m-1:this.grid.getXend()+1;var t;for(var o=z;o<l;o+=k){if(u&&!u(o,p[o])){continue}t=this.subPixelOptimize(this.getCoordByIndex(o)-(o>=0?A:0),s);w={_axisShape:"axisTick",zlevel:this.getZlevelBase(),z:this.getZBase(),hoverable:false,style:{xStart:j,yStart:t,xEnd:j+m,yEnd:t,strokeColor:n,lineWidth:s}};this.shapeList.push(new b(w))}}},_buildAxisLabel:function(){var v;var p=this.option.data;var k=this.option.data.length;var x=this.option.axisLabel;var n=x.rotate;var m=x.margin;var t=x.clickable;var s=x.textStyle;var u=typeof x.interval=="function"?x.interval:false;var l;if(this.isHorizontal()){var q;var w;if(this.option.position=="bottom"){q=this.grid.getYend()+m;w="top"}else{q=this.grid.getY()-m;w="bottom"}for(var o=0;o<k;o+=this._interval){if(u&&!u(o,p[o])||this._getReformedLabel(o)===""){continue}l=e.merge(p[o].textStyle||{},s);v={zlevel:this.getZlevelBase(),z:this.getZBase()+3,hoverable:false,style:{x:this.getCoordByIndex(o),y:q,color:l.color,text:this._getReformedLabel(o),textFont:this.getFont(l),textAlign:l.align||"center",textBaseline:l.baseline||w}};if(n){v.style.textAlign=n>0?this.option.position=="bottom"?"right":"left":this.option.position=="bottom"?"left":"right";v.rotation=[n*Math.PI/180,v.style.x,v.style.y]}this.shapeList.push(new d(this._axisLabelClickable(t,v)))}}else{var j;var r;if(this.option.position=="left"){j=this.grid.getX()-m;r="right"}else{j=this.grid.getXend()+m;r="left"}for(var o=0;o<k;o+=this._interval){if(u&&!u(o,p[o])||this._getReformedLabel(o)===""){continue}l=e.merge(p[o].textStyle||{},s);v={zlevel:this.getZlevelBase(),z:this.getZBase()+3,hoverable:false,style:{x:j,y:this.getCoordByIndex(o),color:l.color,text:this._getReformedLabel(o),textFont:this.getFont(l),textAlign:l.align||r,textBaseline:l.baseline||o===0&&this.option.name!==""?"bottom":o==k-1&&this.option.name!==""?"top":"middle"}};if(n){v.rotation=[n*Math.PI/180,v.style.x,v.style.y]}this.shapeList.push(new d(this._axisLabelClickable(t,v)))}}},_buildSplitLine:function(){var w;var B=this.option.data;var l=this.option.data.length;var C=this.option.splitLine;var z=C.lineStyle.type;var j=C.lineStyle.width;var r=C.lineStyle.color;r=r instanceof Array?r:[r];var k=r.length;var q=typeof this.option.axisLabel.interval=="function"?this.option.axisLabel.interval:false;var t=C.onGap;var A=t?this.getGap()/2:typeof t=="undefined"?this.option.boundaryGap?this.getGap()/2:0:0;l-=t||typeof t=="undefined"&&this.option.boundaryGap?1:0;if(this.isHorizontal()){var o=this.grid.getY();var u=this.grid.getYend();var n;for(var s=0;s<l;s+=this._interval){if(q&&!q(s,B[s])){continue}n=this.subPixelOptimize(this.getCoordByIndex(s)+A,j);w={zlevel:this.getZlevelBase(),z:this.getZBase(),hoverable:false,style:{xStart:n,yStart:o,xEnd:n,yEnd:u,strokeColor:r[s/this._interval%k],lineType:z,lineWidth:j}};this.shapeList.push(new b(w))}}else{var p=this.grid.getX();var v=this.grid.getXend();var m;for(var s=0;s<l;s+=this._interval){if(q&&!q(s,B[s])){continue}m=this.subPixelOptimize(this.getCoordByIndex(s)-A,j);w={zlevel:this.getZlevelBase(),z:this.getZBase(),hoverable:false,style:{xStart:p,yStart:m,xEnd:v,yEnd:m,strokeColor:r[s/this._interval%k],lineType:z,lineWidth:j}};this.shapeList.push(new b(w))}}},_buildSplitArea:function(){var A;var C=this.option.data;var j=this.option.splitArea;var u=j.areaStyle.color;if(!(u instanceof Array)){A={zlevel:this.getZlevelBase(),z:this.getZBase(),hoverable:false,style:{x:this.grid.getX(),y:this.grid.getY(),width:this.grid.getWidth(),height:this.grid.getHeight(),color:u}};this.shapeList.push(new h(A))}else{var k=u.length;var m=this.option.data.length;var t=typeof this.option.axisLabel.interval=="function"?this.option.axisLabel.interval:false;var w=j.onGap;var B=w?this.getGap()/2:typeof w=="undefined"?this.option.boundaryGap?this.getGap()/2:0:0;if(this.isHorizontal()){var p=this.grid.getY();var r=this.grid.getHeight();var l=this.grid.getX();var o;for(var v=0;v<=m;v+=this._interval){if(t&&!t(v,C[v])&&v<m){continue}o=v<m?this.getCoordByIndex(v)+B:this.grid.getXend();A={zlevel:this.getZlevelBase(),z:this.getZBase(),hoverable:false,style:{x:l,y:p,width:o-l,height:r,color:u[v/this._interval%k]}};this.shapeList.push(new h(A));l=o}}else{var q=this.grid.getX();var s=this.grid.getWidth();var z=this.grid.getYend();var n;for(var v=0;v<=m;v+=this._interval){if(t&&!t(v,C[v])&&v<m){continue}n=v<m?this.getCoordByIndex(v)-B:this.grid.getY();A={zlevel:this.getZlevelBase(),z:this.getZBase(),hoverable:false,style:{x:q,y:n,width:s,height:z-n,color:u[v/this._interval%k]}};this.shapeList.push(new h(A));z=n}}}},refresh:function(j){if(j){this.option=this.reformOption(j);this.option.axisLabel.textStyle=this.getTextStyle(this.option.axisLabel.textStyle)}this.clear();this._buildShape()},getGap:function(){var k=this.option.data.length;var j=this.isHorizontal()?this.grid.getWidth():this.grid.getHeight();if(this.option.boundaryGap){return j/k}else{return j/(k>1?k-1:1)}},getCoord:function(m){var l=this.option.data;var n=l.length;var o=this.getGap();var j=this.option.boundaryGap?o/2:0;for(var k=0;k<n;k++){if(this.getDataFromOption(l[k])==m){if(this.isHorizontal()){j=this.grid.getX()+j}else{j=this.grid.getYend()-j}return j}j+=o}},getCoordByIndex:function(k){if(k<0){if(this.isHorizontal()){return this.grid.getX()}else{return this.grid.getYend()}}else{if(k>this.option.data.length-1){if(this.isHorizontal()){return this.grid.getXend()}else{return this.grid.getY()}}else{var l=this.getGap();var j=this.option.boundaryGap?l/2:0;j+=k*l;if(this.isHorizontal()){j=this.grid.getX()+j}else{j=this.grid.getYend()-j}return j}}},getNameByIndex:function(j){return this.getDataFromOption(this.option.data[j])},getIndexByName:function(j){var l=this.option.data;var m=l.length;for(var k=0;k<m;k++){if(this.getDataFromOption(l[k])==j){return k}}return -1},getValueFromCoord:function(){return""},isMainAxis:function(j){return j%this._interval===0}};e.inherits(a,f);c("../component").define("categoryAxis",a);return a});define("echarts/component/valueAxis",["require","./base","zrender/shape/Text","zrender/shape/Line","zrender/shape/Rectangle","../config","../util/date","zrender/tool/util","../util/smartSteps","../util/accMath","../util/smartLogSteps","../component"],function(c){var f=c("./base");var d=c("zrender/shape/Text");var b=c("zrender/shape/Line");var h=c("zrender/shape/Rectangle");var g=c("../config");g.valueAxis={zlevel:0,z:0,show:true,position:"left",name:"",nameLocation:"end",nameTextStyle:{},boundaryGap:[0,0],axisLine:{show:true,onZero:true,lineStyle:{color:"#48b",width:2,type:"solid"}},axisTick:{show:false,inside:false,length:5,lineStyle:{color:"#333",width:1}},axisLabel:{show:true,rotate:0,margin:8,textStyle:{color:"#333"}},splitLine:{show:true,lineStyle:{color:["#ccc"],width:1,type:"solid"}},splitArea:{show:false,areaStyle:{color:["rgba(250,250,250,0.3)","rgba(200,200,200,0.3)"]}}};var i=c("../util/date");var e=c("zrender/tool/util");function a(o,j,p,n,l,k,m){if(!m||m.length===0){console.err("option.series.length == 0.");return}f.call(this,o,j,p,n,l);this.series=m;this.grid=this.component.grid;for(var q in k){this[q]=k[q]}this.refresh(n,m)}a.prototype={type:g.COMPONENT_TYPE_AXIS_VALUE,_buildShape:function(){this._hasData=false;this._calculateValue();if(!this._hasData||!this.option.show){return}this.option.splitArea.show&&this._buildSplitArea();this.option.splitLine.show&&this._buildSplitLine();this.option.axisLine.show&&this._buildAxisLine();this.option.axisTick.show&&this._buildAxisTick();this.option.axisLabel.show&&this._buildAxisLabel();for(var k=0,j=this.shapeList.length;k<j;k++){this.zr.addShape(this.shapeList[k])}},_buildAxisTick:function(){var t;var o=this._valueList;var k=this._valueList.length;var u=this.option.axisTick;var l=u.length;var m=u.lineStyle.color;var q=u.lineStyle.width;if(this.isHorizontal()){var p=this.option.position==="bottom"?u.inside?this.grid.getYend()-l-1:this.grid.getYend()+1:u.inside?this.grid.getY()+1:this.grid.getY()-l-1;var s;for(var n=0;n<k;n++){s=this.subPixelOptimize(this.getCoord(o[n]),q);t={_axisShape:"axisTick",zlevel:this.getZlevelBase(),z:this.getZBase(),hoverable:false,style:{xStart:s,yStart:p,xEnd:s,yEnd:p+l,strokeColor:m,lineWidth:q}};this.shapeList.push(new b(t))}}else{var j=this.option.position==="left"?u.inside?this.grid.getX()+1:this.grid.getX()-l-1:u.inside?this.grid.getXend()-l-1:this.grid.getXend()+1;var r;for(var n=0;n<k;n++){r=this.subPixelOptimize(this.getCoord(o[n]),q);t={_axisShape:"axisTick",zlevel:this.getZlevelBase(),z:this.getZBase(),hoverable:false,style:{xStart:j,yStart:r,xEnd:j+l,yEnd:r,strokeColor:m,lineWidth:q}};this.shapeList.push(new b(t))}}},_buildAxisLabel:function(){var t;var o=this._valueList;var k=this._valueList.length;var m=this.option.axisLabel.rotate;var l=this.option.axisLabel.margin;var s=this.option.axisLabel.clickable;var r=this.option.axisLabel.textStyle;if(this.isHorizontal()){var p;var u;if(this.option.position==="bottom"){p=this.grid.getYend()+l;u="top"}else{p=this.grid.getY()-l;u="bottom"}for(var n=0;n<k;n++){t={zlevel:this.getZlevelBase(),z:this.getZBase()+3,hoverable:false,style:{x:this.getCoord(o[n]),y:p,color:typeof r.color==="function"?r.color(o[n]):r.color,text:this._valueLabel[n],textFont:this.getFont(r),textAlign:r.align||"center",textBaseline:r.baseline||u}};if(m){t.style.textAlign=m>0?this.option.position==="bottom"?"right":"left":this.option.position==="bottom"?"left":"right";t.rotation=[m*Math.PI/180,t.style.x,t.style.y]}this.shapeList.push(new d(this._axisLabelClickable(s,t)))}}else{var j;var q;if(this.option.position==="left"){j=this.grid.getX()-l;q="right"}else{j=this.grid.getXend()+l;q="left"}for(var n=0;n<k;n++){t={zlevel:this.getZlevelBase(),z:this.getZBase()+3,hoverable:false,style:{x:j,y:this.getCoord(o[n]),color:typeof r.color==="function"?r.color(o[n]):r.color,text:this._valueLabel[n],textFont:this.getFont(r),textAlign:r.align||q,textBaseline:r.baseline||(n===0&&this.option.name!==""?"bottom":n===k-1&&this.option.name!==""?"top":"middle")}};if(m){t.rotation=[m*Math.PI/180,t.style.x,t.style.y]}this.shapeList.push(new d(this._axisLabelClickable(s,t)))}}},_buildSplitLine:function(){var z;var n=this._valueList;var j=this._valueList.length;var k=this.option.splitLine;var p=k.lineStyle.type;var o=k.lineStyle.width;var l=k.lineStyle.color;l=l instanceof Array?l:[l];var s=l.length;if(this.isHorizontal()){var u=this.grid.getY();var q=this.grid.getYend();var w;for(var m=0;m<j;m++){w=this.subPixelOptimize(this.getCoord(n[m]),o);z={zlevel:this.getZlevelBase(),z:this.getZBase(),hoverable:false,style:{xStart:w,yStart:u,xEnd:w,yEnd:q,strokeColor:l[m%s],lineType:p,lineWidth:o}};this.shapeList.push(new b(z))}}else{var v=this.grid.getX();var r=this.grid.getXend();var t;for(var m=0;m<j;m++){t=this.subPixelOptimize(this.getCoord(n[m]),o);z={zlevel:this.getZlevelBase(),z:this.getZBase(),hoverable:false,style:{xStart:v,yStart:t,xEnd:r,yEnd:t,strokeColor:l[m%s],lineType:p,lineWidth:o}};this.shapeList.push(new b(z))}}},_buildSplitArea:function(){var v;var o=this.option.splitArea.areaStyle.color;if(!(o instanceof Array)){v={zlevel:this.getZlevelBase(),z:this.getZBase(),hoverable:false,style:{x:this.grid.getX(),y:this.grid.getY(),width:this.grid.getWidth(),height:this.grid.getHeight(),color:o}};this.shapeList.push(new h(v))}else{var s=o.length;var q=this._valueList;var n=this._valueList.length;if(this.isHorizontal()){var t=this.grid.getY();var w=this.grid.getHeight();var m=this.grid.getX();var l;for(var p=0;p<=n;p++){l=p<n?this.getCoord(q[p]):this.grid.getXend();v={zlevel:this.getZlevelBase(),z:this.getZBase(),hoverable:false,style:{x:m,y:t,width:l-m,height:w,color:o[p%s]}};this.shapeList.push(new h(v));m=l}}else{var u=this.grid.getX();var k=this.grid.getWidth();var r=this.grid.getYend();var j;for(var p=0;p<=n;p++){j=p<n?this.getCoord(q[p]):this.grid.getY();v={zlevel:this.getZlevelBase(),z:this.getZBase(),hoverable:false,style:{x:u,y:j,width:k,height:r-j,color:o[p%s]}};this.shapeList.push(new h(v));r=j}}}},_calculateValue:function(){if(isNaN(this.option.min-0)||isNaN(this.option.max-0)){var r={};var t;var n;var v=this.component.legend;for(var s=0,o=this.series.length;s<o;s++){if(this.series[s].type!=g.CHART_TYPE_LINE&&this.series[s].type!=g.CHART_TYPE_BAR&&this.series[s].type!=g.CHART_TYPE_SCATTER&&this.series[s].type!=g.CHART_TYPE_K&&this.series[s].type!=g.CHART_TYPE_EVENTRIVER){continue}if(v&&!v.isSelected(this.series[s].name)){continue}t=this.series[s].xAxisIndex||0;n=this.series[s].yAxisIndex||0;if(this.option.xAxisIndex!=t&&this.option.yAxisIndex!=n){continue}this._calculSum(r,s)}var w;for(var s in r){w=r[s];for(var q=0,p=w.length;q<p;q++){if(!isNaN(w[q])){this._hasData=true;this._min=w[q];this._max=w[q];break}}if(this._hasData){break}}for(var s in r){w=r[s];for(var q=0,p=w.length;q<p;q++){if(!isNaN(w[q])){this._min=Math.min(this._min,w[q]);this._max=Math.max(this._max,w[q])}}}var m=this.option.type!=="log"?this.option.boundaryGap:[0,0];var u=Math.abs(this._max-this._min);this._min=isNaN(this.option.min-0)?this._min-Math.abs(u*m[0]):this.option.min-0;this._max=isNaN(this.option.max-0)?this._max+Math.abs(u*m[1]):this.option.max-0;if(this._min===this._max){if(this._max===0){this._max=1}else{if(this._max>0){this._min=this._max/this.option.splitNumber!=null?this.option.splitNumber:5}else{this._max=this._max/this.option.splitNumber!=null?this.option.splitNumber:5}}}if(this.option.type==="time"){this._reformTimeValue()}else{if(this.option.type==="log"){this._reformLogValue()}else{this._reformValue(this.option.scale)}}}else{this._hasData=true;this._min=this.option.min-0;this._max=this.option.max-0;if(this.option.type==="time"){this._reformTimeValue()}else{if(this.option.type==="log"){this._reformLogValue()}else{this._customerValue()}}}},_calculSum:function(r,s){var w=this.series[s].name||"kener";var v;var x;if(!this.series[s].stack){r[w]=r[w]||[];if(this.series[s].type!=g.CHART_TYPE_EVENTRIVER){x=this.series[s].data;for(var q=0,p=x.length;q<p;q++){v=this.getDataFromOption(x[q]);if(this.series[s].type===g.CHART_TYPE_K){r[w].push(v[0]);r[w].push(v[1]);r[w].push(v[2]);r[w].push(v[3])}else{if(v instanceof Array){if(this.option.xAxisIndex!=-1){r[w].push(this.option.type!="time"?v[0]:i.getNewDate(v[0]))}if(this.option.yAxisIndex!=-1){r[w].push(this.option.type!="time"?v[1]:i.getNewDate(v[1]))}}else{r[w].push(v)}}}}else{x=this.series[s].data;for(var q=0,p=x.length;q<p;q++){var y=x[q].evolution;for(var o=0,l=y.length;o<l;o++){r[w].push(i.getNewDate(y[o].time))}}}}else{var t="__Magic_Key_Positive__"+this.series[s].stack;var u="__Magic_Key_Negative__"+this.series[s].stack;r[t]=r[t]||[];r[u]=r[u]||[];r[w]=r[w]||[];x=this.series[s].data;for(var q=0,p=x.length;q<p;q++){v=this.getDataFromOption(x[q]);if(v==="-"){continue}v=v-0;if(v>=0){if(r[t][q]!=null){r[t][q]+=v}else{r[t][q]=v}}else{if(r[u][q]!=null){r[u][q]+=v}else{r[u][q]=v}}if(this.option.scale){r[w].push(v)}}}},_reformValue:function(l){var j=c("../util/smartSteps");var m=this.option.splitNumber;if(!l&&this._min>=0&&this._max>=0){this._min=0}if(!l&&this._min<=0&&this._max<=0){this._max=0}var k=j(this._min,this._max,m);m=m!=null?m:k.secs;this._min=k.min;this._max=k.max;this._valueList=k.pnts;this._reformLabelData()},_reformTimeValue:function(){var n=this.option.splitNumber!=null?this.option.splitNumber:5;var m=i.getAutoFormatter(this._min,this._max,n);var k=m.formatter;var l=m.gapValue;this._valueList=[i.getNewDate(this._min)];var j;switch(k){case"week":j=i.nextMonday(this._min);break;case"month":j=i.nextNthOnMonth(this._min,1);break;case"quarter":j=i.nextNthOnQuarterYear(this._min,1);break;case"half-year":j=i.nextNthOnHalfYear(this._min,1);break;case"year":j=i.nextNthOnYear(this._min,1);break;default:if(l<=3600000*2){j=(Math.floor(this._min/l)+1)*l}else{j=i.getNewDate(this._min- -l);j.setHours(Math.round(j.getHours()/6)*6);j.setMinutes(0);j.setSeconds(0)}break}if(j-this._min<l/2){j-=-l}m=i.getNewDate(j);n*=1.5;while(n-->=0){if(k=="month"||k=="quarter"||k=="half-year"||k=="year"){m.setDate(1)}if(this._max-m<l/2){break}this._valueList.push(m);m=i.getNewDate(m- -l)}this._valueList.push(i.getNewDate(this._max));this._reformLabelData(function(o){return function(p){return i.format(o,p)}}(k))},_customerValue:function(){var k=c("../util/accMath");var m=this.option.splitNumber!=null?this.option.splitNumber:5;var l=(this._max-this._min)/m;this._valueList=[];for(var j=0;j<=m;j++){this._valueList.push(k.accAdd(this._min,k.accMul(l,j)))}this._reformLabelData()},_reformLogValue:function(){var k=this.option;var j=c("../util/smartLogSteps")({dataMin:this._min,dataMax:this._max,logPositive:k.logPositive,logLabelBase:k.logLabelBase,splitNumber:k.splitNumber});this._min=j.dataMin;this._max=j.dataMax;this._valueList=j.tickList;this._dataMappingMethods=j.dataMappingMethods;this._reformLabelData(j.labelFormatter)},_reformLabelData:function(n){this._valueLabel=[];var m=this.option.axisLabel.formatter;if(m){for(var k=0,j=this._valueList.length;k<j;k++){if(typeof m==="function"){this._valueLabel.push(n?m.call(this.myChart,this._valueList[k],n):m.call(this.myChart,this._valueList[k]))}else{if(typeof m==="string"){this._valueLabel.push(n?i.format(m,this._valueList[k]):m.replace("{value}",this._valueList[k]))}}}}else{for(var k=0,j=this._valueList.length;k<j;k++){this._valueLabel.push(n?n(this._valueList[k]):this.numAddCommas(this._valueList[k]))}}},getExtremum:function(){this._calculateValue();var j=this._dataMappingMethods;return{min:this._min,max:this._max,dataMappingMethods:j?e.merge({},j):null}},refresh:function(k,j){if(k){this.option=this.reformOption(k);this.option.axisLabel.textStyle=e.merge(this.option.axisLabel.textStyle||{},this.ecTheme.textStyle);this.series=j}if(this.zr){this.clear();this._buildShape()}},getCoord:function(k){if(this._dataMappingMethods){k=this._dataMappingMethods.value2Coord(k)}k=k<this._min?this._min:k;k=k>this._max?this._max:k;var j;if(!this.isHorizontal()){j=this.grid.getYend()-(k-this._min)/(this._max-this._min)*this.grid.getHeight()}else{j=this.grid.getX()+(k-this._min)/(this._max-this._min)*this.grid.getWidth()}return j},getCoordSize:function(j){if(!this.isHorizontal()){return Math.abs(j/(this._max-this._min)*this.grid.getHeight())}else{return Math.abs(j/(this._max-this._min)*this.grid.getWidth())}},getValueFromCoord:function(k){var j;if(!this.isHorizontal()){k=k<this.grid.getY()?this.grid.getY():k;k=k>this.grid.getYend()?this.grid.getYend():k;j=this._max-(k-this.grid.getY())/this.grid.getHeight()*(this._max-this._min)}else{k=k<this.grid.getX()?this.grid.getX():k;k=k>this.grid.getXend()?this.grid.getXend():k;j=this._min+(k-this.grid.getX())/this.grid.getWidth()*(this._max-this._min)}if(this._dataMappingMethods){j=this._dataMappingMethods.coord2Value(j)}return j.toFixed(2)-0},isMaindAxis:function(m){for(var k=0,j=this._valueList.length;k<j;k++){if(this._valueList[k]===m){return true}}return false}};e.inherits(a,f);c("../component").define("valueAxis",a);return a});define("echarts/util/date",[],function(){var a=[{formatter:"hh : mm : ss",value:1000},{formatter:"hh : mm : ss",value:1000*5},{formatter:"hh : mm : ss",value:1000*10},{formatter:"hh : mm : ss",value:1000*15},{formatter:"hh : mm : ss",value:1000*30},{formatter:"hh : mm\nMM - dd",value:60000},{formatter:"hh : mm\nMM - dd",value:60000*5},{formatter:"hh : mm\nMM - dd",value:60000*10},{formatter:"hh : mm\nMM - dd",value:60000*15},{formatter:"hh : mm\nMM - dd",value:60000*30},{formatter:"hh : mm\nMM - dd",value:3600000},{formatter:"hh : mm\nMM - dd",value:3600000*2},{formatter:"hh : mm\nMM - dd",value:3600000*6},{formatter:"hh : mm\nMM - dd",value:3600000*12},{formatter:"MM - dd\nyyyy",value:3600000*24},{formatter:"week",value:3600000*24*7},{formatter:"month",value:3600000*24*31},{formatter:"quarter",value:3600000*24*380/4},{formatter:"half-year",value:3600000*24*380/2},{formatter:"year",value:3600000*24*380}];function e(r,t,m){m=m>1?m:2;var q;var o;var u;var n;for(var s=0,p=a.length;s<p;s++){q=a[s].value;o=Math.ceil(t/q)*q-Math.floor(r/q)*q;if(Math.round(o/q)<=m*1.2){u=a[s].formatter;n=a[s].value;break}}if(u==null){u="year";q=3600000*24*367;o=Math.ceil(t/q)*q-Math.floor(r/q)*q;n=Math.round(o/(m-1)/q)*q}return{formatter:u,gapValue:n}}function b(l){return l<10?"0"+l:l}function k(u,t){if(u=="week"||u=="month"||u=="quarter"||u=="half-year"||u=="year"){u="MM - dd\nyyyy"}var l=j(t);var r=l.getFullYear();var p=l.getMonth()+1;var q=l.getDate();var o=l.getHours();var n=l.getMinutes();var v=l.getSeconds();u=u.replace("MM",b(p));u=u.toLowerCase();u=u.replace("yyyy",r);u=u.replace("yy",r%100);u=u.replace("dd",b(q));u=u.replace("d",q);u=u.replace("hh",b(o));u=u.replace("h",o);u=u.replace("mm",b(n));u=u.replace("m",n);u=u.replace("ss",b(v));u=u.replace("s",v);return u}function c(l){l=j(l);l.setDate(l.getDate()+8-l.getDay());return l}function h(n,m,l){n=j(n);n.setMonth(Math.ceil((n.getMonth()+1)/l)*l);n.setDate(m);return n}function f(m,l){return h(m,l,1)}function i(m,l){return h(m,l,3)}function g(m,l){return h(m,l,6)}function d(m,l){return h(m,l,12)}function j(l){return l instanceof Date?l:new Date(typeof l=="string"?l.replace(/-/g,"/"):l)}return{getAutoFormatter:e,getNewDate:j,format:k,nextMonday:c,nextNthPerNmonth:h,nextNthOnMonth:f,nextNthOnQuarterYear:i,nextNthOnHalfYear:g,nextNthOnYear:d}});define("echarts/util/smartSteps",[],function(){var j=[10,20,25,50];var C=[4,5,6];var g;var m;var c;var r;var D;var l=Math;var q=l.round;var o=l.floor;var y=l.ceil;var s=l.abs;function n(F){return l.log(s(F))/l.LN10}function f(F){return l.pow(10,F)}function v(F){return F===o(F)}function z(G,F,J,I){g=I||{};m=g.steps||j;c=g.secs||C;J=q(+J||0)%99;G=+G||0;F=+F||0;r=D=0;if("min" in g){G=+g.min||0;r=1}if("max" in g){F=+g.max||0;D=1}if(G>F){F=[G,G=F][0]}var H=F-G;if(r&&D){return b(G,F,J)}if(H<(J||5)){if(v(G)&&v(F)){return B(G,F,J)}else{if(H===0){return e(G,F,J)}}}return i(G,F,J)}function a(H,K,N,P){P=P||0;var J=x((K-H)/N,-1);var M=x(H,-1,1);var F=x(K,-1);var R=l.min(J.e,M.e,F.e);if(M.c===0){R=l.min(J.e,F.e)}else{if(F.c===0){R=l.min(J.e,M.e)}}h(J,{c:0,e:R});h(M,J,1);h(F,J);P+=R;H=M.c;K=F.c;var G=(K-H)/N;var Q=f(P);var L=0;var O=[];for(var I=N+1;I--;){O[I]=(H+G*I)*Q}if(P<0){L=E(Q);G=+(G*Q).toFixed(L);H=+(H*Q).toFixed(L);K=+(K*Q).toFixed(L);for(var I=O.length;I--;){O[I]=O[I].toFixed(L);+O[I]===0&&(O[I]="0")}}else{H*=Q;K*=Q;G*=Q}c=0;m=0;g=0;return{min:H,max:K,secs:N,step:G,fix:L,exp:P,pnts:O}}function x(F,J,G){J=q(J%10)||2;if(J<0){if(v(F)){J=(""+s(F)).replace(/0+$/,"").length||1}else{F=F.toFixed(15).replace(/0+$/,"");J=F.replace(".","").replace(/^[-0]+/,"").length;F=+F}}var H=o(n(F))-J+1;var I=+(F*f(-H)).toFixed(15)||0;I=G?o(I):y(I);!I&&(H=0);if((""+s(I)).length>J){H+=1;I/=10}return{c:I,e:H}}function h(G,F,I){var H=F.e-G.e;if(H){G.e+=H;G.c*=f(-H);G.c=I?o(G.c):y(G.c)}}function A(G,F,H){if(G.e<F.e){h(F,G,H)}else{h(G,F,H)}}function p(G,F){F=F||j;G=x(G);var I=G.c;var H=0;while(I>F[H]){H++}if(!F[H]){I/=10;G.e+=1;H=0;while(I>F[H]){H++}}G.c=F[H];return G}function i(I,M,O){var H;var L=O||+c.slice(-1);var K=p((M-I)/L,m);var F=x(M-I);var N=x(I,-1,1);var G=x(M,-1);h(F,K);h(N,K,1);h(G,K);if(!O){L=k(N,G)}else{H=u(N,G,L)}if(v(I)&&v(M)&&I*M>=0){if(M-I<L){return B(I,M,L)}L=d(I,M,O,N,G,L)}var J=t(I,M,N.c,G.c);N.c=J[0];G.c=J[1];if(r||D){w(I,M,N,G)}return a(N.c,G.c,L,G.e)}function k(M,K){var L;var I,J,G;var F=[];for(var H=c.length;H--;){L=c[H];I=p((K.c-M.c)/L,m);I=I.c*f(I.e);J=o(M.c/I)*I;G=y(K.c/I)*I;F[H]={min:J,max:G,step:I,span:G-J}}F.sort(function(O,N){var P=O.span-N.span;if(P===0){P=O.step-N.step}return P});F=F[0];L=F.span/F.step;M.c=F.min;K.c=F.max;return L<3?L*2:L}function u(N,G,K){var O;var M;var I=G.c;var H=(G.c-N.c)/K-1;while(I>N.c){H=p(H+1,m);H=H.c*f(H.e);O=H*K;M=y(G.c/H)*H;I=M-O}var F=N.c-I;var J=M-G.c;var L=F-J;if(L>H*1.1){L=q(L/H/2)*H;I+=L;M+=L}N.c=I;G.c=M;return H}function d(H,J,L,K,F,I){var M=F.c-K.c;var G=M/I*f(F.e);if(!v(G)){G=o(G);M=G*I;if(M<J-H){G+=1;M=G*I;if(!L&&G*(I-1)>=J-H){I-=1;M=G*I}}if(M>=J-H){var N=M-(J-H);K.c=q(H-N/2);F.c=q(J+N/2);K.e=0;F.e=0}}return I}function B(H,F,J){J=J||5;if(r){F=H+J}else{if(D){H=F-J}else{var L=J-(F-H);var K=q(H-L/2);var I=q(F+L/2);var G=t(H,F,K,I);H=G[0];F=G[1]}}return a(H,F,J)}function e(G,F,H){H=H||5;var I=l.min(s(F/H),H)/2.1;if(r){F=G+I}else{if(D){G=F-I}else{G=G-I;F=F+I}}return i(G,F,H)}function t(G,F,I,H){if(G>=0&&I<0){H-=I;I=0}else{if(F<=0&&H>0){I-=H;H=0}}return[I,H]}function E(F){F=(+F).toFixed(15).split(".");return F.pop().replace(/0+$/,"").length}function w(G,F,J,H){if(r){var K=x(G,4,1);if(J.e-K.e>6){K={c:0,e:J.e}}A(J,K);A(H,K);H.c+=K.c-J.c;J.c=K.c}else{if(D){var I=x(F,4);if(H.e-I.e>6){I={c:0,e:H.e}}A(J,I);A(H,I);J.c+=I.c-H.c;H.c=I.c}}}function b(O,R,T){var K=T?[T]:c;var U=R-O;if(U===0){R=x(R,3);T=K[0];R.c=q(R.c+T/2);return a(R.c-T,R.c,T,R.e)}if(s(R/U)<0.000001){R=0}if(s(O/U)<0.000001){O=0}var I,H,J;var Q=[[5,10],[10,2],[50,10],[100,2]];var L=[];var M=[];var F=x(R-O,3);var S=x(O,-1,1);var G=x(R,-1);h(S,F,1);h(G,F);U=G.c-S.c;F.c=U;for(var P=K.length;P--;){T=K[P];I=y(U/T);H=I*T-U;J=(H+3)*3;J+=(T-K[0]+2)*2;if(T%5===0){J-=10}for(var N=Q.length;N--;){if(I%Q[N][0]===0){J/=Q[N][1]}}M[P]=[T,I,H,J].join();L[P]={secs:T,step:I,delta:H,score:J}}L.sort(function(W,V){return W.score-V.score});L=L[0];S.c=q(S.c-L.delta/2);G.c=q(G.c+L.delta/2);return a(S.c,G.c,L.secs,F.e)}return z});define("echarts/util/smartLogSteps",["require","./number"],function(f){var K=f("./number");var B=Math;var m=B.log;var s=B.pow;var w=B.abs;var y=B.ceil;var H=B.floor;var u=B.E;var D=B.LN10;var n=B.LN2;var c=n/D;var o=1e-9;var e=5;var l=2;var b={"0":"⁰","1":"¹","2":"²","3":"³","4":"⁴","5":"⁵","6":"⁶","7":"⁷","8":"⁸","9":"⁹","-":"⁻"};var k;var g;var F;var I;var d;var q;var a;var j;var z;var p;function A(L){t();d=L||{};h();C();return[r(),t()][0]}function t(){k=d=a=I=j=z=q=p=g=F=null}function h(){g=d.logLabelBase;if(g==null){F="plain";g=10;I=D}else{g=+g;if(g<1){g=10}F="exponent";I=m(g)}q=d.splitNumber;q==null&&(q=e);var M=parseFloat(d.dataMin);var L=parseFloat(d.dataMax);if(!isFinite(M)&&!isFinite(L)){M=L=1}else{if(!isFinite(M)){M=L}else{if(!isFinite(L)){L=M}else{if(M>L){L=[M,M=L][0]}}}}k=d.logPositive;if(k==null){k=L>0||M===0}j=k?M:-L;z=k?L:-M;j<o&&(j=o);z<o&&(z=o)}function C(){p=[];var V=v(m(z)/I);var M=v(m(j)/I);var R=y(V);var U=H(M);var S=R-U;var T=V-M;if(F==="exponent"){Q()}else{!(S<=l&&q>l)?Q():N()}function Q(){if(S<q){q=S}var X=H(v(S/q));var ab=y(v(S/X));var W=X*ab;var Z=(W-T)/2;var Y=H(v(M-Z));if(J(Y-M)){Y-=1}a=-Y*I;for(var aa=Y;aa-X<=V;aa+=X){p.push(s(g,aa))}}function N(){var aa=L(U,0);var W=aa+2;while(aa<W&&P(aa+1)+O(aa+1)*c<M){aa++}var ab=L(R,0);var W=ab-2;while(ab>W&&P(ab-1)+O(ab-1)*c>V){ab--}a=-(P(aa)*D+O(aa)*n);for(var Y=aa;Y<=ab;Y++){var Z=P(Y);var X=O(Y);p.push(s(10,Z)*s(2,X))}}function L(X,W){return X*3+W}function O(W){return W-P(W)*3}function P(W){return H(v(W/3))}}function r(){var O=[];for(var R=0,N=p.length;R<N;R++){O[R]=(k?1:-1)*p[R]}!k&&O.reverse();var Q=x();var M=Q.value2Coord;var P=M(O[0]);var L=M(O[O.length-1]);if(P===L){P-=1;L+=1}return{dataMin:P,dataMax:L,tickList:O,logPositive:k,labelFormatter:i(),dataMappingMethods:Q}}function i(){if(F==="exponent"){var L=g;var M=I;return function(O){if(!isFinite(parseFloat(O))){return""}var N="";if(O<0){O=-O;N="-"}return N+L+E(m(O)/M)}}else{return function(N){if(!isFinite(parseFloat(N))){return""}return K.addCommas(G(N))}}}function x(){var L=k;var M=a;return{value2Coord:function(N){if(N==null||isNaN(N)||!isFinite(N)){return N}N=parseFloat(N);if(!isFinite(N)){N=o}else{if(L&&N<o){N=o}else{if(!L&&N>-o){N=-o}}}N=w(N);return(L?1:-1)*(m(N)+M)},coord2Value:function(N){if(N==null||isNaN(N)||!isFinite(N)){return N}N=parseFloat(N);if(!isFinite(N)){N=o}return L?s(u,N-M):-s(u,-N+M)}}}function v(L){return +Number(+L).toFixed(14)}function G(L){return Number(L).toFixed(15).replace(/\.?0*$/,"")}function E(P){P=G(Math.round(P));var N=[];for(var O=0,M=P.length;O<M;O++){var L=P.charAt(O);N.push(b[L]||"")}return N.join("")}function J(L){return L>-o&&L<o}return A});define(["echarts"],function(a){return a});