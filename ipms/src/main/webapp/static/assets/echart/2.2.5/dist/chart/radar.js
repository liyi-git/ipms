define("echarts/chart/radar",["require","./base","zrender/shape/Polygon","../component/polar","../config","../util/ecData","zrender/tool/util","zrender/tool/color","../util/accMath","../chart"],function(e){var g=e("./base");var b=e("zrender/shape/Polygon");e("../component/polar");var a=e("../config");a.radar={zlevel:0,z:2,clickable:true,legendHoverLink:true,polarIndex:0,itemStyle:{normal:{label:{show:false},lineStyle:{width:2,type:"solid"}},emphasis:{label:{show:false}}},symbolSize:2};var f=e("../util/ecData");var d=e("zrender/tool/util");var h=e("zrender/tool/color");function c(l,i,m,k,j){g.call(this,l,i,m,k,j);this.refresh(k)}c.prototype={type:a.CHART_TYPE_RADAR,_buildShape:function(){this.selectedMap={};this._symbol=this.option.symbolList;this._queryTarget;this._dropBoxList=[];this._radarDataCounter=0;var n=this.series;var o=this.component.legend;var m;for(var k=0,j=n.length;k<j;k++){if(n[k].type===a.CHART_TYPE_RADAR){this.serie=this.reformOption(n[k]);this.legendHoverLink=n[k].legendHoverLink||this.legendHoverLink;m=this.serie.name||"";this.selectedMap[m]=o?o.isSelected(m):true;if(this.selectedMap[m]){this._queryTarget=[this.serie,this.option];if(this.deepQuery(this._queryTarget,"calculable")){this._addDropBox(k)}this._buildSingleRadar(k);this.buildMark(k)}}}this.addShapeList()},_buildSingleRadar:function(q){var r=this.component.legend;var j;var o=this.serie.data;var m;var l;var k;var p=this.deepQuery(this._queryTarget,"calculable");for(var n=0;n<o.length;n++){l=o[n].name||"";this.selectedMap[l]=r?r.isSelected(l):true;if(!this.selectedMap[l]){continue}if(r){m=r.getColor(l);j=r.getItemShape(l);if(j){j.style.brushType=this.deepQuery([o[n],this.serie],"itemStyle.normal.areaStyle")?"both":"stroke";r.setItemShape(l,j)}}else{m=this.zr.getColor(n)}k=this._getPointList(this.serie.polarIndex,o[n]);this._addSymbol(k,m,n,q,this.serie.polarIndex);this._addDataShape(k,m,o[n],q,n,p);this._radarDataCounter++}},_getPointList:function(n,p){var j=[];var m;var r=this.component.polar;var q;for(var o=0,k=p.value.length;o<k;o++){q=this.getDataFromOption(p.value[o]);m=q!="-"?r.getVector(n,o,q):false;if(m){j.push(m)}}return j},_addSymbol:function(j,n,t,p,s){var r=this.series;var m;var k=this.component.polar;for(var q=0,o=j.length;q<o;q++){m=this.getSymbolShape(this.deepMerge([r[p].data[t],r[p]]),p,r[p].data[t].value[q],q,k.getIndicatorText(s,q),j[q][0],j[q][1],this._symbol[this._radarDataCounter%this._symbol.length],n,"#fff","vertical");m.zlevel=this.getZlevelBase();m.z=this.getZBase()+1;f.set(m,"data",r[p].data[t]);f.set(m,"value",r[p].data[t].value);f.set(m,"dataIndex",t);f.set(m,"special",q);this.shapeList.push(m)}},_addDataShape:function(j,l,o,m,s,q){var p=this.series;var k=[o,this.serie];var t=this.getItemStyleColor(this.deepQuery(k,"itemStyle.normal.color"),m,s,o);var v=this.deepQuery(k,"itemStyle.normal.lineStyle.width");var i=this.deepQuery(k,"itemStyle.normal.lineStyle.type");var n=this.deepQuery(k,"itemStyle.normal.areaStyle.color");var u=this.deepQuery(k,"itemStyle.normal.areaStyle");var r={zlevel:this.getZlevelBase(),z:this.getZBase(),style:{pointList:j,brushType:u?"both":"stroke",color:n||t||(typeof l==="string"?h.alpha(l,0.5):l),strokeColor:t||l,lineWidth:v,lineType:i},highlightStyle:{brushType:this.deepQuery(k,"itemStyle.emphasis.areaStyle")||u?"both":"stroke",color:this.deepQuery(k,"itemStyle.emphasis.areaStyle.color")||n||t||(typeof l==="string"?h.alpha(l,0.5):l),strokeColor:this.getItemStyleColor(this.deepQuery(k,"itemStyle.emphasis.color"),m,s,o)||t||l,lineWidth:this.deepQuery(k,"itemStyle.emphasis.lineStyle.width")||v,lineType:this.deepQuery(k,"itemStyle.emphasis.lineStyle.type")||i}};f.pack(r,p[m],m,o,s,o.name,this.component.polar.getIndicator(p[m].polarIndex));if(q){r.draggable=true;this.setCalculable(r)}r=new b(r);this.shapeList.push(r)},_addDropBox:function(k){var l=this.series;var j=this.deepQuery(this._queryTarget,"polarIndex");if(!this._dropBoxList[j]){var i=this.component.polar.getDropBox(j);i.zlevel=this.getZlevelBase();i.z=this.getZBase();this.setCalculable(i);f.pack(i,l,k,undefined,-1);this.shapeList.push(i);this._dropBoxList[j]=true}},ondragend:function(n,i){var l=this.series;if(!this.isDragend||!n.target){return}var m=n.target;var j=f.get(m,"seriesIndex");var k=f.get(m,"dataIndex");this.component.legend&&this.component.legend.del(l[j].data[k].name);l[j].data.splice(k,1);i.dragOut=true;i.needRefresh=true;this.isDragend=false;return},ondrop:function(j,l){var o=this.series;if(!this.isDrop||!j.target){return}var q=j.target;var r=j.dragged;var k=f.get(q,"seriesIndex");var s=f.get(q,"dataIndex");var n;var u=this.component.legend;var t;if(s===-1){n={value:f.get(r,"value"),name:f.get(r,"name")};o[k].data.push(n);u&&u.add(n.name,r.style.color||r.style.strokeColor)}else{var p=e("../util/accMath");n=o[k].data[s];u&&u.del(n.name);n.name+=this.option.nameConnector+f.get(r,"name");t=f.get(r,"value");for(var m=0;m<t.length;m++){n.value[m]=p.accAdd(n.value[m],t[m])}u&&u.add(n.name,r.style.color||r.style.strokeColor)}l.dragIn=l.dragIn||true;this.isDrop=false;return},refresh:function(i){if(i){this.option=i;this.series=i.series}this.backupShapeList();this._buildShape()}};d.inherits(c,g);e("../chart").define("radar",c);return c});define("echarts/component/polar",["require","./base","zrender/shape/Text","zrender/shape/Line","zrender/shape/Polygon","zrender/shape/Circle","zrender/shape/Ring","../config","zrender/tool/util","../util/coordinates","../util/accMath","../util/smartSteps","../component"],function(c){var g=c("./base");var e=c("zrender/shape/Text");var b=c("zrender/shape/Line");var f=c("zrender/shape/Polygon");var a=c("zrender/shape/Circle");var i=c("zrender/shape/Ring");var j=c("../config");j.polar={zlevel:0,z:0,center:["50%","50%"],radius:"75%",startAngle:90,boundaryGap:[0,0],splitNumber:5,name:{show:true,textStyle:{color:"#333"}},axisLine:{show:true,lineStyle:{color:"#ccc",width:1,type:"solid"}},axisLabel:{show:false,textStyle:{color:"#333"}},splitArea:{show:true,areaStyle:{color:["rgba(250,250,250,0.3)","rgba(200,200,200,0.3)"]}},splitLine:{show:true,lineStyle:{width:1,color:"#ccc"}},type:"polygon"};var d=c("zrender/tool/util");var h=c("../util/coordinates");function k(o,l,p,n,m){g.call(this,o,l,p,n,m);this.refresh(n)}k.prototype={type:j.COMPONENT_TYPE_POLAR,_buildShape:function(){for(var l=0;l<this.polar.length;l++){this._index=l;this.reformOption(this.polar[l]);this._queryTarget=[this.polar[l],this.option];this._createVector(l);this._buildSpiderWeb(l);this._buildText(l);this._adjustIndicatorValue(l);this._addAxisLabel(l)}for(var l=0;l<this.shapeList.length;l++){this.zr.addShape(this.shapeList[l])}},_createVector:function(p){var u=this.polar[p];var s=this.deepQuery(this._queryTarget,"indicator");var l=s.length;var r=u.startAngle;var t=2*Math.PI/l;var q=this._getRadius();var n=u.__ecIndicator=[];var m;for(var o=0;o<l;o++){m=h.polar2cartesian(q,r*Math.PI/180+t*o);n.push({vector:[m[1],-m[0]]})}},_getRadius:function(){var l=this.polar[this._index];return this.parsePercent(l.radius,Math.min(this.zr.getWidth(),this.zr.getHeight())/2)},_buildSpiderWeb:function(q){var u=this.polar[q];var o=u.__ecIndicator;var t=u.splitArea;var r=u.splitLine;var l=this.getCenter(q);var m=u.splitNumber;var v=r.lineStyle.color;var p=r.lineStyle.width;var s=r.show;var n=this.deepQuery(this._queryTarget,"axisLine");this._addArea(o,m,l,t,v,p,s);n.show&&this._addLine(o,l,n)},_addAxisLabel:function(q){var r=c("../util/accMath");var C=this.polar[q];var t=this.deepQuery(this._queryTarget,"indicator");var m=C.__ecIndicator;var v;var l;var B;var w;var p=this.deepQuery(this._queryTarget,"splitNumber");var E=this.getCenter(q);var l;var x;var u;var s;var o;var D;for(var A=0;A<t.length;A++){v=this.deepQuery([t[A],C,this.option],"axisLabel");if(v.show){var n=this.deepQuery([v,C,this.option],"textStyle");var z=this.deepQuery([v,C],"formatter");B={};B.textFont=this.getFont(n);B.color=n.color;B=d.merge(B,v);B.lineWidth=B.width;l=m[A].vector;x=m[A].value;s=A/t.length*2*Math.PI;o=v.offset||10;D=v.interval||0;if(!x){return}for(var y=1;y<=p;y+=D+1){w=d.merge({},B);u=r.accAdd(x.min,r.accMul(x.step,y));if(typeof z==="function"){u=z(u)}else{if(typeof z==="string"){u=z.replace("{a}","{a0}").replace("{a0}",u)}else{u=this.numAddCommas(u)}}w.text=u;w.x=y*l[0]/p+Math.cos(s)*o+E[0];w.y=y*l[1]/p+Math.sin(s)*o+E[1];this.shapeList.push(new e({zlevel:this.getZlevelBase(),z:this.getZBase(),style:w,draggable:false,hoverable:false}))}}}},_buildText:function(t){var B=this.polar[t];var r=B.__ecIndicator;var p;var z=this.deepQuery(this._queryTarget,"indicator");var l=this.getCenter(t);var n;var o;var m;var A;var w=0;var v=0;var q;var u;for(var s=0;s<z.length;s++){m=this.deepQuery([z[s],B,this.option],"name");if(!m.show){continue}u=this.deepQuery([m,B,this.option],"textStyle");n={};n.textFont=this.getFont(u);n.color=u.color;if(typeof m.formatter=="function"){n.text=m.formatter.call(this.myChart,z[s].text,s)}else{if(typeof m.formatter=="string"){n.text=m.formatter.replace("{value}",z[s].text)}else{n.text=z[s].text}}r[s].text=n.text;p=r[s].vector;if(Math.round(p[0])>0){o="left"}else{if(Math.round(p[0])<0){o="right"}else{o="center"}}if(m.margin==null){p=this._mapVector(p,l,1.1)}else{q=m.margin;w=p[0]>0?q:-q;v=p[1]>0?q:-q;w=p[0]===0?0:w;v=p[1]===0?0:v;p=this._mapVector(p,l,1)}n.textAlign=o;n.x=p[0]+w;n.y=p[1]+v;if(m.rotate){A=[m.rotate/180*Math.PI,p[0],p[1]]}else{A=[0,0,0]}this.shapeList.push(new e({zlevel:this.getZlevelBase(),z:this.getZBase(),style:n,draggable:false,hoverable:false,rotation:A}))}},getIndicatorText:function(l,m){return this.polar[l]&&this.polar[l].__ecIndicator[m]&&this.polar[l].__ecIndicator[m].text},getDropBox:function(q){var q=q||0;var u=this.polar[q];var l=this.getCenter(q);var o=u.__ecIndicator;var r=o.length;var m=[];var n;var s;var t=u.type;if(t=="polygon"){for(var p=0;p<r;p++){n=o[p].vector;m.push(this._mapVector(n,l,1.2))}s=this._getShape(m,"fill","rgba(0,0,0,0)","",1)}else{if(t=="circle"){s=this._getCircle("",1,1.2,l,"fill","rgba(0,0,0,0)")}}return s},_addArea:function(p,n,m,w,x,r,v){var t;var o;var s;var l;var u=this.deepQuery(this._queryTarget,"type");for(var q=0;q<n;q++){o=(n-q)/n;if(v){if(u=="polygon"){l=this._getPointList(p,o,m);t=this._getShape(l,"stroke","",x,r)}else{if(u=="circle"){t=this._getCircle(x,r,o,m,"stroke")}}this.shapeList.push(t)}if(w.show){s=(n-q-1)/n;this._addSplitArea(p,w,o,s,m,q)}}},_getCircle:function(q,n,r,m,p,o){var l=this._getRadius();return new a({zlevel:this.getZlevelBase(),z:this.getZBase(),style:{x:m[0],y:m[1],r:l*r,brushType:p,strokeColor:q,lineWidth:n,color:o},hoverable:false,draggable:false})},_getRing:function(n,p,o,m){var l=this._getRadius();return new i({zlevel:this.getZlevelBase(),z:this.getZBase(),style:{x:m[0],y:m[1],r:p*l,r0:o*l,color:n,brushType:"fill"},hoverable:false,draggable:false})},_getPointList:function(q,r,n){var m=[];var l=q.length;var o;for(var p=0;p<l;p++){o=q[p].vector;m.push(this._mapVector(o,n,r))}return m},_getShape:function(m,p,n,o,l){return new f({zlevel:this.getZlevelBase(),z:this.getZBase(),style:{pointList:m,brushType:p,color:n,strokeColor:o,lineWidth:l},hoverable:false,draggable:false})},_addSplitArea:function(q,A,p,v,m,s){var n=q.length;var r;var x=A.areaStyle.color;var z;var o;var u;var l=[];var n=q.length;var w;var y=this.deepQuery(this._queryTarget,"type");if(typeof x=="string"){x=[x]}z=x.length;r=x[s%z];if(y=="polygon"){for(var t=0;t<n;t++){l=[];o=q[t].vector;u=q[(t+1)%n].vector;l.push(this._mapVector(o,m,p));l.push(this._mapVector(o,m,v));l.push(this._mapVector(u,m,v));l.push(this._mapVector(u,m,p));w=this._getShape(l,"fill",r,"",1);this.shapeList.push(w)}}else{if(y=="circle"){w=this._getRing(r,p,v,m);this.shapeList.push(w)}}},_mapVector:function(m,l,n){return[m[0]*n+l[0],m[1]*n+l[1]]},getCenter:function(l){var l=l||0;return this.parseCenter(this.zr,this.polar[l].center)},_addLine:function(p,l,m){var n=p.length;var v;var o;var r=m.lineStyle;var u=r.color;var s=r.width;var t=r.type;for(var q=0;q<n;q++){o=p[q].vector;v=this._getLine(l[0],l[1],o[0]+l[0],o[1]+l[1],u,s,t);this.shapeList.push(v)}},_getLine:function(r,o,m,q,n,l,p){return new b({zlevel:this.getZlevelBase(),z:this.getZBase(),style:{xStart:r,yStart:o,xEnd:m,yEnd:q,strokeColor:n,lineWidth:l,lineType:p},hoverable:false})},_adjustIndicatorValue:function(v){var A=this.polar[v];var z=this.deepQuery(this._queryTarget,"indicator");var w=z.length;var r=A.__ecIndicator;var x;var s;var u=this._getSeriesData(v);var o=A.boundaryGap;var n=A.splitNumber;var q=A.scale;var m;var l=c("../util/smartSteps");for(var t=0;t<w;t++){if(typeof z[t].max=="number"){x=z[t].max;s=z[t].min||0;m={max:x,min:s}}else{var y=this._findValue(u,t,n,o);s=y.min;x=y.max}if(!q&&s>=0&&x>=0){s=0}if(!q&&s<=0&&x<=0){x=0}var p=l(s,x,n,m);r[t].value={min:p.min,max:p.max,step:p.step}}},_getSeriesData:function(n){var r=[];var q;var s;var p=this.component.legend;var m;for(var o=0;o<this.series.length;o++){q=this.series[o];if(q.type!=j.CHART_TYPE_RADAR){continue}s=q.data||[];for(var l=0;l<s.length;l++){m=this.deepQuery([s[l],q,this.option],"polarIndex")||0;if(m==n&&(!p||p.isSelected(s[l].name))){r.push(s[l])}}}return r},_findValue:function(q,s,m,n){var t;var o;var r;if(!q||q.length===0){return}function l(v){(v>t||t===undefined)&&(t=v);(v<o||o===undefined)&&(o=v)}if(q.length==1){o=0}if(q.length!=1){for(var p=0;p<q.length;p++){l(this.getDataFromOption(q[p].value[s]))}}else{r=q[0];for(var p=0;p<r.value.length;p++){l(this.getDataFromOption(r.value[p]))}}var u=Math.abs(t-o);o=o-Math.abs(u*n[0]);t=t+Math.abs(u*n[1]);if(o===t){if(t===0){t=1}else{if(t>0){o=t/m}else{t=t/m}}}return{max:t,min:o}},getVector:function(q,u,s){q=q||0;u=u||0;var o=this.polar[q].__ecIndicator;if(u>=o.length){return}var t=this.polar[q].__ecIndicator[u];var l=this.getCenter(q);var m=t.vector;var r=t.value.max;var p=t.value.min;var n;if(typeof s=="undefined"){return l}switch(s){case"min":s=p;break;case"max":s=r;break;case"center":s=(r+p)/2;break}if(r!=p){n=(s-p)/(r-p)}else{n=0.5}return this._mapVector(m,l,n)},isInside:function(l){var m=this.getNearestIndex(l);if(m){return m.polarIndex}return -1},getNearestIndex:function(m){var v;var l;var q;var u;var s;var t;var r;var n;var p;for(var o=0;o<this.polar.length;o++){v=this.polar[o];l=this.getCenter(o);if(m[0]==l[0]&&m[1]==l[1]){return{polarIndex:o,valueIndex:0}}q=this._getRadius();s=v.startAngle;t=v.indicator;r=t.length;n=2*Math.PI/r;u=h.cartesian2polar(m[0]-l[0],l[1]-m[1]);if(m[0]-l[0]<0){u[1]+=Math.PI}if(u[1]<0){u[1]+=2*Math.PI}p=u[1]-s/180*Math.PI+Math.PI*2;if(Math.abs(Math.cos(p%(n/2)))*q>u[0]){return{polarIndex:o,valueIndex:Math.floor((p+n/2)/n)%r}}}},getIndicator:function(l){var l=l||0;return this.polar[l].indicator},refresh:function(l){if(l){this.option=l;this.polar=this.option.polar;this.series=this.option.series}this.clear();this._buildShape()}};d.inherits(k,g);c("../component").define("polar",k);return k});define("echarts/util/coordinates",["require","zrender/tool/math"],function(a){var c=a("zrender/tool/math");function d(f,e){return[f*c.sin(e),f*c.cos(e)]}function b(e,f){return[Math.sqrt(e*e+f*f),Math.atan(f/e)]}return{polar2cartesian:d,cartesian2polar:b}});define(["echarts","echarts/chart/radar"],function(a){return a});